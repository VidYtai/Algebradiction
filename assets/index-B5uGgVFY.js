(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Qp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eu={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Yy(){if(Em)return uo;Em=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(a,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:h,ref:c!==void 0?c:null,props:d}}return uo.Fragment=e,uo.jsx=l,uo.jsxs=l,uo}var Sm;function Jy(){return Sm||(Sm=1,eu.exports=Yy()),eu.exports}var A=Jy(),tu={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function $y(){if(xm)return Ee;xm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,V={};function k(x,B,$){this.props=x,this.context=B,this.refs=V,this.updater=$||R}k.prototype.isReactComponent={},k.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},k.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=k.prototype;function z(x,B,$){this.props=x,this.context=B,this.refs=V,this.updater=$||R}var F=z.prototype=new X;F.constructor=z,I(F,k.prototype),F.isPureReactComponent=!0;var Q=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function re(x,B,$,O,ee,Me){return $=Me.ref,{$$typeof:n,type:x,key:B,ref:$!==void 0?$:null,props:Me}}function ne(x,B){return re(x.type,B,void 0,void 0,void 0,x.props)}function ie(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function W(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function($){return B[$]})}var oe=/\/+/g;function Se(x,B){return typeof x=="object"&&x!==null&&x.key!=null?W(""+x.key):B.toString(36)}function De(){}function Ae(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(De,De):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function he(x,B,$,O,ee){var Me=typeof x;(Me==="undefined"||Me==="boolean")&&(x=null);var ce=!1;if(x===null)ce=!0;else switch(Me){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(x.$$typeof){case n:case e:ce=!0;break;case v:return ce=x._init,he(ce(x._payload),B,$,O,ee)}}if(ce)return ee=ee(x),ce=O===""?"."+Se(x,0):O,Q(ee)?($="",ce!=null&&($=ce.replace(oe,"$&/")+"/"),he(ee,B,$,"",function(Z){return Z})):ee!=null&&(ie(ee)&&(ee=ne(ee,$+(ee.key==null||x&&x.key===ee.key?"":(""+ee.key).replace(oe,"$&/")+"/")+ce)),B.push(ee)),1;ce=0;var Le=O===""?".":O+":";if(Q(x))for(var Ce=0;Ce<x.length;Ce++)O=x[Ce],Me=Le+Se(O,Ce),ce+=he(O,B,$,Me,ee);else if(Ce=S(x),typeof Ce=="function")for(x=Ce.call(x),Ce=0;!(O=x.next()).done;)O=O.value,Me=Le+Se(O,Ce++),ce+=he(O,B,$,Me,ee);else if(Me==="object"){if(typeof x.then=="function")return he(Ae(x),B,$,O,ee);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ce}function L(x,B,$){if(x==null)return x;var O=[],ee=0;return he(x,O,"","",function(Me){return B.call($,Me,ee++)}),O}function K(x){if(x._status===-1){var B=x._result;B=B(),B.then(function($){(x._status===0||x._status===-1)&&(x._status=1,x._result=$)},function($){(x._status===0||x._status===-1)&&(x._status=2,x._result=$)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var de=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function be(){}return Ee.Children={map:L,forEach:function(x,B,$){L(x,function(){B.apply(this,arguments)},$)},count:function(x){var B=0;return L(x,function(){B++}),B},toArray:function(x){return L(x,function(B){return B})||[]},only:function(x){if(!ie(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ee.Component=k,Ee.Fragment=l,Ee.Profiler=c,Ee.PureComponent=z,Ee.StrictMode=a,Ee.Suspense=y,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(x){return H.H.useMemoCache(x)}},Ee.cache=function(x){return function(){return x.apply(null,arguments)}},Ee.cloneElement=function(x,B,$){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var O=I({},x.props),ee=x.key,Me=void 0;if(B!=null)for(ce in B.ref!==void 0&&(Me=void 0),B.key!==void 0&&(ee=""+B.key),B)!te.call(B,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&B.ref===void 0||(O[ce]=B[ce]);var ce=arguments.length-2;if(ce===1)O.children=$;else if(1<ce){for(var Le=Array(ce),Ce=0;Ce<ce;Ce++)Le[Ce]=arguments[Ce+2];O.children=Le}return re(x.type,ee,void 0,void 0,Me,O)},Ee.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},Ee.createElement=function(x,B,$){var O,ee={},Me=null;if(B!=null)for(O in B.key!==void 0&&(Me=""+B.key),B)te.call(B,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(ee[O]=B[O]);var ce=arguments.length-2;if(ce===1)ee.children=$;else if(1<ce){for(var Le=Array(ce),Ce=0;Ce<ce;Ce++)Le[Ce]=arguments[Ce+2];ee.children=Le}if(x&&x.defaultProps)for(O in ce=x.defaultProps,ce)ee[O]===void 0&&(ee[O]=ce[O]);return re(x,Me,void 0,void 0,null,ee)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(x){return{$$typeof:g,render:x}},Ee.isValidElement=ie,Ee.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:K}},Ee.memo=function(x,B){return{$$typeof:p,type:x,compare:B===void 0?null:B}},Ee.startTransition=function(x){var B=H.T,$={};H.T=$;try{var O=x(),ee=H.S;ee!==null&&ee($,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(be,de)}catch(Me){de(Me)}finally{H.T=B}},Ee.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ee.use=function(x){return H.H.use(x)},Ee.useActionState=function(x,B,$){return H.H.useActionState(x,B,$)},Ee.useCallback=function(x,B){return H.H.useCallback(x,B)},Ee.useContext=function(x){return H.H.useContext(x)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(x,B){return H.H.useDeferredValue(x,B)},Ee.useEffect=function(x,B,$){var O=H.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return O.useEffect(x,B)},Ee.useId=function(){return H.H.useId()},Ee.useImperativeHandle=function(x,B,$){return H.H.useImperativeHandle(x,B,$)},Ee.useInsertionEffect=function(x,B){return H.H.useInsertionEffect(x,B)},Ee.useLayoutEffect=function(x,B){return H.H.useLayoutEffect(x,B)},Ee.useMemo=function(x,B){return H.H.useMemo(x,B)},Ee.useOptimistic=function(x,B){return H.H.useOptimistic(x,B)},Ee.useReducer=function(x,B,$){return H.H.useReducer(x,B,$)},Ee.useRef=function(x){return H.H.useRef(x)},Ee.useState=function(x){return H.H.useState(x)},Ee.useSyncExternalStore=function(x,B,$){return H.H.useSyncExternalStore(x,B,$)},Ee.useTransition=function(){return H.H.useTransition()},Ee.version="19.1.0",Ee}var _m;function xu(){return _m||(_m=1,tu.exports=$y()),tu.exports}var Y=xu();const Ky=Qp(Y);var nu={exports:{}},co={},iu={exports:{}},lu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Xy(){return Am||(Am=1,function(n){function e(L,K){var de=L.length;L.push(K);e:for(;0<de;){var be=de-1>>>1,x=L[be];if(0<c(x,K))L[be]=K,L[de]=x,de=be;else break e}}function l(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var K=L[0],de=L.pop();if(de!==K){L[0]=de;e:for(var be=0,x=L.length,B=x>>>1;be<B;){var $=2*(be+1)-1,O=L[$],ee=$+1,Me=L[ee];if(0>c(O,de))ee<x&&0>c(Me,O)?(L[be]=Me,L[ee]=de,be=ee):(L[be]=O,L[$]=de,be=$);else if(ee<x&&0>c(Me,de))L[be]=Me,L[ee]=de,be=ee;else break e}}return K}function c(L,K){var de=L.sortIndex-K.sortIndex;return de!==0?de:L.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();n.unstable_now=function(){return h.now()-g}}var y=[],p=[],v=1,E=null,S=3,R=!1,I=!1,V=!1,k=!1,X=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(L){for(var K=l(p);K!==null;){if(K.callback===null)a(p);else if(K.startTime<=L)a(p),K.sortIndex=K.expirationTime,e(y,K);else break;K=l(p)}}function H(L){if(V=!1,Q(L),!I)if(l(y)!==null)I=!0,te||(te=!0,Se());else{var K=l(p);K!==null&&he(H,K.startTime-L)}}var te=!1,re=-1,ne=5,ie=-1;function W(){return k?!0:!(n.unstable_now()-ie<ne)}function oe(){if(k=!1,te){var L=n.unstable_now();ie=L;var K=!0;try{e:{I=!1,V&&(V=!1,z(re),re=-1),R=!0;var de=S;try{t:{for(Q(L),E=l(y);E!==null&&!(E.expirationTime>L&&W());){var be=E.callback;if(typeof be=="function"){E.callback=null,S=E.priorityLevel;var x=be(E.expirationTime<=L);if(L=n.unstable_now(),typeof x=="function"){E.callback=x,Q(L),K=!0;break t}E===l(y)&&a(y),Q(L)}else a(y);E=l(y)}if(E!==null)K=!0;else{var B=l(p);B!==null&&he(H,B.startTime-L),K=!1}}break e}finally{E=null,S=de,R=!1}K=void 0}}finally{K?Se():te=!1}}}var Se;if(typeof F=="function")Se=function(){F(oe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ae=De.port2;De.port1.onmessage=oe,Se=function(){Ae.postMessage(null)}}else Se=function(){X(oe,0)};function he(L,K){re=X(function(){L(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(L){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var de=S;S=K;try{return L()}finally{S=de}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var de=S;S=L;try{return K()}finally{S=de}},n.unstable_scheduleCallback=function(L,K,de){var be=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?be+de:be):de=be,L){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=de+x,L={id:v++,callback:K,priorityLevel:L,startTime:de,expirationTime:x,sortIndex:-1},de>be?(L.sortIndex=de,e(p,L),l(y)===null&&L===l(p)&&(V?(z(re),re=-1):V=!0,he(H,de-be))):(L.sortIndex=x,e(y,L),I||R||(I=!0,te||(te=!0,Se()))),L},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(L){var K=S;return function(){var de=S;S=K;try{return L.apply(this,arguments)}finally{S=de}}}}(lu)),lu}var Mm;function Qy(){return Mm||(Mm=1,iu.exports=Xy()),iu.exports}var ou={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Zy(){if(Rm)return At;Rm=1;var n=xu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:y,containerInfo:p,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,At.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(y,p,null,v)},At.flushSync=function(y){var p=h.T,v=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=p,a.p=v,a.d.f()}},At.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},At.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},At.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,E=g(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:R}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:S,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},At.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},At.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=g(v,p.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},At.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},At.requestFormReset=function(y){a.d.r(y)},At.unstable_batchedUpdates=function(y,p){return y(p)},At.useFormState=function(y,p,v){return h.H.useFormState(y,p,v)},At.useFormStatus=function(){return h.H.useHostTransitionStatus()},At.version="19.1.0",At}var Nm;function Wy(){if(Nm)return ou.exports;Nm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ou.exports=Zy(),ou.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function jy(){if(bm)return co;bm=1;var n=Qy(),e=xu(),l=Wy();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return g(f),t;if(m===u)return g(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,C=f.child;C;){if(C===o){T=!0,o=f,u=m;break}if(C===u){T=!0,u=f,o=m;break}C=C.sibling}if(!T){for(C=m.child;C;){if(C===o){T=!0,o=m,u=f;break}if(C===u){T=!0,u=m,o=f;break}C=C.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var De=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===De?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case k:return"Profiler";case V:return"StrictMode";case H:return"Suspense";case te:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case F:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case Q:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case re:return i=t.displayName||null,i!==null?i:Ae(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return Ae(t(i))}catch{}}return null}var he=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},be=[],x=-1;function B(t){return{current:t}}function $(t){0>x||(t.current=be[x],be[x]=null,x--)}function O(t,i){x++,be[x]=t.current,t.current=i}var ee=B(null),Me=B(null),ce=B(null),Le=B(null);function Ce(t,i){switch(O(ce,i),O(Me,t),O(ee,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xd(i),t=Qd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ee),O(ee,t)}function Z(){$(ee),$(Me),$(ce)}function Ze(t){t.memoizedState!==null&&O(Le,t);var i=ee.current,o=Qd(i,t.type);i!==o&&(O(Me,t),O(ee,o))}function Xe(t){Me.current===t&&($(ee),$(Me)),Le.current===t&&($(Le),lo._currentValue=de)}var Et=Object.prototype.hasOwnProperty,Rt=n.unstable_scheduleCallback,Nt=n.unstable_cancelCallback,ae=n.unstable_shouldYield,ve=n.unstable_requestPaint,ye=n.unstable_now,$e=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,gt=n.unstable_UserBlockingPriority,ot=n.unstable_NormalPriority,Oe=n.unstable_LowPriority,je=n.unstable_IdlePriority,zt=n.log,bt=n.unstable_setDisableYieldValue,St=null,Fe=null;function ut(t){if(typeof zt=="function"&&bt(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(St,t)}catch{}}var Te=Math.clz32?Math.clz32:nt,cn=Math.log,at=Math.LN2;function nt(t){return t>>>=0,t===0?32:31-(cn(t)/at|0)|0}var Ye=256,bn=4194304;function ti(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vo(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=u&134217727;return C!==0?(u=C&~m,u!==0?f=ti(u):(T&=C,T!==0?f=ti(T):o||(o=C&~t,o!==0&&(f=ti(o))))):(C=u&~m,C!==0?f=ti(C):T!==0?f=ti(T):o||(o=u&~t,o!==0&&(f=ti(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function ml(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Uh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=Ye;return Ye<<=1,(Ye&4194048)===0&&(Ye=256),t}function Uu(){var t=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),t}function za(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function pl(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ih(t,i,o,u,f,m){var T=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var C=t.entanglements,_=t.expirationTimes,D=t.hiddenUpdates;for(o=T&~o;0<o;){var P=31-Te(o),q=1<<P;C[P]=0,_[P]=-1;var w=D[P];if(w!==null)for(D[P]=null,P=0;P<w.length;P++){var U=w[P];U!==null&&(U.lane&=-536870913)}o&=~q}u!==0&&Iu(t,u,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function Iu(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Te(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function Lu(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-Te(o),f=1<<u;f&i|t[u]&i&&(t[u]|=i),o&=~f}}function Fa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ya(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:hm(t.type))}function Lh(t,i){var o=K.p;try{return K.p=t,i()}finally{K.p=o}}var Dn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Dn,wt="__reactProps$"+Dn,Ei="__reactContainer$"+Dn,Ja="__reactEvents$"+Dn,Oh="__reactListeners$"+Dn,Vh="__reactHandles$"+Dn,Vu="__reactResources$"+Dn,hl="__reactMarker$"+Dn;function $a(t){delete t[xt],delete t[wt],delete t[Ja],delete t[Oh],delete t[Vh]}function Si(t){var i=t[xt];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Ei]||o[xt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=em(t);t!==null;){if(o=t[xt])return o;t=em(t)}return i}t=o,o=t.parentNode}return null}function xi(t){if(t=t[xt]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function gl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function _i(t){var i=t[Vu];return i||(i=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[hl]=!0}var Pu=new Set,Gu={};function ni(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(Gu[t]=i,t=0;t<i.length;t++)Pu.add(i[t])}var Ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},Bu={};function Gh(t){return Et.call(Bu,t)?!0:Et.call(qu,t)?!1:Ph.test(t)?Bu[t]=!0:(qu[t]=!0,!1)}function To(t,i,o){if(Gh(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function Co(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function fn(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}var Ka,ku;function Mi(t){if(Ka===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ka=i&&i[1]||"",ku=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+t+ku}var Xa=!1;function Qa(t,i){if(!t||Xa)return"";Xa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var w=U}Reflect.construct(t,[],q)}else{try{q.call()}catch(U){w=U}t.call(q.prototype)}}else{try{throw Error()}catch(U){w=U}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&w&&typeof U.stack=="string")return[U.stack,w.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],C=m[1];if(T&&C){var _=T.split(`
`),D=C.split(`
`);for(f=u=0;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(u===_.length||f===D.length)for(u=_.length-1,f=D.length-1;1<=u&&0<=f&&_[u]!==D[f];)f--;for(;1<=u&&0<=f;u--,f--)if(_[u]!==D[f]){if(u!==1||f!==1)do if(u--,f--,0>f||_[u]!==D[f]){var P=`
`+_[u].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=u&&0<=f);break}}}finally{Xa=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Mi(o):""}function qh(t){switch(t.tag){case 26:case 27:case 5:return Mi(t.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return Qa(t.type,!1);case 11:return Qa(t.type.render,!1);case 1:return Qa(t.type,!0);case 31:return Mi("Activity");default:return""}}function Hu(t){try{var i="";do i+=qh(t),t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bh(t){var i=zu(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Eo(t){t._valueTracker||(t._valueTracker=Bh(t))}function Fu(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=zu(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function So(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kh=/[\n"\\]/g;function Yt(t){return t.replace(kh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Za(t,i,o,u,f,m,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Wa(t,T,Ft(i)):o!=null?Wa(t,T,Ft(o)):u!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Ft(C):t.removeAttribute("name")}function Yu(t,i,o,u,f,m,T,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;o=o!=null?""+Ft(o):"",i=i!=null?""+Ft(i):o,C||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=C?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Wa(t,i,o){i==="number"&&So(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Ri(t,i,o,u){if(t=t.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=i.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ft(o),i=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Ju(t,i,o){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Ft(o):""}function $u(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(he(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Ft(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function Ni(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||Hh.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Xu(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Ku(t,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Ku(t,m,i[m])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(t){return Fh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var es=null;function ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,Di=null;function Qu(t){var i=xi(t);if(i&&(t=i.stateNode)){var o=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Za(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Yt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var f=u[wt]||null;if(!f)throw Error(a(90));Za(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&Fu(u)}break e;case"textarea":Ju(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ri(t,!!o.multiple,i,!1)}}}var ns=!1;function Zu(t,i,o){if(ns)return t(i,o);ns=!0;try{var u=t(i);return u}finally{if(ns=!1,(bi!==null||Di!==null)&&(ra(),bi&&(i=bi,t=Di,Di=bi=null,Qu(i),t)))for(i=0;i<t.length;i++)Qu(t[i])}}function yl(t,i){var o=t.stateNode;if(o===null)return null;var u=o[wt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(dn)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){is=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{is=!1}var wn=null,ls=null,_o=null;function Wu(){if(_o)return _o;var t,i=ls,o=i.length,u,f="value"in wn?wn.value:wn.textContent,m=f.length;for(t=0;t<o&&i[t]===f[t];t++);var T=o-t;for(u=1;u<=T&&i[o-u]===f[m-u];u++);return _o=f.slice(t,1<u?1-u:void 0)}function Ao(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Mo(){return!0}function ju(){return!1}function Ut(t){function i(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Mo:ju,this.isPropagationStopped=ju,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=Ut(ii),Tl=v({},ii,{view:0,detail:0}),Yh=Ut(Tl),os,as,Cl,No=v({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cl&&(Cl&&t.type==="mousemove"?(os=t.screenX-Cl.screenX,as=t.screenY-Cl.screenY):as=os=0,Cl=t),os)},movementY:function(t){return"movementY"in t?t.movementY:as}}),ec=Ut(No),Jh=v({},No,{dataTransfer:0}),$h=Ut(Jh),Kh=v({},Tl,{relatedTarget:0}),ss=Ut(Kh),Xh=v({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=Ut(Xh),Zh=v({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wh=Ut(Zh),jh=v({},ii,{data:0}),tc=Ut(jh),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ig(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ng[t])?!!i[t]:!1}function rs(){return ig}var lg=v({},Tl,{key:function(t){if(t.key){var i=eg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ao(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(t){return t.type==="keypress"?Ao(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ao(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),og=Ut(lg),ag=v({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=Ut(ag),sg=v({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),rg=Ut(sg),ug=v({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),cg=Ut(ug),fg=v({},No,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dg=Ut(fg),mg=v({},ii,{newState:0,oldState:0}),pg=Ut(mg),hg=[9,13,27,32],us=dn&&"CompositionEvent"in window,El=null;dn&&"documentMode"in document&&(El=document.documentMode);var gg=dn&&"TextEvent"in window&&!El,ic=dn&&(!us||El&&8<El&&11>=El),lc=" ",oc=!1;function ac(t,i){switch(t){case"keyup":return hg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function yg(t,i){switch(t){case"compositionend":return sc(i);case"keypress":return i.which!==32?null:(oc=!0,lc);case"textInput":return t=i.data,t===lc&&oc?null:t;default:return null}}function vg(t,i){if(wi)return t==="compositionend"||!us&&ac(t,i)?(t=Wu(),_o=ls=wn=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ic&&i.locale!=="ko"?null:i.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Tg[t.type]:i==="textarea"}function uc(t,i,o,u){bi?Di?Di.push(u):Di=[u]:bi=u,i=pa(i,"onChange"),0<i.length&&(o=new Ro("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var Sl=null,xl=null;function Cg(t){Fd(t,0)}function bo(t){var i=gl(t);if(Fu(i))return t}function cc(t,i){if(t==="change")return i}var fc=!1;if(dn){var cs;if(dn){var fs="oninput"in document;if(!fs){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),fs=typeof dc.oninput=="function"}cs=fs}else cs=!1;fc=cs&&(!document.documentMode||9<document.documentMode)}function mc(){Sl&&(Sl.detachEvent("onpropertychange",pc),xl=Sl=null)}function pc(t){if(t.propertyName==="value"&&bo(xl)){var i=[];uc(i,xl,t,ts(t)),Zu(Cg,i)}}function Eg(t,i,o){t==="focusin"?(mc(),Sl=i,xl=o,Sl.attachEvent("onpropertychange",pc)):t==="focusout"&&mc()}function Sg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bo(xl)}function xg(t,i){if(t==="click")return bo(i)}function _g(t,i){if(t==="input"||t==="change")return bo(i)}function Ag(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Vt=typeof Object.is=="function"?Object.is:Ag;function _l(t,i){if(Vt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Et.call(i,f)||!Vt(t[f],i[f]))return!1}return!0}function hc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gc(t,i){var o=hc(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hc(o)}}function yc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=So(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=So(t.document)}return i}function ds(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Mg=dn&&"documentMode"in document&&11>=document.documentMode,Ui=null,ms=null,Al=null,ps=!1;function Tc(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ps||Ui==null||Ui!==So(u)||(u=Ui,"selectionStart"in u&&ds(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Al&&_l(Al,u)||(Al=u,u=pa(ms,"onSelect"),0<u.length&&(i=new Ro("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Ui)))}function li(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Ii={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},hs={},Cc={};dn&&(Cc=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function oi(t){if(hs[t])return hs[t];if(!Ii[t])return t;var i=Ii[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Cc)return hs[t]=i[o];return t}var Ec=oi("animationend"),Sc=oi("animationiteration"),xc=oi("animationstart"),Rg=oi("transitionrun"),Ng=oi("transitionstart"),bg=oi("transitioncancel"),_c=oi("transitionend"),Ac=new Map,gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gs.push("scrollEnd");function en(t,i){Ac.set(t,i),ni(i,[t])}var Mc=new WeakMap;function Jt(t,i){if(typeof t=="object"&&t!==null){var o=Mc.get(t);return o!==void 0?o:(i={value:t,source:i,stack:Hu(i)},Mc.set(t,i),i)}return{value:t,source:i,stack:Hu(i)}}var $t=[],Li=0,ys=0;function Do(){for(var t=Li,i=ys=Li=0;i<t;){var o=$t[i];$t[i++]=null;var u=$t[i];$t[i++]=null;var f=$t[i];$t[i++]=null;var m=$t[i];if($t[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Rc(o,f,m)}}function wo(t,i,o,u){$t[Li++]=t,$t[Li++]=i,$t[Li++]=o,$t[Li++]=u,ys|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function vs(t,i,o,u){return wo(t,i,o,u),Uo(t)}function Oi(t,i){return wo(t,null,null,i),Uo(t)}function Rc(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=t.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-Te(o),t=m.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function Uo(t){if(50<Ql)throw Ql=0,_r=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Vi={};function Dg(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,i,o,u){return new Dg(t,i,o,u)}function Ts(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mn(t,i){var o=t.alternate;return o===null?(o=Pt(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Nc(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Io(t,i,o,u,f,m){var T=0;if(u=t,typeof t=="function")Ts(t)&&(T=1);else if(typeof t=="string")T=Uy(t,o,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=Pt(31,o,i,f),t.elementType=ie,t.lanes=m,t;case I:return ai(o.children,f,m,i);case V:T=8,f|=24;break;case k:return t=Pt(12,o,i,f|2),t.elementType=k,t.lanes=m,t;case H:return t=Pt(13,o,i,f),t.elementType=H,t.lanes=m,t;case te:return t=Pt(19,o,i,f),t.elementType=te,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case F:T=10;break e;case z:T=9;break e;case Q:T=11;break e;case re:T=14;break e;case ne:T=16,u=null;break e}T=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=Pt(T,o,i,f),i.elementType=t,i.type=u,i.lanes=m,i}function ai(t,i,o,u){return t=Pt(7,t,u,i),t.lanes=o,t}function Cs(t,i,o){return t=Pt(6,t,null,i),t.lanes=o,t}function Es(t,i,o){return i=Pt(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Pi=[],Gi=0,Lo=null,Oo=0,Kt=[],Xt=0,si=null,pn=1,hn="";function ri(t,i){Pi[Gi++]=Oo,Pi[Gi++]=Lo,Lo=t,Oo=i}function bc(t,i,o){Kt[Xt++]=pn,Kt[Xt++]=hn,Kt[Xt++]=si,si=t;var u=pn;t=hn;var f=32-Te(u)-1;u&=~(1<<f),o+=1;var m=32-Te(i)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,pn=1<<32-Te(i)+f|o<<f|u,hn=m+t}else pn=1<<m|o<<f|u,hn=t}function Ss(t){t.return!==null&&(ri(t,1),bc(t,1,0))}function xs(t){for(;t===Lo;)Lo=Pi[--Gi],Pi[Gi]=null,Oo=Pi[--Gi],Pi[Gi]=null;for(;t===si;)si=Kt[--Xt],Kt[Xt]=null,hn=Kt[--Xt],Kt[Xt]=null,pn=Kt[--Xt],Kt[Xt]=null}var Dt=null,et=null,Ie=!1,ui=null,on=!1,_s=Error(a(519));function ci(t){var i=Error(a(418,""));throw Nl(Jt(i,t)),_s}function Dc(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[xt]=t,i[wt]=u,o){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(o=0;o<Wl.length;o++)Ne(Wl[o],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Yu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Eo(i);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),$u(i,u.value,u.defaultValue,u.children),Eo(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Kd(i.textContent,o)?(u.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),u.onScroll!=null&&Ne("scroll",i),u.onScrollEnd!=null&&Ne("scrollend",i),u.onClick!=null&&(i.onclick=ha),i=!0):i=!1,i||ci(t)}function wc(t){for(Dt=t.return;Dt;)switch(Dt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Dt=Dt.return}}function Ml(t){if(t!==Dt)return!1;if(!Ie)return wc(t),Ie=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Br(t.type,t.memoizedProps)),o=!o),o&&et&&ci(t),wc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(i===0){et=nn(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;t=t.nextSibling}et=null}}else i===27?(i=et,$n(t.type)?(t=Fr,Fr=null,et=t):et=i):et=Dt?nn(t.stateNode.nextSibling):null;return!0}function Rl(){et=Dt=null,Ie=!1}function Uc(){var t=ui;return t!==null&&(Ot===null?Ot=t:Ot.push.apply(Ot,t),ui=null),t}function Nl(t){ui===null?ui=[t]:ui.push(t)}var As=B(null),fi=null,gn=null;function Un(t,i,o){O(As,i._currentValue),i._currentValue=o}function yn(t){t._currentValue=As.current,$(As)}function Ms(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function Rs(t,i,o,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var _=0;_<i.length;_++)if(C.context===i[_]){m.lanes|=o,C=m.alternate,C!==null&&(C.lanes|=o),Ms(m.return,o,t),u||(T=null);break e}m=C.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Ms(T,o,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function bl(t,i,o,u){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=f.type;Vt(f.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(f===Le.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(lo):t=[lo])}f=f.return}t!==null&&Rs(i,t,o,u),i.flags|=262144}function Vo(t){for(t=t.firstContext;t!==null;){if(!Vt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function di(t){fi=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return Ic(fi,t)}function Po(t,i){return fi===null&&di(t),Ic(t,i)}function Ic(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},gn===null){if(t===null)throw Error(a(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return o}var wg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},Ug=n.unstable_scheduleCallback,Ig=n.unstable_NormalPriority,ct={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ns(){return{controller:new wg,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&Ug(Ig,function(){t.controller.abort()})}var wl=null,bs=0,qi=0,Bi=null;function Lg(t,i){if(wl===null){var o=wl=[];bs=0,qi=wr(),Bi={status:"pending",value:void 0,then:function(u){o.push(u)}}}return bs++,i.then(Lc,Lc),i}function Lc(){if(--bs===0&&wl!==null){Bi!==null&&(Bi.status="fulfilled");var t=wl;wl=null,qi=0,Bi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Og(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Oc=L.S;L.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Lg(t,i),Oc!==null&&Oc(t,i)};var mi=B(null);function Ds(){var t=mi.current;return t!==null?t:Je.pooledCache}function Go(t,i){i===null?O(mi,mi.current):O(mi,i.pool)}function Vc(){var t=Ds();return t===null?null:{parent:ct._currentValue,pool:t}}var Ul=Error(a(460)),Pc=Error(a(474)),qo=Error(a(542)),ws={then:function(){}};function Gc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bo(){}function qc(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(Bo,Bo),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kc(t),t;default:if(typeof i.status=="string")i.then(Bo,Bo);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kc(t),t}throw Il=i,Ul}}var Il=null;function Bc(){if(Il===null)throw Error(a(459));var t=Il;return Il=null,t}function kc(t){if(t===Ul||t===qo)throw Error(a(483))}var In=!1;function Us(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Is(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ln(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function On(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Uo(t),Rc(t,null,o),i}return wo(t,u,i,o),Uo(t)}function Ll(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Lu(t,o)}}function Ls(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Os=!1;function Ol(){if(Os){var t=Bi;if(t!==null)throw t}}function Vl(t,i,o,u){Os=!1;var f=t.updateQueue;In=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var _=C,D=_.next;_.next=null,T===null?m=D:T.next=D,T=_;var P=t.alternate;P!==null&&(P=P.updateQueue,C=P.lastBaseUpdate,C!==T&&(C===null?P.firstBaseUpdate=D:C.next=D,P.lastBaseUpdate=_))}if(m!==null){var q=f.baseState;T=0,P=D=_=null,C=m;do{var w=C.lane&-536870913,U=w!==C.lane;if(U?(we&w)===w:(u&w)===w){w!==0&&w===qi&&(Os=!0),P!==null&&(P=P.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ge=t,me=C;w=i;var ke=o;switch(me.tag){case 1:if(ge=me.payload,typeof ge=="function"){q=ge.call(ke,q,w);break e}q=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=me.payload,w=typeof ge=="function"?ge.call(ke,q,w):ge,w==null)break e;q=v({},q,w);break e;case 2:In=!0}}w=C.callback,w!==null&&(t.flags|=64,U&&(t.flags|=8192),U=f.callbacks,U===null?f.callbacks=[w]:U.push(w))}else U={lane:w,tag:C.tag,payload:C.payload,callback:C.callback,next:null},P===null?(D=P=U,_=q):P=P.next=U,T|=w;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;U=C,C=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);P===null&&(_=q),f.baseState=_,f.firstBaseUpdate=D,f.lastBaseUpdate=P,m===null&&(f.shared.lanes=0),zn|=T,t.lanes=T,t.memoizedState=q}}function Hc(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function zc(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Hc(o[t],i)}var ki=B(null),ko=B(0);function Fc(t,i){t=_n,O(ko,t),O(ki,i),_n=t|i.baseLanes}function Vs(){O(ko,_n),O(ki,ki.current)}function Ps(){_n=ko.current,$(ki),$(ko)}var Vn=0,xe=null,qe=null,st=null,Ho=!1,Hi=!1,pi=!1,zo=0,Pl=0,zi=null,Vg=0;function it(){throw Error(a(321))}function Gs(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Vt(t[o],i[o]))return!1;return!0}function qs(t,i,o,u,f,m){return Vn=m,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?Nf:bf,pi=!1,m=o(u,f),pi=!1,Hi&&(m=Jc(i,o,u,f)),Yc(t),m}function Yc(t){L.H=Xo;var i=qe!==null&&qe.next!==null;if(Vn=0,st=qe=xe=null,Ho=!1,Pl=0,zi=null,i)throw Error(a(300));t===null||mt||(t=t.dependencies,t!==null&&Vo(t)&&(mt=!0))}function Jc(t,i,o,u){xe=t;var f=0;do{if(Hi&&(zi=null),Pl=0,Hi=!1,25<=f)throw Error(a(301));if(f+=1,st=qe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=zg,m=i(o,u)}while(Hi);return m}function Pg(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?Gl(i):i,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(xe.flags|=1024),i}function Bs(){var t=zo!==0;return zo=0,t}function ks(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Hs(t){if(Ho){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ho=!1}Vn=0,st=qe=xe=null,Hi=!1,Pl=zo=0,zi=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?xe.memoizedState=st=t:st=st.next=t,st}function rt(){if(qe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var i=st===null?xe.memoizedState:st.next;if(i!==null)st=i,qe=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},st===null?xe.memoizedState=st=t:st=st.next=t}return st}function zs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(t){var i=Pl;return Pl+=1,zi===null&&(zi=[]),t=qc(zi,t,i),i=xe,(st===null?i.memoizedState:st.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Nf:bf),t}function Fo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gl(t);if(t.$$typeof===F)return _t(t)}throw Error(a(438,String(t)))}function Fs(t){var i=null,o=xe.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=zs(),xe.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=W;return i.index++,o}function vn(t,i){return typeof i=="function"?i(t):i}function Yo(t){var i=rt();return Ys(i,qe,t)}function Ys(t,i,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var f=t.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,u.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var C=T=null,_=null,D=i,P=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(we&q)===q:(Vn&q)===q){var w=D.revertLane;if(w===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===qi&&(P=!0);else if((Vn&w)===w){D=D.next,w===qi&&(P=!0);continue}else q={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(C=_=q,T=m):_=_.next=q,xe.lanes|=w,zn|=w;q=D.action,pi&&o(m,q),m=D.hasEagerState?D.eagerState:o(m,q)}else w={lane:q,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(C=_=w,T=m):_=_.next=w,xe.lanes|=q,zn|=q;D=D.next}while(D!==null&&D!==i);if(_===null?T=m:_.next=C,!Vt(m,t.memoizedState)&&(mt=!0,P&&(o=Bi,o!==null)))throw o;t.memoizedState=m,t.baseState=T,t.baseQueue=_,u.lastRenderedState=m}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Js(t){var i=rt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);Vt(m,i.memoizedState)||(mt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function $c(t,i,o){var u=xe,f=rt(),m=Ie;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!Vt((qe||f).memoizedState,o);T&&(f.memoizedState=o,mt=!0),f=f.queue;var C=Qc.bind(null,u,f,t);if(ql(2048,8,C,[t]),f.getSnapshot!==i||T||st!==null&&st.memoizedState.tag&1){if(u.flags|=2048,Fi(9,Jo(),Xc.bind(null,u,f,o,i),null),Je===null)throw Error(a(349));m||(Vn&124)!==0||Kc(u,i,o)}return o}function Kc(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=xe.updateQueue,i===null?(i=zs(),xe.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Xc(t,i,o,u){i.value=o,i.getSnapshot=u,Zc(i)&&Wc(t)}function Qc(t,i,o){return o(function(){Zc(i)&&Wc(t)})}function Zc(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Vt(t,o)}catch{return!0}}function Wc(t){var i=Oi(t,2);i!==null&&Ht(i,t,2)}function $s(t){var i=It();if(typeof t=="function"){var o=t;if(t=o(),pi){ut(!0);try{o()}finally{ut(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function jc(t,i,o,u){return t.baseState=o,Ys(t,qe,typeof u=="function"?u:vn)}function Gg(t,i,o,u,f){if(Ko(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};L.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,ef(i,m)):(m.next=o.next,i.pending=o.next=m)}}function ef(t,i){var o=i.action,u=i.payload,f=t.state;if(i.isTransition){var m=L.T,T={};L.T=T;try{var C=o(f,u),_=L.S;_!==null&&_(T,C),tf(t,i,C)}catch(D){Ks(t,i,D)}finally{L.T=m}}else try{m=o(f,u),tf(t,i,m)}catch(D){Ks(t,i,D)}}function tf(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){nf(t,i,u)},function(u){return Ks(t,i,u)}):nf(t,i,o)}function nf(t,i,o){i.status="fulfilled",i.value=o,lf(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,ef(t,o)))}function Ks(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,lf(i),i=i.next;while(i!==u)}t.action=null}function lf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function of(t,i){return i}function af(t,i){if(Ie){var o=Je.formState;if(o!==null){e:{var u=xe;if(Ie){if(et){t:{for(var f=et,m=on;f.nodeType!==8;){if(!m){f=null;break t}if(f=nn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){et=nn(f.nextSibling),u=f.data==="F!";break e}}ci(u)}u=!1}u&&(i=o[0])}}return o=It(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:i},o.queue=u,o=Af.bind(null,xe,u),u.dispatch=o,u=$s(!1),m=js.bind(null,xe,!1,u.queue),u=It(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,o=Gg.bind(null,xe,f,m,o),f.dispatch=o,u.memoizedState=t,[i,o,!1]}function sf(t){var i=rt();return rf(i,qe,t)}function rf(t,i,o){if(i=Ys(t,i,of)[0],t=Yo(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Gl(i)}catch(T){throw T===Ul?qo:T}else u=i;i=rt();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(xe.flags|=2048,Fi(9,Jo(),qg.bind(null,f,o),null)),[u,m,t]}function qg(t,i){t.action=i}function uf(t){var i=rt(),o=qe;if(o!==null)return rf(i,o,t);rt(),i=i.memoizedState,o=rt();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function Fi(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=xe.updateQueue,i===null&&(i=zs(),xe.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function Jo(){return{destroy:void 0,resource:void 0}}function cf(){return rt().memoizedState}function $o(t,i,o,u){var f=It();u=u===void 0?null:u,xe.flags|=t,f.memoizedState=Fi(1|i,Jo(),o,u)}function ql(t,i,o,u){var f=rt();u=u===void 0?null:u;var m=f.memoizedState.inst;qe!==null&&u!==null&&Gs(u,qe.memoizedState.deps)?f.memoizedState=Fi(i,m,o,u):(xe.flags|=t,f.memoizedState=Fi(1|i,m,o,u))}function ff(t,i){$o(8390656,8,t,i)}function df(t,i){ql(2048,8,t,i)}function mf(t,i){return ql(4,2,t,i)}function pf(t,i){return ql(4,4,t,i)}function hf(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gf(t,i,o){o=o!=null?o.concat([t]):null,ql(4,4,hf.bind(null,i,t),o)}function Xs(){}function yf(t,i){var o=rt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Gs(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function vf(t,i){var o=rt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Gs(i,u[1]))return u[0];if(u=t(),pi){ut(!0);try{t()}finally{ut(!1)}}return o.memoizedState=[u,i],u}function Qs(t,i,o){return o===void 0||(Vn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=o,t=Ed(),xe.lanes|=t,zn|=t,o)}function Tf(t,i,o,u){return Vt(o,i)?o:ki.current!==null?(t=Qs(t,o,u),Vt(t,i)||(mt=!0),t):(Vn&42)===0?(mt=!0,t.memoizedState=o):(t=Ed(),xe.lanes|=t,zn|=t,i)}function Cf(t,i,o,u,f){var m=K.p;K.p=m!==0&&8>m?m:8;var T=L.T,C={};L.T=C,js(t,!1,i,o);try{var _=f(),D=L.S;if(D!==null&&D(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=Og(_,u);Bl(t,i,P,kt(t))}else Bl(t,i,u,kt(t))}catch(q){Bl(t,i,{then:function(){},status:"rejected",reason:q},kt())}finally{K.p=m,L.T=T}}function Bg(){}function Zs(t,i,o,u){if(t.tag!==5)throw Error(a(476));var f=Ef(t).queue;Cf(t,f,i,de,o===null?Bg:function(){return Sf(t),o(u)})}function Ef(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:de},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sf(t){var i=Ef(t).next.queue;Bl(t,i,{},kt())}function Ws(){return _t(lo)}function xf(){return rt().memoizedState}function _f(){return rt().memoizedState}function kg(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=kt();t=Ln(o);var u=On(i,t,o);u!==null&&(Ht(u,i,o),Ll(u,i,o)),i={cache:Ns()},t.payload=i;return}i=i.return}}function Hg(t,i,o){var u=kt();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ko(t)?Mf(i,o):(o=vs(t,i,o,u),o!==null&&(Ht(o,t,u),Rf(o,i,u)))}function Af(t,i,o){var u=kt();Bl(t,i,o,u)}function Bl(t,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))Mf(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,C=m(T,o);if(f.hasEagerState=!0,f.eagerState=C,Vt(C,T))return wo(t,i,f,0),Je===null&&Do(),!1}catch{}finally{}if(o=vs(t,i,f,u),o!==null)return Ht(o,t,u),Rf(o,i,u),!0}return!1}function js(t,i,o,u){if(u={lane:2,revertLane:wr(),action:u,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(i)throw Error(a(479))}else i=vs(t,o,u,2),i!==null&&Ht(i,t,2)}function Ko(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function Mf(t,i){Hi=Ho=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Rf(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Lu(t,o)}}var Xo={readContext:_t,use:Fo,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it},Nf={readContext:_t,use:Fo,useCallback:function(t,i){return It().memoizedState=[t,i===void 0?null:i],t},useContext:_t,useEffect:ff,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,$o(4194308,4,hf.bind(null,i,t),o)},useLayoutEffect:function(t,i){return $o(4194308,4,t,i)},useInsertionEffect:function(t,i){$o(4,2,t,i)},useMemo:function(t,i){var o=It();i=i===void 0?null:i;var u=t();if(pi){ut(!0);try{t()}finally{ut(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=It();if(o!==void 0){var f=o(i);if(pi){ut(!0);try{o(i)}finally{ut(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=Hg.bind(null,xe,t),[u.memoizedState,t]},useRef:function(t){var i=It();return t={current:t},i.memoizedState=t},useState:function(t){t=$s(t);var i=t.queue,o=Af.bind(null,xe,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Xs,useDeferredValue:function(t,i){var o=It();return Qs(o,t,i)},useTransition:function(){var t=$s(!1);return t=Cf.bind(null,xe,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=xe,f=It();if(Ie){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Je===null)throw Error(a(349));(we&124)!==0||Kc(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,ff(Qc.bind(null,u,m,t),[t]),u.flags|=2048,Fi(9,Jo(),Xc.bind(null,u,m,o,i),null),o},useId:function(){var t=It(),i=Je.identifierPrefix;if(Ie){var o=hn,u=pn;o=(u&~(1<<32-Te(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=zo++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=Vg++,i="«"+i+"r"+o.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Ws,useFormState:af,useActionState:af,useOptimistic:function(t){var i=It();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=js.bind(null,xe,!0,o),o.dispatch=i,[t,i]},useMemoCache:Fs,useCacheRefresh:function(){return It().memoizedState=kg.bind(null,xe)}},bf={readContext:_t,use:Fo,useCallback:yf,useContext:_t,useEffect:df,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:pf,useMemo:vf,useReducer:Yo,useRef:cf,useState:function(){return Yo(vn)},useDebugValue:Xs,useDeferredValue:function(t,i){var o=rt();return Tf(o,qe.memoizedState,t,i)},useTransition:function(){var t=Yo(vn)[0],i=rt().memoizedState;return[typeof t=="boolean"?t:Gl(t),i]},useSyncExternalStore:$c,useId:xf,useHostTransitionStatus:Ws,useFormState:sf,useActionState:sf,useOptimistic:function(t,i){var o=rt();return jc(o,qe,t,i)},useMemoCache:Fs,useCacheRefresh:_f},zg={readContext:_t,use:Fo,useCallback:yf,useContext:_t,useEffect:df,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:pf,useMemo:vf,useReducer:Js,useRef:cf,useState:function(){return Js(vn)},useDebugValue:Xs,useDeferredValue:function(t,i){var o=rt();return qe===null?Qs(o,t,i):Tf(o,qe.memoizedState,t,i)},useTransition:function(){var t=Js(vn)[0],i=rt().memoizedState;return[typeof t=="boolean"?t:Gl(t),i]},useSyncExternalStore:$c,useId:xf,useHostTransitionStatus:Ws,useFormState:uf,useActionState:uf,useOptimistic:function(t,i){var o=rt();return qe!==null?jc(o,qe,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Fs,useCacheRefresh:_f},Yi=null,kl=0;function Qo(t){var i=kl;return kl+=1,Yi===null&&(Yi=[]),qc(Yi,t,i)}function Hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zo(t,i){throw i.$$typeof===E?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Df(t){var i=t._init;return i(t._payload)}function wf(t){function i(N,M){if(t){var b=N.deletions;b===null?(N.deletions=[M],N.flags|=16):b.push(M)}}function o(N,M){if(!t)return null;for(;M!==null;)i(N,M),M=M.sibling;return null}function u(N){for(var M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function f(N,M){return N=mn(N,M),N.index=0,N.sibling=null,N}function m(N,M,b){return N.index=b,t?(b=N.alternate,b!==null?(b=b.index,b<M?(N.flags|=67108866,M):b):(N.flags|=67108866,M)):(N.flags|=1048576,M)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function C(N,M,b,G){return M===null||M.tag!==6?(M=Cs(b,N.mode,G),M.return=N,M):(M=f(M,b),M.return=N,M)}function _(N,M,b,G){var le=b.type;return le===I?P(N,M,b.props.children,G,b.key):M!==null&&(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Df(le)===M.type)?(M=f(M,b.props),Hl(M,b),M.return=N,M):(M=Io(b.type,b.key,b.props,null,N.mode,G),Hl(M,b),M.return=N,M)}function D(N,M,b,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==b.containerInfo||M.stateNode.implementation!==b.implementation?(M=Es(b,N.mode,G),M.return=N,M):(M=f(M,b.children||[]),M.return=N,M)}function P(N,M,b,G,le){return M===null||M.tag!==7?(M=ai(b,N.mode,G,le),M.return=N,M):(M=f(M,b),M.return=N,M)}function q(N,M,b){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Cs(""+M,N.mode,b),M.return=N,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return b=Io(M.type,M.key,M.props,null,N.mode,b),Hl(b,M),b.return=N,b;case R:return M=Es(M,N.mode,b),M.return=N,M;case ne:var G=M._init;return M=G(M._payload),q(N,M,b)}if(he(M)||Se(M))return M=ai(M,N.mode,b,null),M.return=N,M;if(typeof M.then=="function")return q(N,Qo(M),b);if(M.$$typeof===F)return q(N,Po(N,M),b);Zo(N,M)}return null}function w(N,M,b,G){var le=M!==null?M.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return le!==null?null:C(N,M,""+b,G);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case S:return b.key===le?_(N,M,b,G):null;case R:return b.key===le?D(N,M,b,G):null;case ne:return le=b._init,b=le(b._payload),w(N,M,b,G)}if(he(b)||Se(b))return le!==null?null:P(N,M,b,G,null);if(typeof b.then=="function")return w(N,M,Qo(b),G);if(b.$$typeof===F)return w(N,M,Po(N,b),G);Zo(N,b)}return null}function U(N,M,b,G,le){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return N=N.get(b)||null,C(M,N,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return N=N.get(G.key===null?b:G.key)||null,_(M,N,G,le);case R:return N=N.get(G.key===null?b:G.key)||null,D(M,N,G,le);case ne:var _e=G._init;return G=_e(G._payload),U(N,M,b,G,le)}if(he(G)||Se(G))return N=N.get(b)||null,P(M,N,G,le,null);if(typeof G.then=="function")return U(N,M,b,Qo(G),le);if(G.$$typeof===F)return U(N,M,b,Po(M,G),le);Zo(M,G)}return null}function ge(N,M,b,G){for(var le=null,_e=null,fe=M,pe=M=0,ht=null;fe!==null&&pe<b.length;pe++){fe.index>pe?(ht=fe,fe=null):ht=fe.sibling;var Ue=w(N,fe,b[pe],G);if(Ue===null){fe===null&&(fe=ht);break}t&&fe&&Ue.alternate===null&&i(N,fe),M=m(Ue,M,pe),_e===null?le=Ue:_e.sibling=Ue,_e=Ue,fe=ht}if(pe===b.length)return o(N,fe),Ie&&ri(N,pe),le;if(fe===null){for(;pe<b.length;pe++)fe=q(N,b[pe],G),fe!==null&&(M=m(fe,M,pe),_e===null?le=fe:_e.sibling=fe,_e=fe);return Ie&&ri(N,pe),le}for(fe=u(fe);pe<b.length;pe++)ht=U(fe,N,pe,b[pe],G),ht!==null&&(t&&ht.alternate!==null&&fe.delete(ht.key===null?pe:ht.key),M=m(ht,M,pe),_e===null?le=ht:_e.sibling=ht,_e=ht);return t&&fe.forEach(function(Wn){return i(N,Wn)}),Ie&&ri(N,pe),le}function me(N,M,b,G){if(b==null)throw Error(a(151));for(var le=null,_e=null,fe=M,pe=M=0,ht=null,Ue=b.next();fe!==null&&!Ue.done;pe++,Ue=b.next()){fe.index>pe?(ht=fe,fe=null):ht=fe.sibling;var Wn=w(N,fe,Ue.value,G);if(Wn===null){fe===null&&(fe=ht);break}t&&fe&&Wn.alternate===null&&i(N,fe),M=m(Wn,M,pe),_e===null?le=Wn:_e.sibling=Wn,_e=Wn,fe=ht}if(Ue.done)return o(N,fe),Ie&&ri(N,pe),le;if(fe===null){for(;!Ue.done;pe++,Ue=b.next())Ue=q(N,Ue.value,G),Ue!==null&&(M=m(Ue,M,pe),_e===null?le=Ue:_e.sibling=Ue,_e=Ue);return Ie&&ri(N,pe),le}for(fe=u(fe);!Ue.done;pe++,Ue=b.next())Ue=U(fe,N,pe,Ue.value,G),Ue!==null&&(t&&Ue.alternate!==null&&fe.delete(Ue.key===null?pe:Ue.key),M=m(Ue,M,pe),_e===null?le=Ue:_e.sibling=Ue,_e=Ue);return t&&fe.forEach(function(Fy){return i(N,Fy)}),Ie&&ri(N,pe),le}function ke(N,M,b,G){if(typeof b=="object"&&b!==null&&b.type===I&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case S:e:{for(var le=b.key;M!==null;){if(M.key===le){if(le=b.type,le===I){if(M.tag===7){o(N,M.sibling),G=f(M,b.props.children),G.return=N,N=G;break e}}else if(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Df(le)===M.type){o(N,M.sibling),G=f(M,b.props),Hl(G,b),G.return=N,N=G;break e}o(N,M);break}else i(N,M);M=M.sibling}b.type===I?(G=ai(b.props.children,N.mode,G,b.key),G.return=N,N=G):(G=Io(b.type,b.key,b.props,null,N.mode,G),Hl(G,b),G.return=N,N=G)}return T(N);case R:e:{for(le=b.key;M!==null;){if(M.key===le)if(M.tag===4&&M.stateNode.containerInfo===b.containerInfo&&M.stateNode.implementation===b.implementation){o(N,M.sibling),G=f(M,b.children||[]),G.return=N,N=G;break e}else{o(N,M);break}else i(N,M);M=M.sibling}G=Es(b,N.mode,G),G.return=N,N=G}return T(N);case ne:return le=b._init,b=le(b._payload),ke(N,M,b,G)}if(he(b))return ge(N,M,b,G);if(Se(b)){if(le=Se(b),typeof le!="function")throw Error(a(150));return b=le.call(b),me(N,M,b,G)}if(typeof b.then=="function")return ke(N,M,Qo(b),G);if(b.$$typeof===F)return ke(N,M,Po(N,b),G);Zo(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,M!==null&&M.tag===6?(o(N,M.sibling),G=f(M,b),G.return=N,N=G):(o(N,M),G=Cs(b,N.mode,G),G.return=N,N=G),T(N)):o(N,M)}return function(N,M,b,G){try{kl=0;var le=ke(N,M,b,G);return Yi=null,le}catch(fe){if(fe===Ul||fe===qo)throw fe;var _e=Pt(29,fe,null,N.mode);return _e.lanes=G,_e.return=N,_e}finally{}}}var Ji=wf(!0),Uf=wf(!1),Qt=B(null),an=null;function Pn(t){var i=t.alternate;O(ft,ft.current&1),O(Qt,t),an===null&&(i===null||ki.current!==null||i.memoizedState!==null)&&(an=t)}function If(t){if(t.tag===22){if(O(ft,ft.current),O(Qt,t),an===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(an=t)}}else Gn()}function Gn(){O(ft,ft.current),O(Qt,Qt.current)}function Tn(t){$(Qt),an===t&&(an=null),$(ft)}var ft=B(0);function Wo(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||zr(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function er(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var tr={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=kt(),f=Ln(u);f.payload=i,o!=null&&(f.callback=o),i=On(t,f,u),i!==null&&(Ht(i,t,u),Ll(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=kt(),f=Ln(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=On(t,f,u),i!==null&&(Ht(i,t,u),Ll(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=kt(),u=Ln(o);u.tag=2,i!=null&&(u.callback=i),i=On(t,u,o),i!==null&&(Ht(i,t,o),Ll(i,t,o))}};function Lf(t,i,o,u,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!_l(o,u)||!_l(f,m):!0}function Of(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&tr.enqueueReplaceState(i,i.state,null)}function hi(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=v({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}var jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vf(t){jo(t)}function Pf(t){console.error(t)}function Gf(t){jo(t)}function ea(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function qf(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nr(t,i,o){return o=Ln(o),o.tag=3,o.payload={element:null},o.callback=function(){ea(t,i)},o}function Bf(t){return t=Ln(t),t.tag=3,t}function kf(t,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;t.payload=function(){return f(m)},t.callback=function(){qf(i,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){qf(i,o,u),typeof f!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function Fg(t,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&bl(i,o,f,!0),o=Qt.current,o!==null){switch(o.tag){case 13:return an===null?Mr():o.alternate===null&&tt===0&&(tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ws?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Nr(t,u,f)),!1;case 22:return o.flags|=65536,u===ws?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Nr(t,u,f)),!1}throw Error(a(435,o.tag))}return Nr(t,u,f),Mr(),!1}if(Ie)return i=Qt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==_s&&(t=Error(a(422),{cause:u}),Nl(Jt(t,o)))):(u!==_s&&(i=Error(a(423),{cause:u}),Nl(Jt(i,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Jt(u,o),f=nr(t.stateNode,u,f),Ls(t,f),tt!==4&&(tt=2)),!1;var m=Error(a(520),{cause:u});if(m=Jt(m,o),Xl===null?Xl=[m]:Xl.push(m),tt!==4&&(tt=2),i===null)return!0;u=Jt(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=nr(o.stateNode,u,t),Ls(o,t),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fn===null||!Fn.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Bf(f),kf(f,t,o,u),Ls(o,f),!1}o=o.return}while(o!==null);return!1}var Hf=Error(a(461)),mt=!1;function yt(t,i,o,u){i.child=t===null?Uf(i,null,o,u):Ji(i,t.child,o,u)}function zf(t,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return di(i),u=qs(t,i,o,T,m,f),C=Bs(),t!==null&&!mt?(ks(t,i,f),Cn(t,i,f)):(Ie&&C&&Ss(i),i.flags|=1,yt(t,i,u,f),i.child)}function Ff(t,i,o,u,f){if(t===null){var m=o.type;return typeof m=="function"&&!Ts(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Yf(t,i,m,u,f)):(t=Io(o.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!cr(t,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:_l,o(T,u)&&t.ref===i.ref)return Cn(t,i,f)}return i.flags|=1,t=mn(m,u),t.ref=i.ref,t.return=i,i.child=t}function Yf(t,i,o,u,f){if(t!==null){var m=t.memoizedProps;if(_l(m,u)&&t.ref===i.ref)if(mt=!1,i.pendingProps=u=m,cr(t,f))(t.flags&131072)!==0&&(mt=!0);else return i.lanes=t.lanes,Cn(t,i,f)}return ir(t,i,o,u,f)}function Jf(t,i,o){var u=i.pendingProps,f=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return $f(t,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Go(i,m!==null?m.cachePool:null),m!==null?Fc(i,m):Vs(),If(i);else return i.lanes=i.childLanes=536870912,$f(t,i,m!==null?m.baseLanes|o:o,o)}else m!==null?(Go(i,m.cachePool),Fc(i,m),Gn(),i.memoizedState=null):(t!==null&&Go(i,null),Vs(),Gn());return yt(t,i,f,o),i.child}function $f(t,i,o,u){var f=Ds();return f=f===null?null:{parent:ct._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},t!==null&&Go(i,null),Vs(),If(i),t!==null&&bl(t,i,u,!0),null}function ta(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function ir(t,i,o,u,f){return di(i),o=qs(t,i,o,u,void 0,f),u=Bs(),t!==null&&!mt?(ks(t,i,f),Cn(t,i,f)):(Ie&&u&&Ss(i),i.flags|=1,yt(t,i,o,f),i.child)}function Kf(t,i,o,u,f,m){return di(i),i.updateQueue=null,o=Jc(i,u,o,f),Yc(t),u=Bs(),t!==null&&!mt?(ks(t,i,m),Cn(t,i,m)):(Ie&&u&&Ss(i),i.flags|=1,yt(t,i,o,m),i.child)}function Xf(t,i,o,u,f){if(di(i),i.stateNode===null){var m=Vi,T=o.contextType;typeof T=="object"&&T!==null&&(m=_t(T)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=tr,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Us(i),T=o.contextType,m.context=typeof T=="object"&&T!==null?_t(T):Vi,m.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(er(i,o,T,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&tr.enqueueReplaceState(m,m.state,null),Vl(i,u,m,f),Ol(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){m=i.stateNode;var C=i.memoizedProps,_=hi(o,C);m.props=_;var D=m.context,P=o.contextType;T=Vi,typeof P=="object"&&P!==null&&(T=_t(P));var q=o.getDerivedStateFromProps;P=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,P||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||D!==T)&&Of(i,m,u,T),In=!1;var w=i.memoizedState;m.state=w,Vl(i,u,m,f),Ol(),D=i.memoizedState,C||w!==D||In?(typeof q=="function"&&(er(i,o,q,u),D=i.memoizedState),(_=In||Lf(i,o,_,u,w,D,T))?(P||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=D),m.props=u,m.state=D,m.context=T,u=_):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Is(t,i),T=i.memoizedProps,P=hi(o,T),m.props=P,q=i.pendingProps,w=m.context,D=o.contextType,_=Vi,typeof D=="object"&&D!==null&&(_=_t(D)),C=o.getDerivedStateFromProps,(D=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==q||w!==_)&&Of(i,m,u,_),In=!1,w=i.memoizedState,m.state=w,Vl(i,u,m,f),Ol();var U=i.memoizedState;T!==q||w!==U||In||t!==null&&t.dependencies!==null&&Vo(t.dependencies)?(typeof C=="function"&&(er(i,o,C,u),U=i.memoizedState),(P=In||Lf(i,o,P,u,w,U,_)||t!==null&&t.dependencies!==null&&Vo(t.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,U,_),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,U,_)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=U),m.props=u,m.state=U,m.context=_,u=P):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=1024),u=!1)}return m=u,ta(t,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&u?(i.child=Ji(i,t.child,null,f),i.child=Ji(i,null,o,f)):yt(t,i,o,f),i.memoizedState=m.state,t=i.child):t=Cn(t,i,f),t}function Qf(t,i,o,u){return Rl(),i.flags|=256,yt(t,i,o,u),i.child}var lr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function or(t){return{baseLanes:t,cachePool:Vc()}}function ar(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=Zt),t}function Zf(t,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ft.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ie){if(f?Pn(i):Gn(),Ie){var C=et,_;if(_=C){e:{for(_=C,C=on;_.nodeType!==8;){if(!C){C=null;break e}if(_=nn(_.nextSibling),_===null){C=null;break e}}C=_}C!==null?(i.memoizedState={dehydrated:C,treeContext:si!==null?{id:pn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},_=Pt(18,null,null,0),_.stateNode=C,_.return=i,i.child=_,Dt=i,et=null,_=!0):_=!1}_||ci(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return zr(C)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return C=u.children,u=u.fallback,f?(Gn(),f=i.mode,C=na({mode:"hidden",children:C},f),u=ai(u,f,o,null),C.return=i,u.return=i,C.sibling=u,i.child=C,f=i.child,f.memoizedState=or(o),f.childLanes=ar(t,T,o),i.memoizedState=lr,u):(Pn(i),sr(i,C))}if(_=t.memoizedState,_!==null&&(C=_.dehydrated,C!==null)){if(m)i.flags&256?(Pn(i),i.flags&=-257,i=rr(t,i,o)):i.memoizedState!==null?(Gn(),i.child=t.child,i.flags|=128,i=null):(Gn(),f=u.fallback,C=i.mode,u=na({mode:"visible",children:u.children},C),f=ai(f,C,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Ji(i,t.child,null,o),u=i.child,u.memoizedState=or(o),u.childLanes=ar(t,T,o),i.memoizedState=lr,i=f);else if(Pn(i),zr(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var D=T.dgst;T=D,u=Error(a(419)),u.stack="",u.digest=T,Nl({value:u,source:null,stack:null}),i=rr(t,i,o)}else if(mt||bl(t,i,o,!1),T=(o&t.childLanes)!==0,mt||T){if(T=Je,T!==null&&(u=o&-o,u=(u&42)!==0?1:Fa(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==_.retryLane))throw _.retryLane=u,Oi(t,u),Ht(T,t,u),Hf;C.data==="$?"||Mr(),i=rr(t,i,o)}else C.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=_.treeContext,et=nn(C.nextSibling),Dt=i,Ie=!0,ui=null,on=!1,t!==null&&(Kt[Xt++]=pn,Kt[Xt++]=hn,Kt[Xt++]=si,pn=t.id,hn=t.overflow,si=i),i=sr(i,u.children),i.flags|=4096);return i}return f?(Gn(),f=u.fallback,C=i.mode,_=t.child,D=_.sibling,u=mn(_,{mode:"hidden",children:u.children}),u.subtreeFlags=_.subtreeFlags&65011712,D!==null?f=mn(D,f):(f=ai(f,C,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,C=t.child.memoizedState,C===null?C=or(o):(_=C.cachePool,_!==null?(D=ct._currentValue,_=_.parent!==D?{parent:D,pool:D}:_):_=Vc(),C={baseLanes:C.baseLanes|o,cachePool:_}),f.memoizedState=C,f.childLanes=ar(t,T,o),i.memoizedState=lr,u):(Pn(i),o=t.child,t=o.sibling,o=mn(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=o,i.memoizedState=null,o)}function sr(t,i){return i=na({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function na(t,i){return t=Pt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function rr(t,i,o){return Ji(i,t.child,null,o),t=sr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wf(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Ms(t.return,i,o)}function ur(t,i,o,u,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function jf(t,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(yt(t,i,u.children,o),u=ft.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wf(t,o,i);else if(t.tag===19)Wf(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(O(ft,u),f){case"forwards":for(o=i.child,f=null;o!==null;)t=o.alternate,t!==null&&Wo(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),ur(i,!1,f,o,m);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Wo(t)===null){i.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}ur(i,!0,o,null,m);break;case"together":ur(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Cn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),zn|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(bl(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=mn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=mn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function cr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Vo(t)))}function Yg(t,i,o){switch(i.tag){case 3:Ce(i,i.stateNode.containerInfo),Un(i,ct,t.memoizedState.cache),Rl();break;case 27:case 5:Ze(i);break;case 4:Ce(i,i.stateNode.containerInfo);break;case 10:Un(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Pn(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Zf(t,i,o):(Pn(i),t=Cn(t,i,o),t!==null?t.sibling:null);Pn(i);break;case 19:var f=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(bl(t,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return jf(t,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),O(ft,ft.current),u)break;return null;case 22:case 23:return i.lanes=0,Jf(t,i,o);case 24:Un(i,ct,t.memoizedState.cache)}return Cn(t,i,o)}function ed(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)mt=!0;else{if(!cr(t,o)&&(i.flags&128)===0)return mt=!1,Yg(t,i,o);mt=(t.flags&131072)!==0}else mt=!1,Ie&&(i.flags&1048576)!==0&&bc(i,Oo,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Ts(u)?(t=hi(u,t),i.tag=1,i=Xf(null,i,u,t,o)):(i.tag=0,i=ir(null,i,u,t,o));else{if(u!=null){if(f=u.$$typeof,f===Q){i.tag=11,i=zf(null,i,u,t,o);break e}else if(f===re){i.tag=14,i=Ff(null,i,u,t,o);break e}}throw i=Ae(u)||u,Error(a(306,i,""))}}return i;case 0:return ir(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=hi(u,i.pendingProps),Xf(t,i,u,f,o);case 3:e:{if(Ce(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,Is(t,i),Vl(i,u,null,o);var T=i.memoizedState;if(u=T.cache,Un(i,ct,u),u!==m.cache&&Rs(i,[ct],o,!0),Ol(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Qf(t,i,u,o);break e}else if(u!==f){f=Jt(Error(a(424)),i),Nl(f),i=Qf(t,i,u,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=nn(t.firstChild),Dt=i,Ie=!0,ui=null,on=!0,o=Uf(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Rl(),u===f){i=Cn(t,i,o);break e}yt(t,i,u,o)}i=i.child}return i;case 26:return ta(t,i),t===null?(o=lm(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ie||(o=i.type,t=i.pendingProps,u=ga(ce.current).createElement(o),u[xt]=i,u[wt]=t,Tt(u,o,t),dt(u),i.stateNode=u):i.memoizedState=lm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ze(i),t===null&&Ie&&(u=i.stateNode=tm(i.type,i.pendingProps,ce.current),Dt=i,on=!0,f=et,$n(i.type)?(Fr=f,et=nn(u.firstChild)):et=f),yt(t,i,i.pendingProps.children,o),ta(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ie&&((f=u=et)&&(u=Ty(u,i.type,i.pendingProps,on),u!==null?(i.stateNode=u,Dt=i,et=nn(u.firstChild),on=!1,f=!0):f=!1),f||ci(i)),Ze(i),f=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,u=m.children,Br(f,m)?u=null:T!==null&&Br(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=qs(t,i,Pg,null,null,o),lo._currentValue=f),ta(t,i),yt(t,i,u,o),i.child;case 6:return t===null&&Ie&&((t=o=et)&&(o=Cy(o,i.pendingProps,on),o!==null?(i.stateNode=o,Dt=i,et=null,t=!0):t=!1),t||ci(i)),null;case 13:return Zf(t,i,o);case 4:return Ce(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ji(i,null,u,o):yt(t,i,u,o),i.child;case 11:return zf(t,i,i.type,i.pendingProps,o);case 7:return yt(t,i,i.pendingProps,o),i.child;case 8:return yt(t,i,i.pendingProps.children,o),i.child;case 12:return yt(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Un(i,i.type,u.value),yt(t,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,di(i),f=_t(f),u=u(f),i.flags|=1,yt(t,i,u,o),i.child;case 14:return Ff(t,i,i.type,i.pendingProps,o);case 15:return Yf(t,i,i.type,i.pendingProps,o);case 19:return jf(t,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},t===null?(o=na(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=mn(t.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Jf(t,i,o);case 24:return di(i),u=_t(ct),t===null?(f=Ds(),f===null&&(f=Je,m=Ns(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},Us(i),Un(i,ct,f)):((t.lanes&o)!==0&&(Is(t,i),Vl(i,null,null,o),Ol()),f=t.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Un(i,ct,u)):(u=m.cache,Un(i,ct,u),u!==f.cache&&Rs(i,[ct],o,!0))),yt(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function En(t){t.flags|=4}function td(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!um(i)){if(i=Qt.current,i!==null&&((we&4194048)===we?an!==null:(we&62914560)!==we&&(we&536870912)===0||i!==an))throw Il=ws,Pc;t.flags|=8192}}function ia(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Uu():536870912,t.lanes|=i,Qi|=i)}function zl(t,i){if(!Ie)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function We(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function Jg(t,i,o){var u=i.pendingProps;switch(xs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(i),null;case 1:return We(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),yn(ct),Z(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Ml(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uc())),We(i),null;case 26:return o=i.memoizedState,t===null?(En(i),o!==null?(We(i),td(i,o)):(We(i),i.flags&=-16777217)):o?o!==t.memoizedState?(En(i),We(i),td(i,o)):(We(i),i.flags&=-16777217):(t.memoizedProps!==u&&En(i),We(i),i.flags&=-16777217),null;case 27:Xe(i),o=ce.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&En(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return We(i),null}t=ee.current,Ml(i)?Dc(i):(t=tm(f,u,o),i.stateNode=t,En(i))}return We(i),null;case 5:if(Xe(i),o=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&En(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return We(i),null}if(t=ee.current,Ml(i))Dc(i);else{switch(f=ga(ce.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}t[xt]=i,t[wt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(Tt(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&En(i)}}return We(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&En(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=ce.current,Ml(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,f=Dt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[xt]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Kd(t.nodeValue,o)),t||ci(i)}else t=ga(t).createTextNode(u),t[xt]=i,i.stateNode=t}return We(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ml(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[xt]=i}else Rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),f=!1}else f=Uc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==t&&o&&(i.child.flags|=8192),ia(i,i.updateQueue),We(i),null;case 4:return Z(),t===null&&Or(i.stateNode.containerInfo),We(i),null;case 10:return yn(i.type),We(i),null;case 19:if($(ft),f=i.memoizedState,f===null)return We(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)zl(f,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Wo(t),m!==null){for(i.flags|=128,zl(f,!1),t=m.updateQueue,i.updateQueue=t,ia(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)Nc(o,t),o=o.sibling;return O(ft,ft.current&1|2),i.child}t=t.sibling}f.tail!==null&&ye()>aa&&(i.flags|=128,u=!0,zl(f,!1),i.lanes=4194304)}else{if(!u)if(t=Wo(m),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,ia(i,t),zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ie)return We(i),null}else 2*ye()-f.renderingStartTime>aa&&o!==536870912&&(i.flags|=128,u=!0,zl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ye(),i.sibling=null,t=ft.current,O(ft,u?t&1|2:t&1),i):(We(i),null);case 22:case 23:return Tn(i),Ps(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(We(i),i.subtreeFlags&6&&(i.flags|=8192)):We(i),o=i.updateQueue,o!==null&&ia(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&$(mi),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),yn(ct),We(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function $g(t,i){switch(xs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(ct),Z(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Xe(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Rl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(ft),null;case 4:return Z(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),Ps(),t!==null&&$(mi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(ct),null;case 25:return null;default:return null}}function nd(t,i){switch(xs(i),i.tag){case 3:yn(ct),Z();break;case 26:case 27:case 5:Xe(i);break;case 4:Z();break;case 13:Tn(i);break;case 19:$(ft);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),Ps(),t!==null&&$(mi);break;case 24:yn(ct)}}function Fl(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(C){ze(i,i.return,C)}}function qn(t,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&t)===t){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,f=i;var _=o,D=C;try{D()}catch(P){ze(f,_,P)}}}u=u.next}while(u!==m)}}catch(P){ze(i,i.return,P)}}function id(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{zc(i,o)}catch(u){ze(t,t.return,u)}}}function ld(t,i,o){o.props=hi(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){ze(t,i,u)}}function Yl(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(f){ze(t,i,f)}}function sn(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ze(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ze(t,i,f)}else o.current=null}function od(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ze(t,t.return,f)}}function fr(t,i,o){try{var u=t.stateNode;py(u,t.type,o,i),u[wt]=i}catch(f){ze(t,t.return,f)}}function ad(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$n(t.type)||t.tag===4}function dr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ad(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$n(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mr(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ha));else if(u!==4&&(u===27&&$n(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(mr(t,i,o),t=t.sibling;t!==null;)mr(t,i,o),t=t.sibling}function la(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&$n(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(la(t,i,o),t=t.sibling;t!==null;)la(t,i,o),t=t.sibling}function sd(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Tt(i,u,o),i[xt]=t,i[wt]=o}catch(m){ze(t,t.return,m)}}var Sn=!1,lt=!1,pr=!1,rd=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Kg(t,i){if(t=t.containerInfo,Gr=Sa,t=vc(t),ds(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,C=-1,_=-1,D=0,P=0,q=t,w=null;t:for(;;){for(var U;q!==o||f!==0&&q.nodeType!==3||(C=T+f),q!==m||u!==0&&q.nodeType!==3||(_=T+u),q.nodeType===3&&(T+=q.nodeValue.length),(U=q.firstChild)!==null;)w=q,q=U;for(;;){if(q===t)break t;if(w===o&&++D===f&&(C=T),w===m&&++P===u&&(_=T),(U=q.nextSibling)!==null)break;q=w,w=q.parentNode}q=U}o=C===-1||_===-1?null:{start:C,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(qr={focusedElem:t,selectionRange:o},Sa=!1,pt=i;pt!==null;)if(i=pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,pt=t;else for(;pt!==null;){switch(i=pt,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ge=hi(o.type,f,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(ge,m),u.__reactInternalSnapshotBeforeUpdate=t}catch(me){ze(o,o.return,me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Hr(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,pt=t;break}pt=i.return}}function ud(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Bn(t,o),u&4&&Fl(5,o);break;case 1:if(Bn(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(T){ze(o,o.return,T)}else{var f=hi(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ze(o,o.return,T)}}u&64&&id(o),u&512&&Yl(o,o.return);break;case 3:if(Bn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{zc(t,i)}catch(T){ze(o,o.return,T)}}break;case 27:i===null&&u&4&&sd(o);case 26:case 5:Bn(t,o),i===null&&u&4&&od(o),u&512&&Yl(o,o.return);break;case 12:Bn(t,o);break;case 13:Bn(t,o),u&4&&dd(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=iy.bind(null,o),Ey(t,o))));break;case 22:if(u=o.memoizedState!==null||Sn,!u){i=i!==null&&i.memoizedState!==null||lt,f=Sn;var m=lt;Sn=u,(lt=i)&&!m?kn(t,o,(o.subtreeFlags&8772)!==0):Bn(t,o),Sn=f,lt=m}break;case 30:break;default:Bn(t,o)}}function cd(t){var i=t.alternate;i!==null&&(t.alternate=null,cd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&$a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Lt=!1;function xn(t,i,o){for(o=o.child;o!==null;)fd(t,i,o),o=o.sibling}function fd(t,i,o){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(St,o)}catch{}switch(o.tag){case 26:lt||sn(o,i),xn(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:lt||sn(o,i);var u=Qe,f=Lt;$n(o.type)&&(Qe=o.stateNode,Lt=!1),xn(t,i,o),eo(o.stateNode),Qe=u,Lt=f;break;case 5:lt||sn(o,i);case 6:if(u=Qe,f=Lt,Qe=null,xn(t,i,o),Qe=u,Lt=f,Qe!==null)if(Lt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(o.stateNode)}catch(m){ze(o,i,m)}else try{Qe.removeChild(o.stateNode)}catch(m){ze(o,i,m)}break;case 18:Qe!==null&&(Lt?(t=Qe,jd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),ro(t)):jd(Qe,o.stateNode));break;case 4:u=Qe,f=Lt,Qe=o.stateNode.containerInfo,Lt=!0,xn(t,i,o),Qe=u,Lt=f;break;case 0:case 11:case 14:case 15:lt||qn(2,o,i),lt||qn(4,o,i),xn(t,i,o);break;case 1:lt||(sn(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ld(o,i,u)),xn(t,i,o);break;case 21:xn(t,i,o);break;case 22:lt=(u=lt)||o.memoizedState!==null,xn(t,i,o),lt=u;break;default:xn(t,i,o)}}function dd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(o){ze(i,i.return,o)}}function Xg(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new rd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new rd),i;default:throw Error(a(435,t.tag))}}function hr(t,i){var o=Xg(t);i.forEach(function(u){var f=ly.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}function Gt(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=t,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if($n(C.type)){Qe=C.stateNode,Lt=!1;break e}break;case 5:Qe=C.stateNode,Lt=!1;break e;case 3:case 4:Qe=C.stateNode.containerInfo,Lt=!0;break e}C=C.return}if(Qe===null)throw Error(a(160));fd(m,T,f),Qe=null,Lt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)md(i,t),i=i.sibling}var tn=null;function md(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(i,t),qt(t),u&4&&(qn(3,t,t.return),Fl(3,t),qn(5,t,t.return));break;case 1:Gt(i,t),qt(t),u&512&&(lt||o===null||sn(o,o.return)),u&64&&Sn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=tn;if(Gt(i,t),qt(t),u&512&&(lt||o===null||sn(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[hl]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Tt(m,u,o),m[xt]=t,dt(m),u=m;break e;case"link":var T=sm("link","href",f).get(u+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(m=T[C],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}m=f.createElement(u),Tt(m,u,o),f.head.appendChild(m);break;case"meta":if(T=sm("meta","content",f).get(u+(o.content||""))){for(C=0;C<T.length;C++)if(m=T[C],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}m=f.createElement(u),Tt(m,u,o),f.head.appendChild(m);break;default:throw Error(a(468,u))}m[xt]=t,dt(m),u=m}t.stateNode=u}else rm(f,t.type,t.stateNode);else t.stateNode=am(f,u,t.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?rm(f,t.type,t.stateNode):am(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&fr(t,t.memoizedProps,o.memoizedProps)}break;case 27:Gt(i,t),qt(t),u&512&&(lt||o===null||sn(o,o.return)),o!==null&&u&4&&fr(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Gt(i,t),qt(t),u&512&&(lt||o===null||sn(o,o.return)),t.flags&32){f=t.stateNode;try{Ni(f,"")}catch(U){ze(t,t.return,U)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,fr(t,f,o!==null?o.memoizedProps:f)),u&1024&&(pr=!0);break;case 6:if(Gt(i,t),qt(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(U){ze(t,t.return,U)}}break;case 3:if(Ta=null,f=tn,tn=ya(i.containerInfo),Gt(i,t),tn=f,qt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ro(i.containerInfo)}catch(U){ze(t,t.return,U)}pr&&(pr=!1,pd(t));break;case 4:u=tn,tn=ya(t.stateNode.containerInfo),Gt(i,t),qt(t),tn=u;break;case 12:Gt(i,t),qt(t);break;case 13:Gt(i,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Er=ye()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,hr(t,u)));break;case 22:f=t.memoizedState!==null;var _=o!==null&&o.memoizedState!==null,D=Sn,P=lt;if(Sn=D||f,lt=P||_,Gt(i,t),lt=P,Sn=D,qt(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||_||Sn||lt||gi(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){_=o=i;try{if(m=_.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=_.stateNode;var q=_.memoizedProps.style,w=q!=null&&q.hasOwnProperty("display")?q.display:null;C.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(U){ze(_,_.return,U)}}}else if(i.tag===6){if(o===null){_=i;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(U){ze(_,_.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hr(t,o))));break;case 19:Gt(i,t),qt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,hr(t,u)));break;case 30:break;case 21:break;default:Gt(i,t),qt(t)}}function qt(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(ad(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=dr(t);la(t,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(Ni(T,""),o.flags&=-33);var C=dr(t);la(t,C,T);break;case 3:case 4:var _=o.stateNode.containerInfo,D=dr(t);mr(t,D,_);break;default:throw Error(a(161))}}catch(P){ze(t,t.return,P)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function pd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;pd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Bn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ud(t,i.alternate,i),i=i.sibling}function gi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qn(4,i,i.return),gi(i);break;case 1:sn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ld(i,i.return,o),gi(i);break;case 27:eo(i.stateNode);case 26:case 5:sn(i,i.return),gi(i);break;case 22:i.memoizedState===null&&gi(i);break;case 30:gi(i);break;default:gi(i)}t=t.sibling}}function kn(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:kn(f,m,o),Fl(4,m);break;case 1:if(kn(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){ze(u,u.return,D)}if(u=m,f=u.updateQueue,f!==null){var C=u.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)Hc(_[f],C)}catch(D){ze(u,u.return,D)}}o&&T&64&&id(m),Yl(m,m.return);break;case 27:sd(m);case 26:case 5:kn(f,m,o),o&&u===null&&T&4&&od(m),Yl(m,m.return);break;case 12:kn(f,m,o);break;case 13:kn(f,m,o),o&&T&4&&dd(f,m);break;case 22:m.memoizedState===null&&kn(f,m,o),Yl(m,m.return);break;case 30:break;default:kn(f,m,o)}i=i.sibling}}function gr(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Dl(o))}function yr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t))}function rn(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hd(t,i,o,u),i=i.sibling}function hd(t,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:rn(t,i,o,u),f&2048&&Fl(9,i);break;case 1:rn(t,i,o,u);break;case 3:rn(t,i,o,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t)));break;case 12:if(f&2048){rn(t,i,o,u),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,C=m.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){ze(i,i.return,_)}}else rn(t,i,o,u);break;case 13:rn(t,i,o,u);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?rn(t,i,o,u):Jl(t,i):m._visibility&2?rn(t,i,o,u):(m._visibility|=2,$i(t,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&gr(T,i);break;case 24:rn(t,i,o,u),f&2048&&yr(i.alternate,i);break;default:rn(t,i,o,u)}}function $i(t,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,T=i,C=o,_=u,D=T.flags;switch(T.tag){case 0:case 11:case 15:$i(m,T,C,_,f),Fl(8,T);break;case 23:break;case 22:var P=T.stateNode;T.memoizedState!==null?P._visibility&2?$i(m,T,C,_,f):Jl(m,T):(P._visibility|=2,$i(m,T,C,_,f)),f&&D&2048&&gr(T.alternate,T);break;case 24:$i(m,T,C,_,f),f&&D&2048&&yr(T.alternate,T);break;default:$i(m,T,C,_,f)}i=i.sibling}}function Jl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,f=u.flags;switch(u.tag){case 22:Jl(o,u),f&2048&&gr(u.alternate,u);break;case 24:Jl(o,u),f&2048&&yr(u.alternate,u);break;default:Jl(o,u)}i=i.sibling}}var $l=8192;function Ki(t){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)gd(t),t=t.sibling}function gd(t){switch(t.tag){case 26:Ki(t),t.flags&$l&&t.memoizedState!==null&&Ly(tn,t.memoizedState,t.memoizedProps);break;case 5:Ki(t);break;case 3:case 4:var i=tn;tn=ya(t.stateNode.containerInfo),Ki(t),tn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=$l,$l=16777216,Ki(t),$l=i):Ki(t));break;default:Ki(t)}}function yd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];pt=u,Td(u,t)}yd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vd(t),t=t.sibling}function vd(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&qn(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,oa(t)):Kl(t);break;default:Kl(t)}}function oa(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];pt=u,Td(u,t)}yd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qn(8,i,i.return),oa(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,oa(i));break;default:oa(i)}t=t.sibling}}function Td(t,i){for(;pt!==null;){var o=pt;switch(o.tag){case 0:case 11:case 15:qn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,pt=u;else e:for(o=t;pt!==null;){u=pt;var f=u.sibling,m=u.return;if(cd(u),u===o){pt=null;break e}if(f!==null){f.return=m,pt=f;break e}pt=m}}}var Qg={getCacheForType:function(t){var i=_t(ct),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o}},Zg=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Je=null,Re=null,we=0,Pe=0,Bt=null,Hn=!1,Xi=!1,vr=!1,_n=0,tt=0,zn=0,yi=0,Tr=0,Zt=0,Qi=0,Xl=null,Ot=null,Cr=!1,Er=0,aa=1/0,sa=null,Fn=null,vt=0,Yn=null,Zi=null,Wi=0,Sr=0,xr=null,Cd=null,Ql=0,_r=null;function kt(){if((Ve&2)!==0&&we!==0)return we&-we;if(L.T!==null){var t=qi;return t!==0?t:wr()}return Ou()}function Ed(){Zt===0&&(Zt=(we&536870912)===0||Ie?wu():536870912);var t=Qt.current;return t!==null&&(t.flags|=32),Zt}function Ht(t,i,o){(t===Je&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)&&(ji(t,0),Jn(t,we,Zt,!1)),pl(t,o),((Ve&2)===0||t!==Je)&&(t===Je&&((Ve&2)===0&&(yi|=o),tt===4&&Jn(t,we,Zt,!1)),un(t))}function Sd(t,i,o){if((Ve&6)!==0)throw Error(a(327));var u=!o&&(i&124)===0&&(i&t.expiredLanes)===0||ml(t,i),f=u?ey(t,i):Rr(t,i,!0),m=u;do{if(f===0){Xi&&!u&&Jn(t,i,0,!1);break}else{if(o=t.current.alternate,m&&!Wg(o)){f=Rr(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=t;f=Xl;var _=C.current.memoizedState.isDehydrated;if(_&&(ji(C,T).flags|=256),T=Rr(C,T,!1),T!==2){if(vr&&!_){C.errorRecoveryDisabledLanes|=m,yi|=m,f=4;break e}m=Ot,Ot=f,m!==null&&(Ot===null?Ot=m:Ot.push.apply(Ot,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){ji(t,0),Jn(t,i,0,!0);break}e:{switch(u=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Jn(u,i,Zt,!Hn);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Er+300-ye(),10<f)){if(Jn(u,i,Zt,!Hn),vo(u,0,!0)!==0)break e;u.timeoutHandle=Zd(xd.bind(null,u,o,Ot,sa,Cr,i,Zt,yi,Qi,Hn,m,2,-0,0),f);break e}xd(u,o,Ot,sa,Cr,i,Zt,yi,Qi,Hn,m,0,-0,0)}}break}while(!0);un(t)}function xd(t,i,o,u,f,m,T,C,_,D,P,q,w,U){if(t.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(io={stylesheets:null,count:0,unsuspend:Iy},gd(i),q=Oy(),q!==null)){t.cancelPendingCommit=q(Dd.bind(null,t,i,m,o,u,f,T,C,_,P,1,w,U)),Jn(t,m,T,!D);return}Dd(t,i,m,o,u,f,T,C,_)}function Wg(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Vt(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jn(t,i,o,u){i&=~Tr,i&=~yi,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var m=31-Te(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&Iu(t,o,i)}function ra(){return(Ve&6)===0?(Zl(0),!1):!0}function Ar(){if(Re!==null){if(Pe===0)var t=Re.return;else t=Re,gn=fi=null,Hs(t),Yi=null,kl=0,t=Re;for(;t!==null;)nd(t.alternate,t),t=t.return;Re=null}}function ji(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,gy(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Ar(),Je=t,Re=o=mn(t.current,null),we=i,Pe=0,Bt=null,Hn=!1,Xi=ml(t,i),vr=!1,Qi=Zt=Tr=yi=zn=tt=0,Ot=Xl=null,Cr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-Te(u),m=1<<f;i|=t[f],u&=~m}return _n=i,Do(),o}function _d(t,i){xe=null,L.H=Xo,i===Ul||i===qo?(i=Bc(),Pe=3):i===Pc?(i=Bc(),Pe=4):Pe=i===Hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bt=i,Re===null&&(tt=1,ea(t,Jt(i,t.current)))}function Ad(){var t=L.H;return L.H=Xo,t===null?Xo:t}function Md(){var t=L.A;return L.A=Qg,t}function Mr(){tt=4,Hn||(we&4194048)!==we&&Qt.current!==null||(Xi=!0),(zn&134217727)===0&&(yi&134217727)===0||Je===null||Jn(Je,we,Zt,!1)}function Rr(t,i,o){var u=Ve;Ve|=2;var f=Ad(),m=Md();(Je!==t||we!==i)&&(sa=null,ji(t,i)),i=!1;var T=tt;e:do try{if(Pe!==0&&Re!==null){var C=Re,_=Bt;switch(Pe){case 8:Ar(),T=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(i=!0);var D=Pe;if(Pe=0,Bt=null,el(t,C,_,D),o&&Xi){T=0;break e}break;default:D=Pe,Pe=0,Bt=null,el(t,C,_,D)}}jg(),T=tt;break}catch(P){_d(t,P)}while(!0);return i&&t.shellSuspendCounter++,gn=fi=null,Ve=u,L.H=f,L.A=m,Re===null&&(Je=null,we=0,Do()),T}function jg(){for(;Re!==null;)Rd(Re)}function ey(t,i){var o=Ve;Ve|=2;var u=Ad(),f=Md();Je!==t||we!==i?(sa=null,aa=ye()+500,ji(t,i)):Xi=ml(t,i);e:do try{if(Pe!==0&&Re!==null){i=Re;var m=Bt;t:switch(Pe){case 1:Pe=0,Bt=null,el(t,i,m,1);break;case 2:case 9:if(Gc(m)){Pe=0,Bt=null,Nd(i);break}i=function(){Pe!==2&&Pe!==9||Je!==t||(Pe=7),un(t)},m.then(i,i);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Gc(m)?(Pe=0,Bt=null,Nd(i)):(Pe=0,Bt=null,el(t,i,m,7));break;case 5:var T=null;switch(Re.tag){case 26:T=Re.memoizedState;case 5:case 27:var C=Re;if(!T||um(T)){Pe=0,Bt=null;var _=C.sibling;if(_!==null)Re=_;else{var D=C.return;D!==null?(Re=D,ua(D)):Re=null}break t}}Pe=0,Bt=null,el(t,i,m,5);break;case 6:Pe=0,Bt=null,el(t,i,m,6);break;case 8:Ar(),tt=6;break e;default:throw Error(a(462))}}ty();break}catch(P){_d(t,P)}while(!0);return gn=fi=null,L.H=u,L.A=f,Ve=o,Re!==null?0:(Je=null,we=0,Do(),tt)}function ty(){for(;Re!==null&&!ae();)Rd(Re)}function Rd(t){var i=ed(t.alternate,t,_n);t.memoizedProps=t.pendingProps,i===null?ua(t):Re=i}function Nd(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Kf(o,i,i.pendingProps,i.type,void 0,we);break;case 11:i=Kf(o,i,i.pendingProps,i.type.render,i.ref,we);break;case 5:Hs(i);default:nd(o,i),i=Re=Nc(i,_n),i=ed(o,i,_n)}t.memoizedProps=t.pendingProps,i===null?ua(t):Re=i}function el(t,i,o,u){gn=fi=null,Hs(i),Yi=null,kl=0;var f=i.return;try{if(Fg(t,f,i,o,we)){tt=1,ea(t,Jt(o,t.current)),Re=null;return}}catch(m){if(f!==null)throw Re=f,m;tt=1,ea(t,Jt(o,t.current)),Re=null;return}i.flags&32768?(Ie||u===1?t=!0:Xi||(we&536870912)!==0?t=!1:(Hn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Qt.current,u!==null&&u.tag===13&&(u.flags|=16384))),bd(i,t)):ua(i)}function ua(t){var i=t;do{if((i.flags&32768)!==0){bd(i,Hn);return}t=i.return;var o=Jg(i.alternate,i,_n);if(o!==null){Re=o;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=t}while(i!==null);tt===0&&(tt=5)}function bd(t,i){do{var o=$g(t.alternate,t);if(o!==null){o.flags&=32767,Re=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Re=t;return}Re=t=o}while(t!==null);tt=6,Re=null}function Dd(t,i,o,u,f,m,T,C,_){t.cancelPendingCommit=null;do ca();while(vt!==0);if((Ve&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=ys,Ih(t,o,m,T,C,_),t===Je&&(Re=Je=null,we=0),Zi=i,Yn=t,Wi=o,Sr=m,xr=f,Cd=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oy(ot,function(){return Od(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,f=K.p,K.p=2,T=Ve,Ve|=4;try{Kg(t,i,o)}finally{Ve=T,K.p=f,L.T=u}}vt=1,wd(),Ud(),Id()}}function wd(){if(vt===1){vt=0;var t=Yn,i=Zi,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var u=K.p;K.p=2;var f=Ve;Ve|=4;try{md(i,t);var m=qr,T=vc(t.containerInfo),C=m.focusedElem,_=m.selectionRange;if(T!==C&&C&&C.ownerDocument&&yc(C.ownerDocument.documentElement,C)){if(_!==null&&ds(C)){var D=_.start,P=_.end;if(P===void 0&&(P=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(P,C.value.length);else{var q=C.ownerDocument||document,w=q&&q.defaultView||window;if(w.getSelection){var U=w.getSelection(),ge=C.textContent.length,me=Math.min(_.start,ge),ke=_.end===void 0?me:Math.min(_.end,ge);!U.extend&&me>ke&&(T=ke,ke=me,me=T);var N=gc(C,me),M=gc(C,ke);if(N&&M&&(U.rangeCount!==1||U.anchorNode!==N.node||U.anchorOffset!==N.offset||U.focusNode!==M.node||U.focusOffset!==M.offset)){var b=q.createRange();b.setStart(N.node,N.offset),U.removeAllRanges(),me>ke?(U.addRange(b),U.extend(M.node,M.offset)):(b.setEnd(M.node,M.offset),U.addRange(b))}}}}for(q=[],U=C;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<q.length;C++){var G=q[C];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Sa=!!Gr,qr=Gr=null}finally{Ve=f,K.p=u,L.T=o}}t.current=i,vt=2}}function Ud(){if(vt===2){vt=0;var t=Yn,i=Zi,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var u=K.p;K.p=2;var f=Ve;Ve|=4;try{ud(t,i.alternate,i)}finally{Ve=f,K.p=u,L.T=o}}vt=3}}function Id(){if(vt===4||vt===3){vt=0,ve();var t=Yn,i=Zi,o=Wi,u=Cd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?vt=5:(vt=0,Zi=Yn=null,Ld(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fn=null),Ya(o),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(St,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=L.T,f=K.p,K.p=2,L.T=null;try{for(var m=t.onRecoverableError,T=0;T<u.length;T++){var C=u[T];m(C.value,{componentStack:C.stack})}}finally{L.T=i,K.p=f}}(Wi&3)!==0&&ca(),un(t),f=t.pendingLanes,(o&4194090)!==0&&(f&42)!==0?t===_r?Ql++:(Ql=0,_r=t):Ql=0,Zl(0)}}function Ld(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Dl(i)))}function ca(t){return wd(),Ud(),Id(),Od()}function Od(){if(vt!==5)return!1;var t=Yn,i=Sr;Sr=0;var o=Ya(Wi),u=L.T,f=K.p;try{K.p=32>o?32:o,L.T=null,o=xr,xr=null;var m=Yn,T=Wi;if(vt=0,Zi=Yn=null,Wi=0,(Ve&6)!==0)throw Error(a(331));var C=Ve;if(Ve|=4,vd(m.current),hd(m,m.current,T,o),Ve=C,Zl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(St,m)}catch{}return!0}finally{K.p=f,L.T=u,Ld(t,i)}}function Vd(t,i,o){i=Jt(o,i),i=nr(t.stateNode,i,2),t=On(t,i,2),t!==null&&(pl(t,2),un(t))}function ze(t,i,o){if(t.tag===3)Vd(t,t,o);else for(;i!==null;){if(i.tag===3){Vd(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fn===null||!Fn.has(u))){t=Jt(o,t),o=Bf(2),u=On(i,o,2),u!==null&&(kf(o,u,i,t),pl(u,2),un(u));break}}i=i.return}}function Nr(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Zg;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(vr=!0,f.add(o),t=ny.bind(null,t,i,o),i.then(t,t))}function ny(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Je===t&&(we&o)===o&&(tt===4||tt===3&&(we&62914560)===we&&300>ye()-Er?(Ve&2)===0&&ji(t,0):Tr|=o,Qi===we&&(Qi=0)),un(t)}function Pd(t,i){i===0&&(i=Uu()),t=Oi(t,i),t!==null&&(pl(t,i),un(t))}function iy(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Pd(t,o)}function ly(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Pd(t,o)}function oy(t,i){return Rt(t,i)}var fa=null,tl=null,br=!1,da=!1,Dr=!1,vi=0;function un(t){t!==tl&&t.next===null&&(tl===null?fa=tl=t:tl=tl.next=t),da=!0,br||(br=!0,sy())}function Zl(t,i){if(!Dr&&da){Dr=!0;do for(var o=!1,u=fa;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,C=u.pingedLanes;m=(1<<31-Te(42|t)+1)-1,m&=f&~(T&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,kd(u,m))}else m=we,m=vo(u,u===Je?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ml(u,m)||(o=!0,kd(u,m));u=u.next}while(o);Dr=!1}}function ay(){Gd()}function Gd(){da=br=!1;var t=0;vi!==0&&(hy()&&(t=vi),vi=0);for(var i=ye(),o=null,u=fa;u!==null;){var f=u.next,m=qd(u,i);m===0?(u.next=null,o===null?fa=f:o.next=f,f===null&&(tl=o)):(o=u,(t!==0||(m&3)!==0)&&(da=!0)),u=f}Zl(t)}function qd(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Te(m),C=1<<T,_=f[T];_===-1?((C&o)===0||(C&u)!==0)&&(f[T]=Uh(C,i)):_<=i&&(t.expiredLanes|=C),m&=~C}if(i=Je,o=we,o=vo(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Nt(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||ml(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&Nt(u),Ya(o)){case 2:case 8:o=gt;break;case 32:o=ot;break;case 268435456:o=je;break;default:o=ot}return u=Bd.bind(null,t),o=Rt(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&Nt(u),t.callbackPriority=2,t.callbackNode=null,2}function Bd(t,i){if(vt!==0&&vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(ca()&&t.callbackNode!==o)return null;var u=we;return u=vo(t,t===Je?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Sd(t,u,i),qd(t,ye()),t.callbackNode!=null&&t.callbackNode===o?Bd.bind(null,t):null)}function kd(t,i){if(ca())return null;Sd(t,i,!0)}function sy(){yy(function(){(Ve&6)!==0?Rt(He,ay):Gd()})}function wr(){return vi===0&&(vi=wu()),vi}function Hd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xo(""+t)}function zd(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function ry(t,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=Hd((f[wt]||null).action),T=u.submitter;T&&(i=(i=T[wt]||null)?Hd(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var C=new Ro("action","action",null,u,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(vi!==0){var _=T?zd(f,T):new FormData(f);Zs(o,{pending:!0,data:_,method:f.method,action:m},null,_)}}else typeof m=="function"&&(C.preventDefault(),_=T?zd(f,T):new FormData(f),Zs(o,{pending:!0,data:_,method:f.method,action:m},m,_))},currentTarget:f}]})}}for(var Ur=0;Ur<gs.length;Ur++){var Ir=gs[Ur],uy=Ir.toLowerCase(),cy=Ir[0].toUpperCase()+Ir.slice(1);en(uy,"on"+cy)}en(Ec,"onAnimationEnd"),en(Sc,"onAnimationIteration"),en(xc,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Rg,"onTransitionRun"),en(Ng,"onTransitionStart"),en(bg,"onTransitionCancel"),en(_c,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function Fd(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var C=u[T],_=C.instance,D=C.currentTarget;if(C=C.listener,_!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=D;try{m(f)}catch(P){jo(P)}f.currentTarget=null,m=_}else for(T=0;T<u.length;T++){if(C=u[T],_=C.instance,D=C.currentTarget,C=C.listener,_!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=D;try{m(f)}catch(P){jo(P)}f.currentTarget=null,m=_}}}}function Ne(t,i){var o=i[Ja];o===void 0&&(o=i[Ja]=new Set);var u=t+"__bubble";o.has(u)||(Yd(i,t,2,!1),o.add(u))}function Lr(t,i,o){var u=0;i&&(u|=4),Yd(o,t,u,i)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Or(t){if(!t[ma]){t[ma]=!0,Pu.forEach(function(o){o!=="selectionchange"&&(fy.has(o)||Lr(o,!1,t),Lr(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ma]||(i[ma]=!0,Lr("selectionchange",!1,i))}}function Yd(t,i,o,u){switch(hm(i)){case 2:var f=Gy;break;case 8:f=qy;break;default:f=Xr}o=f.bind(null,i,o,t),f=void 0,!is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,o,{capture:!0,passive:f}):t.addEventListener(i,o,!0):f!==void 0?t.addEventListener(i,o,{passive:f}):t.addEventListener(i,o,!1)}function Vr(t,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===f)break;if(T===4)for(T=u.return;T!==null;){var _=T.tag;if((_===3||_===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;C!==null;){if(T=Si(C),T===null)return;if(_=T.tag,_===5||_===6||_===26||_===27){u=m=T;continue e}C=C.parentNode}}u=u.return}Zu(function(){var D=m,P=ts(o),q=[];e:{var w=Ac.get(t);if(w!==void 0){var U=Ro,ge=t;switch(t){case"keypress":if(Ao(o)===0)break e;case"keydown":case"keyup":U=og;break;case"focusin":ge="focus",U=ss;break;case"focusout":ge="blur",U=ss;break;case"beforeblur":case"afterblur":U=ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=rg;break;case Ec:case Sc:case xc:U=Qh;break;case _c:U=cg;break;case"scroll":case"scrollend":U=Yh;break;case"wheel":U=dg;break;case"copy":case"cut":case"paste":U=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=nc;break;case"toggle":case"beforetoggle":U=pg}var me=(i&4)!==0,ke=!me&&(t==="scroll"||t==="scrollend"),N=me?w!==null?w+"Capture":null:w;me=[];for(var M=D,b;M!==null;){var G=M;if(b=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||b===null||N===null||(G=yl(M,N),G!=null&&me.push(jl(M,G,b))),ke)break;M=M.return}0<me.length&&(w=new U(w,ge,null,o,P),q.push({event:w,listeners:me}))}}if((i&7)===0){e:{if(w=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",w&&o!==es&&(ge=o.relatedTarget||o.fromElement)&&(Si(ge)||ge[Ei]))break e;if((U||w)&&(w=P.window===P?P:(w=P.ownerDocument)?w.defaultView||w.parentWindow:window,U?(ge=o.relatedTarget||o.toElement,U=D,ge=ge?Si(ge):null,ge!==null&&(ke=d(ge),me=ge.tag,ge!==ke||me!==5&&me!==27&&me!==6)&&(ge=null)):(U=null,ge=D),U!==ge)){if(me=ec,G="onMouseLeave",N="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(me=nc,G="onPointerLeave",N="onPointerEnter",M="pointer"),ke=U==null?w:gl(U),b=ge==null?w:gl(ge),w=new me(G,M+"leave",U,o,P),w.target=ke,w.relatedTarget=b,G=null,Si(P)===D&&(me=new me(N,M+"enter",ge,o,P),me.target=b,me.relatedTarget=ke,G=me),ke=G,U&&ge)t:{for(me=U,N=ge,M=0,b=me;b;b=nl(b))M++;for(b=0,G=N;G;G=nl(G))b++;for(;0<M-b;)me=nl(me),M--;for(;0<b-M;)N=nl(N),b--;for(;M--;){if(me===N||N!==null&&me===N.alternate)break t;me=nl(me),N=nl(N)}me=null}else me=null;U!==null&&Jd(q,w,U,me,!1),ge!==null&&ke!==null&&Jd(q,ke,ge,me,!0)}}e:{if(w=D?gl(D):window,U=w.nodeName&&w.nodeName.toLowerCase(),U==="select"||U==="input"&&w.type==="file")var le=cc;else if(rc(w))if(fc)le=_g;else{le=Sg;var _e=Eg}else U=w.nodeName,!U||U.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?D&&ja(D.elementType)&&(le=cc):le=xg;if(le&&(le=le(t,D))){uc(q,le,o,P);break e}_e&&_e(t,w,D),t==="focusout"&&D&&w.type==="number"&&D.memoizedProps.value!=null&&Wa(w,"number",w.value)}switch(_e=D?gl(D):window,t){case"focusin":(rc(_e)||_e.contentEditable==="true")&&(Ui=_e,ms=D,Al=null);break;case"focusout":Al=ms=Ui=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,Tc(q,o,P);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":Tc(q,o,P)}var fe;if(us)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else wi?ac(t,o)&&(pe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(ic&&o.locale!=="ko"&&(wi||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&wi&&(fe=Wu()):(wn=P,ls="value"in wn?wn.value:wn.textContent,wi=!0)),_e=pa(D,pe),0<_e.length&&(pe=new tc(pe,t,null,o,P),q.push({event:pe,listeners:_e}),fe?pe.data=fe:(fe=sc(o),fe!==null&&(pe.data=fe)))),(fe=gg?yg(t,o):vg(t,o))&&(pe=pa(D,"onBeforeInput"),0<pe.length&&(_e=new tc("onBeforeInput","beforeinput",null,o,P),q.push({event:_e,listeners:pe}),_e.data=fe)),ry(q,t,D,o,P)}Fd(q,i)})}function jl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function pa(t,i){for(var o=i+"Capture",u=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=yl(t,o),f!=null&&u.unshift(jl(t,f,m)),f=yl(t,i),f!=null&&u.push(jl(t,f,m))),t.tag===3)return u;t=t.return}return[]}function nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jd(t,i,o,u,f){for(var m=i._reactName,T=[];o!==null&&o!==u;){var C=o,_=C.alternate,D=C.stateNode;if(C=C.tag,_!==null&&_===u)break;C!==5&&C!==26&&C!==27||D===null||(_=D,f?(D=yl(o,m),D!=null&&T.unshift(jl(o,D,_))):f||(D=yl(o,m),D!=null&&T.push(jl(o,D,_)))),o=o.return}T.length!==0&&t.push({event:i,listeners:T})}var dy=/\r\n?/g,my=/\u0000|\uFFFD/g;function $d(t){return(typeof t=="string"?t:""+t).replace(dy,`
`).replace(my,"")}function Kd(t,i){return i=$d(i),$d(t)===i}function ha(){}function Be(t,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ni(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ni(t,""+u);break;case"className":Co(t,"class",u);break;case"tabIndex":Co(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(t,o,u);break;case"style":Xu(t,u,m);break;case"data":if(i!=="object"){Co(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=xo(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Be(t,i,"name",f.name,f,null),Be(t,i,"formEncType",f.formEncType,f,null),Be(t,i,"formMethod",f.formMethod,f,null),Be(t,i,"formTarget",f.formTarget,f,null)):(Be(t,i,"encType",f.encType,f,null),Be(t,i,"method",f.method,f,null),Be(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=xo(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=ha);break;case"onScroll":u!=null&&Ne("scroll",t);break;case"onScrollEnd":u!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=xo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),To(t,"popover",u);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":To(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zh.get(o)||o,To(t,o,u))}}function Pr(t,i,o,u,f,m){switch(o){case"style":Xu(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Ni(t,u):(typeof u=="number"||typeof u=="bigint")&&Ni(t,""+u);break;case"onScroll":u!=null&&Ne("scroll",t);break;case"onScrollEnd":u!=null&&Ne("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ha);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=t[wt]||null,m=m!=null?m[o]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,f);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):To(t,o,u)}}}function Tt(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Be(t,i,m,T,o,null)}}f&&Be(t,i,"srcSet",o.srcSet,o,null),u&&Be(t,i,"src",o.src,o,null);return;case"input":Ne("invalid",t);var C=m=T=f=null,_=null,D=null;for(u in o)if(o.hasOwnProperty(u)){var P=o[u];if(P!=null)switch(u){case"name":f=P;break;case"type":T=P;break;case"checked":_=P;break;case"defaultChecked":D=P;break;case"value":m=P;break;case"defaultValue":C=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,i));break;default:Be(t,i,u,P,o,null)}}Yu(t,m,C,_,D,T,f,!1),Eo(t);return;case"select":Ne("invalid",t),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(C=o[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:Be(t,i,f,C,o,null)}i=m,o=T,t.multiple=!!u,i!=null?Ri(t,!!u,i,!1):o!=null&&Ri(t,!!u,o,!0);return;case"textarea":Ne("invalid",t),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Be(t,i,T,C,o,null)}$u(t,u,f,m),Eo(t);return;case"option":for(_ in o)if(o.hasOwnProperty(_)&&(u=o[_],u!=null))switch(_){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Be(t,i,_,u,o,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(u=0;u<Wl.length;u++)Ne(Wl[u],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Be(t,i,D,u,o,null)}return;default:if(ja(i)){for(P in o)o.hasOwnProperty(P)&&(u=o[P],u!==void 0&&Pr(t,i,P,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&Be(t,i,C,u,o,null))}function py(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,C=null,_=null,D=null,P=null;for(U in o){var q=o[U];if(o.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":_=q;default:u.hasOwnProperty(U)||Be(t,i,U,null,u,q)}}for(var w in u){var U=u[w];if(q=o[w],u.hasOwnProperty(w)&&(U!=null||q!=null))switch(w){case"type":m=U;break;case"name":f=U;break;case"checked":D=U;break;case"defaultChecked":P=U;break;case"value":T=U;break;case"defaultValue":C=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,i));break;default:U!==q&&Be(t,i,w,U,u,q)}}Za(t,T,C,_,D,P,m,f);return;case"select":U=T=C=w=null;for(m in o)if(_=o[m],o.hasOwnProperty(m)&&_!=null)switch(m){case"value":break;case"multiple":U=_;default:u.hasOwnProperty(m)||Be(t,i,m,null,u,_)}for(f in u)if(m=u[f],_=o[f],u.hasOwnProperty(f)&&(m!=null||_!=null))switch(f){case"value":w=m;break;case"defaultValue":C=m;break;case"multiple":T=m;default:m!==_&&Be(t,i,f,m,u,_)}i=C,o=T,u=U,w!=null?Ri(t,!!o,w,!1):!!u!=!!o&&(i!=null?Ri(t,!!o,i,!0):Ri(t,!!o,o?[]:"",!1));return;case"textarea":U=w=null;for(C in o)if(f=o[C],o.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Be(t,i,C,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":w=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Be(t,i,T,f,u,m)}Ju(t,w,U);return;case"option":for(var ge in o)if(w=o[ge],o.hasOwnProperty(ge)&&w!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:Be(t,i,ge,null,u,w)}for(_ in u)if(w=u[_],U=o[_],u.hasOwnProperty(_)&&w!==U&&(w!=null||U!=null))switch(_){case"selected":t.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Be(t,i,_,w,u,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in o)w=o[me],o.hasOwnProperty(me)&&w!=null&&!u.hasOwnProperty(me)&&Be(t,i,me,null,u,w);for(D in u)if(w=u[D],U=o[D],u.hasOwnProperty(D)&&w!==U&&(w!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,i));break;default:Be(t,i,D,w,u,U)}return;default:if(ja(i)){for(var ke in o)w=o[ke],o.hasOwnProperty(ke)&&w!==void 0&&!u.hasOwnProperty(ke)&&Pr(t,i,ke,void 0,u,w);for(P in u)w=u[P],U=o[P],!u.hasOwnProperty(P)||w===U||w===void 0&&U===void 0||Pr(t,i,P,w,u,U);return}}for(var N in o)w=o[N],o.hasOwnProperty(N)&&w!=null&&!u.hasOwnProperty(N)&&Be(t,i,N,null,u,w);for(q in u)w=u[q],U=o[q],!u.hasOwnProperty(q)||w===U||w==null&&U==null||Be(t,i,q,w,u,U)}var Gr=null,qr=null;function ga(t){return t.nodeType===9?t:t.ownerDocument}function Xd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Br(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kr=null;function hy(){var t=window.event;return t&&t.type==="popstate"?t===kr?!1:(kr=t,!0):(kr=null,!1)}var Zd=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(t){return Wd.resolve(null).then(t).catch(vy)}:Zd;function vy(t){setTimeout(function(){throw t})}function $n(t){return t==="head"}function jd(t,i){var o=i,u=0,f=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var T=t.ownerDocument;if(o&1&&eo(T.documentElement),o&2&&eo(T.body),o&4)for(o=T.head,eo(o),T=o.firstChild;T;){var C=T.nextSibling,_=T.nodeName;T[hl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=C}}if(f===0){t.removeChild(m),ro(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);ro(i)}function Hr(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hr(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function Ty(t,i,o,u){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[hl])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=nn(t.nextSibling),t===null)break}return null}function Cy(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=nn(t.nextSibling),t===null))return null;return t}function zr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ey(t,i){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function nn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Fr=null;function em(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}function tm(t,i,o){switch(i=ga(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function eo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$a(t)}var Wt=new Map,nm=new Set;function ya(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var An=K.d;K.d={f:Sy,r:xy,D:_y,C:Ay,L:My,m:Ry,X:by,S:Ny,M:Dy};function Sy(){var t=An.f(),i=ra();return t||i}function xy(t){var i=xi(t);i!==null&&i.tag===5&&i.type==="form"?Sf(i):An.r(t)}var il=typeof document>"u"?null:document;function im(t,i,o){var u=il;if(u&&typeof i=="string"&&i){var f=Yt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),nm.has(f)||(nm.add(f),t={rel:t,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Tt(i,"link",t),dt(i),u.head.appendChild(i)))}}function _y(t){An.D(t),im("dns-prefetch",t,null)}function Ay(t,i){An.C(t,i),im("preconnect",t,i)}function My(t,i,o){An.L(t,i,o);var u=il;if(u&&t&&i){var f='link[rel="preload"][as="'+Yt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Yt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Yt(o.imageSizes)+'"]')):f+='[href="'+Yt(t)+'"]';var m=f;switch(i){case"style":m=ll(t);break;case"script":m=ol(t)}Wt.has(m)||(t=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Wt.set(m,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(to(m))||i==="script"&&u.querySelector(no(m))||(i=u.createElement("link"),Tt(i,"link",t),dt(i),u.head.appendChild(i)))}}function Ry(t,i){An.m(t,i);var o=il;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Yt(u)+'"][href="'+Yt(t)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ol(t)}if(!Wt.has(m)&&(t=v({rel:"modulepreload",href:t},i),Wt.set(m,t),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(no(m)))return}u=o.createElement("link"),Tt(u,"link",t),dt(u),o.head.appendChild(u)}}}function Ny(t,i,o){An.S(t,i,o);var u=il;if(u&&t){var f=_i(u).hoistableStyles,m=ll(t);i=i||"default";var T=f.get(m);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(to(m)))C.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Wt.get(m))&&Yr(t,o);var _=T=u.createElement("link");dt(_),Tt(_,"link",t),_._p=new Promise(function(D,P){_.onload=D,_.onerror=P}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,va(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:C},f.set(m,T)}}}function by(t,i){An.X(t,i);var o=il;if(o&&t){var u=_i(o).hoistableScripts,f=ol(t),m=u.get(f);m||(m=o.querySelector(no(f)),m||(t=v({src:t,async:!0},i),(i=Wt.get(f))&&Jr(t,i),m=o.createElement("script"),dt(m),Tt(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Dy(t,i){An.M(t,i);var o=il;if(o&&t){var u=_i(o).hoistableScripts,f=ol(t),m=u.get(f);m||(m=o.querySelector(no(f)),m||(t=v({src:t,async:!0,type:"module"},i),(i=Wt.get(f))&&Jr(t,i),m=o.createElement("script"),dt(m),Tt(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function lm(t,i,o,u){var f=(f=ce.current)?ya(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ll(o.href),o=_i(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ll(o.href);var m=_i(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(to(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Wt.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wt.set(t,o),m||wy(f,t,o,T.state))),i&&u===null)throw Error(a(528,""));return T}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ol(o),o=_i(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ll(t){return'href="'+Yt(t)+'"'}function to(t){return'link[rel="stylesheet"]['+t+"]"}function om(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function wy(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Tt(i,"link",o),dt(i),t.head.appendChild(i))}function ol(t){return'[src="'+Yt(t)+'"]'}function no(t){return"script[async]"+t}function am(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Yt(o.href)+'"]');if(u)return i.instance=u,dt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),dt(u),Tt(u,"style",f),va(u,o.precedence,t),i.instance=u;case"stylesheet":f=ll(o.href);var m=t.querySelector(to(f));if(m)return i.state.loading|=4,i.instance=m,dt(m),m;u=om(o),(f=Wt.get(f))&&Yr(u,f),m=(t.ownerDocument||t).createElement("link"),dt(m);var T=m;return T._p=new Promise(function(C,_){T.onload=C,T.onerror=_}),Tt(m,"link",u),i.state.loading|=4,va(m,o.precedence,t),i.instance=m;case"script":return m=ol(o.src),(f=t.querySelector(no(m)))?(i.instance=f,dt(f),f):(u=o,(f=Wt.get(m))&&(u=v({},o),Jr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),dt(f),Tt(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,va(u,o.precedence,t));return i.instance}function va(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===i)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Yr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ta=null;function sm(t,i,o){if(Ta===null){var u=new Map,f=Ta=new Map;f.set(o,u)}else f=Ta,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var m=o[f];if(!(m[hl]||m[xt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var C=u.get(T);C?C.push(m):u.set(T,[m])}}return u}function rm(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function Uy(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function um(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var io=null;function Iy(){}function Ly(t,i,o){if(io===null)throw Error(a(475));var u=io;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ll(o.href),m=t.querySelector(to(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Ca.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=m,dt(m);return}m=t.ownerDocument||t,o=om(o),(f=Wt.get(f))&&Yr(o,f),m=m.createElement("link"),dt(m);var T=m;T._p=new Promise(function(C,_){T.onload=C,T.onerror=_}),Tt(m,"link",o),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Ca.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Oy(){if(io===null)throw Error(a(475));var t=io;return t.stylesheets&&t.count===0&&$r(t,t.stylesheets),0<t.count?function(i){var o=setTimeout(function(){if(t.stylesheets&&$r(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Ca(){if(this.count--,this.count===0){if(this.stylesheets)$r(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ea=null;function $r(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ea=new Map,i.forEach(Vy,t),Ea=null,Ca.call(t))}function Vy(t,i){if(!(i.state.loading&4)){var o=Ea.get(t);if(o)var u=o.get(null);else{o=new Map,Ea.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=Ca.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var lo={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Py(t,i,o,u,f,m,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.hiddenUpdates=za(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function cm(t,i,o,u,f,m,T,C,_,D,P,q){return t=new Py(t,i,o,T,C,_,D,q),i=1,m===!0&&(i|=24),m=Pt(3,null,null,i),t.current=m,m.stateNode=t,i=Ns(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},Us(m),t}function fm(t){return t?(t=Vi,t):Vi}function dm(t,i,o,u,f,m){f=fm(f),u.context===null?u.context=f:u.pendingContext=f,u=Ln(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=On(t,u,i),o!==null&&(Ht(o,t,i),Ll(o,t,i))}function mm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Kr(t,i){mm(t,i),(t=t.alternate)&&mm(t,i)}function pm(t){if(t.tag===13){var i=Oi(t,67108864);i!==null&&Ht(i,t,67108864),Kr(t,67108864)}}var Sa=!0;function Gy(t,i,o,u){var f=L.T;L.T=null;var m=K.p;try{K.p=2,Xr(t,i,o,u)}finally{K.p=m,L.T=f}}function qy(t,i,o,u){var f=L.T;L.T=null;var m=K.p;try{K.p=8,Xr(t,i,o,u)}finally{K.p=m,L.T=f}}function Xr(t,i,o,u){if(Sa){var f=Qr(u);if(f===null)Vr(t,i,u,xa,o),gm(t,u);else if(ky(f,t,i,o,u))u.stopPropagation();else if(gm(t,u),i&4&&-1<By.indexOf(t)){for(;f!==null;){var m=xi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ti(m.pendingLanes);if(T!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var _=1<<31-Te(T);C.entanglements[1]|=_,T&=~_}un(m),(Ve&6)===0&&(aa=ye()+500,Zl(0))}}break;case 13:C=Oi(m,2),C!==null&&Ht(C,m,2),ra(),Kr(m,2)}if(m=Qr(u),m===null&&Vr(t,i,u,xa,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Vr(t,i,u,null,o)}}function Qr(t){return t=ts(t),Zr(t)}var xa=null;function Zr(t){if(xa=null,t=Si(t),t!==null){var i=d(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=h(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xa=t,null}function hm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case He:return 2;case gt:return 8;case ot:case Oe:return 32;case je:return 268435456;default:return 32}default:return 32}}var Wr=!1,Kn=null,Xn=null,Qn=null,oo=new Map,ao=new Map,Zn=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gm(t,i){switch(t){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":oo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(i.pointerId)}}function so(t,i,o,u,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=xi(i),i!==null&&pm(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function ky(t,i,o,u,f){switch(i){case"focusin":return Kn=so(Kn,t,i,o,u,f),!0;case"dragenter":return Xn=so(Xn,t,i,o,u,f),!0;case"mouseover":return Qn=so(Qn,t,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return oo.set(m,so(oo.get(m)||null,t,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ao.set(m,so(ao.get(m)||null,t,i,o,u,f)),!0}return!1}function ym(t){var i=Si(t.target);if(i!==null){var o=d(i);if(o!==null){if(i=o.tag,i===13){if(i=h(o),i!==null){t.blockedOn=i,Lh(t.priority,function(){if(o.tag===13){var u=kt();u=Fa(u);var f=Oi(o,u);f!==null&&Ht(f,o,u),Kr(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _a(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=Qr(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);es=u,o.target.dispatchEvent(u),es=null}else return i=xi(o),i!==null&&pm(i),t.blockedOn=o,!1;i.shift()}return!0}function vm(t,i,o){_a(t)&&o.delete(i)}function Hy(){Wr=!1,Kn!==null&&_a(Kn)&&(Kn=null),Xn!==null&&_a(Xn)&&(Xn=null),Qn!==null&&_a(Qn)&&(Qn=null),oo.forEach(vm),ao.forEach(vm)}function Aa(t,i){t.blockedOn===i&&(t.blockedOn=null,Wr||(Wr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Hy)))}var Ma=null;function Tm(t){Ma!==t&&(Ma=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ma===t&&(Ma=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(Zr(u||o)===null)continue;break}var m=xi(o);m!==null&&(t.splice(i,3),i-=3,Zs(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ro(t){function i(_){return Aa(_,t)}Kn!==null&&Aa(Kn,t),Xn!==null&&Aa(Xn,t),Qn!==null&&Aa(Qn,t),oo.forEach(i),ao.forEach(i);for(var o=0;o<Zn.length;o++){var u=Zn[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Zn.length&&(o=Zn[0],o.blockedOn===null);)ym(o),o.blockedOn===null&&Zn.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[wt]||null;if(typeof m=="function")T||Tm(o);else if(T){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[wt]||null)C=T.formAction;else if(Zr(f)!==null)continue}else C=T.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),Tm(o)}}}function jr(t){this._internalRoot=t}Ra.prototype.render=jr.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=kt();dm(o,u,t,i,null,null)},Ra.prototype.unmount=jr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;dm(t.current,2,null,t,null,null),ra(),i[Ei]=null}};function Ra(t){this._internalRoot=t}Ra.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var o=0;o<Zn.length&&i!==0&&i<Zn[o].priority;o++);Zn.splice(o,0,t),o===0&&ym(t)}};var Cm=e.version;if(Cm!=="19.1.0")throw Error(a(527,Cm,"19.1.0"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var zy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Na.isDisabled&&Na.supportsFiber)try{St=Na.inject(zy),Fe=Na}catch{}}return co.createRoot=function(t,i){if(!c(t))throw Error(a(299));var o=!1,u="",f=Vf,m=Pf,T=Gf,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=cm(t,1,!1,null,null,o,u,f,m,T,C,null),t[Ei]=i.current,Or(t),new jr(i)},co.hydrateRoot=function(t,i,o){if(!c(t))throw Error(a(299));var u=!1,f="",m=Vf,T=Pf,C=Gf,_=null,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(_=o.unstable_transitionCallbacks),o.formState!==void 0&&(D=o.formState)),i=cm(t,1,!0,i,o??null,u,f,m,T,C,_,D),i.context=fm(null),o=i.current,u=kt(),u=Fa(u),f=Ln(u),f.callback=null,On(o,f,u),o=u,i.current.lanes=o,pl(i,o),un(i),t[Ei]=i.current,Or(t),new Ra(i)},co.version="19.1.0",co}var Dm;function ev(){if(Dm)return nu.exports;Dm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nu.exports=jy(),nu.exports}var tv=ev();const nv=Qp(tv);var se=(n=>(n.AUTH="AUTH",n.GENERATING_CASE="GENERATING_CASE",n.CASE_BRIEFING="CASE_BRIEFING",n.TRIAL_INTRO="TRIAL_INTRO",n.PROSECUTOR_ARGUMENT="PROSECUTOR_ARGUMENT",n.CO_COUNSEL_ADVICE="CO_COUNSEL_ADVICE",n.PLAYER_ACTION="PLAYER_ACTION",n.PLAYER_OBJECTION_INPUT="PLAYER_OBJECTION_INPUT",n.PLAYER_DEFENSE_INPUT="PLAYER_DEFENSE_INPUT",n.VERDICT="VERDICT",n))(se||{}),J=(n=>(n.JUDGE="The Judge",n.PROSECUTOR="Silly Prosecutor",n.DEFENSE_PLAYER="You (The Hero)",n.CO_COUNSEL="Your Super Helper",n.CLIENT="Your Friend in Trouble",n.NARRATOR="The Storyteller",n))(J||{}),j=(n=>(n.CASE_BRIEFING_INTRO="CASE_BRIEFING_INTRO",n.CASE_BRIEFING_PROCEED_BUTTON="CASE_BRIEFING_PROCEED_BUTTON",n.COURTROOM_WELCOME="COURTROOM_WELCOME",n.COURTROOM_CHARACTERS="COURTROOM_CHARACTERS",n.COURTROOM_DIALOGUE_BOX="COURTROOM_DIALOGUE_BOX",n.COURTROOM_TIMER_INTRO="COURTROOM_TIMER_INTRO",n.COURTROOM_PLAYER_ACTIONS_INTRO="COURTROOM_PLAYER_ACTIONS_INTRO",n.COURTROOM_TOOL_EVIDENCE="COURTROOM_TOOL_EVIDENCE",n.COURTROOM_TOOL_PROOF_BOARD="COURTROOM_TOOL_PROOF_BOARD",n.COURTROOM_TOOL_OBJECTION="COURTROOM_TOOL_OBJECTION",n.COURTROOM_OBJECTION_INPUT="COURTROOM_OBJECTION_INPUT",n.EVIDENCE_MODAL_INTRO="EVIDENCE_MODAL_INTRO",n.PROOF_BOARD_MODAL_INTRO="PROOF_BOARD_MODAL_INTRO",n.HEADER_MY_LEARNINGS="HEADER_MY_LEARNINGS",n))(j||{});const fu="Oh no! The magic AI key is missing. The AI characters can't talk without it!",wm=[{id:"evidence_terminal",name:"Clue Checker",description:"Look at all the pictures and clues.",icon:"🔍",tutorialId:j.COURTROOM_TOOL_EVIDENCE},{id:"proof_board",name:"My Story Board",description:"Tell your story to help your friend.",icon:"💡",tutorialId:j.COURTROOM_TOOL_PROOF_BOARD},{id:"objection_system",name:"Wait a Minute!",description:'Say "Wait!" if the Silly Prosecutor says something not right.',icon:"🗣️",tutorialId:j.COURTROOM_TOOL_OBJECTION}],_u="gemini-2.5-flash",ba="algebradictionTutorialCompletedSteps_v1",au="algebradictionAllTutorialsDone_v1",su="algebradictionLearnings_v1",ru="algebradictionCurrentLevel_v1",Zp="algebradictionClass8TopicIndex_v1",Wp="algebradictionClass9TopicIndex_v1",jp="algebradictionClass10TopicIndex_v1",Da="algebradictionUsers_v1",fo="algebradictionLastLoggedInUser_v1",Ct=(n,e)=>e?`${n}_${e}`:`${n}_guest`,iv=5,lv=.25,Um=1.5,ov=10,av=20;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sv,rv;function uv(){return{geminiUrl:sv,vertexUrl:rv}}function cv(n,e,l){var a,c,d;if(!(!((a=n.httpOptions)===null||a===void 0)&&a.baseUrl)){const h=uv();return n.vertexai?(c=h.vertexUrl)!==null&&c!==void 0?c:e:(d=h.geminiUrl)!==null&&d!==void 0?d:l}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ci{}function ue(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,l){for(let d=0;d<e.length-1;d++){const h=e[d];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in n))if(Array.isArray(l))n[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(l))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(d+1),l[p])}else for(const p of y)r(p,e.slice(d+1),l)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(d+1),l);return}(!n[h]||typeof n[h]!="object")&&(n[h]={}),n=n[h]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===c)return;if(typeof c=="object"&&typeof l=="object"&&c!==null&&l!==null)Object.assign(c,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else n[a]=l}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const a=e[l];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(h=>s(h,e.slice(l+1))):void 0}else return}else n=n[a]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Im;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Im||(Im={}));var Lm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Lm||(Lm={}));var ei;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ei||(ei={}));var Om;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Om||(Om={}));var Vm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Vm||(Vm={}));var Pm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Pm||(Pm={}));var Gm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Gm||(Gm={}));var qm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(qm||(qm={}));var Bm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bm||(Bm={}));var km;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(km||(km={}));var Hm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Hm||(Hm={}));var zm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(zm||(zm={}));var Fm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Fm||(Fm={}));var Ym;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ym||(Ym={}));var Jm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Jm||(Jm={}));var $m;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($m||($m={}));var Ga;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ga||(Ga={}));var Km;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Km||(Km={}));var du;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(du||(du={}));var Xm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xm||(Xm={}));var Qm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Qm||(Qm={}));var Zm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Zm||(Zm={}));var Wm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Wm||(Wm={}));var jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(jm||(jm={}));var ep;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ep||(ep={}));var tp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(tp||(tp={}));var np;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(np||(np={}));var ip;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ip||(ip={}));var lp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lp||(lp={}));var op;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(op||(op={}));var ap;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ap||(ap={}));var sp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(sp||(sp={}));var rp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(rp||(rp={}));var up;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(up||(up={}));var cp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(cp||(cp={}));var fp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(fp||(fp={}));var dp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(dp||(dp={}));var mp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(mp||(mp={}));var pp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pp||(pp={}));var hp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(hp||(hp={}));var gp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(gp||(gp={}));var al;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(al||(al={}));class mu{constructor(e){const l={};for(const a of e.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class mo{get text(){var e,l,a,c,d,h,g,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const E=[];for(const S of(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,I]of Object.entries(S))R!=="text"&&R!=="thought"&&(I!==null||I!==void 0)&&E.push(R);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,l,a,c,d,h,g,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const E of(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,R]of Object.entries(E))S!=="inlineData"&&(R!==null||R!==void 0)&&v.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(p+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,a,c,d,h,g,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,a,c,d,h,g,y,p;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,a,c,d,h,g,y,p;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class yp{}class vp{}class fv{}class dv{}class Tp{}class Cp{}class Ep{}class mv{}class Sp{}class xp{}class _p{}class pv{}class hv{}class gv{}class Ap{}class yv{get text(){var e,l,a;let c="",d=!1;const h=[];for(const g of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&h.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,l,a;let c="";const d=[];for(const h of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(h))g!=="inlineData"&&y!==null&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class vv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function eh(n,e){const l=Ge(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function th(n){return Array.isArray(n)?n.map(e=>qa(e)):[qa(n)]}function qa(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function nh(n){const e=qa(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ih(n){const e=qa(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Mp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function lh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Mp(e)):[Mp(n)]}function pu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Rp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Np(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Mt(n){if(n==null)throw new Error("ContentUnion is required");return pu(n)?n:{role:"user",parts:lh(n)}}function oh(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const a=Mt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const l=Mt(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>Mt(l)):[Mt(e)]}function jt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Rp(n)||Np(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mt(n)]}const e=[],l=[],a=pu(n[0]);for(const c of n){const d=pu(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(Rp(c)||Np(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(c)}}return a||e.push({role:"user",parts:lh(l)}),e}function Tv(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(a=>a!=="null");if(l.length===1)e.type=Object.values(ei).includes(l[0].toUpperCase())?l[0].toUpperCase():ei.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of l)e.anyOf.push({type:Object.values(ei).includes(a.toUpperCase())?a.toUpperCase():ei.TYPE_UNSPECIFIED})}}function sl(n){const e={},l=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&Tv(n.type,e);for(const[h,g]of Object.entries(n))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(ei).includes(g.toUpperCase())?g.toUpperCase():ei.TYPE_UNSPECIFIED}else if(l.includes(h))e[h]=sl(g);else if(a.includes(h)){const y=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}y.push(sl(p))}e[h]=y}else if(c.includes(h)){const y={};for(const[p,v]of Object.entries(g))y[p]=sl(v);e[h]=y}else{if(h==="additionalProperties")continue;e[h]=g}return e}function Au(n){return sl(n)}function Mu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Ru(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ul(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=sl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=sl(e.response));return n}function cl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function Cv(n,e,l,a=1){const c=!e.startsWith(`${l}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:c?`${l}/${e}`:e}function Rn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Cv(n,e,"cachedContents")}function ah(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Nn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function Ev(n){return n!=null&&typeof n=="object"&&"name"in n}function Sv(n){return n!=null&&typeof n=="object"&&"video"in n}function xv(n){return n!=null&&typeof n=="object"&&"uri"in n}function sh(n){var e;let l;if(Ev(n)&&(l=n.name),!(xv(n)&&(l=n.uri,l===void 0))&&!(Sv(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const c=l.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${l}`);l=c[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function rh(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function uh(n){for(const e of["models","tunedModels","publisherModels"])if(_v(n,e))return n[e];return[]}function _v(n,e){return n!==null&&typeof n=="object"&&e in n}function Av(n,e={}){const l=n,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function Mv(n,e={}){const l=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const h=Av(c,e);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function ch(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Rv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fl(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function fh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nv(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function bv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Dv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function wv(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Nv(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],bv(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Dv(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function dh(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>wv(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Uv(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const h=s(n,["example"]);h!=null&&r(e,["example"],h);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const E=s(n,["maxProperties"]);E!=null&&r(e,["maxProperties"],E);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const R=s(n,["minItems"]);R!=null&&r(e,["minItems"],R);const I=s(n,["minLength"]);I!=null&&r(e,["minLength"],I);const V=s(n,["minProperties"]);V!=null&&r(e,["minProperties"],V);const k=s(n,["minimum"]);k!=null&&r(e,["minimum"],k);const X=s(n,["nullable"]);X!=null&&r(e,["nullable"],X);const z=s(n,["pattern"]);z!=null&&r(e,["pattern"],z);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const Q=s(n,["propertyOrdering"]);Q!=null&&r(e,["propertyOrdering"],Q);const H=s(n,["required"]);H!=null&&r(e,["required"],H);const te=s(n,["title"]);te!=null&&r(e,["title"],te);const re=s(n,["type"]);return re!=null&&r(e,["type"],re),e}function Iv(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&r(e,["category"],l);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function Lv(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const h=s(n,["parametersJsonSchema"]);h!=null&&r(e,["parametersJsonSchema"],h);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Ov(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function Vv(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],Ov(l)),e}function Pv(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Gv(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],Pv(l)),e}function qv(){return{}}function Bv(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Lv(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],Vv(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],Gv(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],qv());const h=s(n,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function kv(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Hv(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function zv(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],Hv(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Fv(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],kv(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],zv(a)),e}function Yv(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function mh(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],Yv(l)),e}function Jv(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],mh(a)),e}function $v(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Jv(c))),r(e,["speakerVoiceConfigs"],a)}return e}function Kv(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],mh(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],$v(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function Xv(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function Qv(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],dh(Mt(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const h=s(e,["topP"]);h!=null&&r(a,["topP"],h);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const E=s(e,["responseLogprobs"]);E!=null&&r(a,["responseLogprobs"],E);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const R=s(e,["presencePenalty"]);R!=null&&r(a,["presencePenalty"],R);const I=s(e,["frequencyPenalty"]);I!=null&&r(a,["frequencyPenalty"],I);const V=s(e,["seed"]);V!=null&&r(a,["seed"],V);const k=s(e,["responseMimeType"]);k!=null&&r(a,["responseMimeType"],k);const X=s(e,["responseSchema"]);X!=null&&r(a,["responseSchema"],Uv(Au(X)));const z=s(e,["responseJsonSchema"]);if(z!=null&&r(a,["responseJsonSchema"],z),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=s(e,["safetySettings"]);if(l!==void 0&&F!=null){let oe=F;Array.isArray(oe)&&(oe=oe.map(Se=>Iv(Se))),r(l,["safetySettings"],oe)}const Q=s(e,["tools"]);if(l!==void 0&&Q!=null){let oe=cl(Q);Array.isArray(oe)&&(oe=oe.map(Se=>Bv(ul(Se)))),r(l,["tools"],oe)}const H=s(e,["toolConfig"]);if(l!==void 0&&H!=null&&r(l,["toolConfig"],Fv(H)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=s(e,["cachedContent"]);l!==void 0&&te!=null&&r(l,["cachedContent"],Rn(n,te));const re=s(e,["responseModalities"]);re!=null&&r(a,["responseModalities"],re);const ne=s(e,["mediaResolution"]);ne!=null&&r(a,["mediaResolution"],ne);const ie=s(e,["speechConfig"]);if(ie!=null&&r(a,["speechConfig"],Kv(Mu(ie))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=s(e,["thinkingConfig"]);return W!=null&&r(a,["thinkingConfig"],Xv(W)),a}function Zv(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["request","model"],Ge(n,a));const c=s(e,["contents"]);if(c!=null){let h=jt(c);Array.isArray(h)&&(h=h.map(g=>dh(g))),r(l,["request","contents"],h)}const d=s(e,["config"]);return d!=null&&r(l,["request","generationConfig"],Qv(n,d,l)),l}function Wv(n,e){const l={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&r(l,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Zv(n,h))),r(l,["requests","requests"],d)}return l}function jv(n,e){const l={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&r(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function eT(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["src"]);c!=null&&r(l,["batch","inputConfig"],Wv(n,ch(n,c)));const d=s(e,["config"]);return d!=null&&r(l,["config"],jv(d,l)),l}function tT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],fl(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function nT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],fl(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function iT(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function lT(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],iT(l,e)),e}function oT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],fl(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function aT(n){const e={},l=s(n,["format"]);l!=null&&r(e,["instancesFormat"],l);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sT(n){const e={},l=s(n,["format"]);l!=null&&r(e,["predictionsFormat"],l);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function rT(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],sT(Rv(c))),l}function uT(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],Ge(n,a));const c=s(e,["src"]);c!=null&&r(l,["inputConfig"],aT(ch(n,c)));const d=s(e,["config"]);return d!=null&&r(l,["config"],rT(d,l)),l}function cT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],fl(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function fT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],fl(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function dT(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function mT(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],dT(l,e)),e}function pT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],fl(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function hT(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function gT(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function yT(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function vT(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],hT(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],gT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],yT(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function TT(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>vT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function CT(n){const e={},l=s(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function ET(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function ST(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>ET(c))),r(e,["urlMetadata"],a)}return e}function xT(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],TT(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],CT(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const h=s(n,["urlContextMetadata"]);h!=null&&r(e,["urlContextMetadata"],ST(h));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const E=s(n,["safetyRatings"]);return E!=null&&r(e,["safetyRatings"],E),e}function _T(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(y=>xT(y))),r(e,["candidates"],g)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const h=s(n,["usageMetadata"]);return h!=null&&r(e,["usageMetadata"],h),e}function ph(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function AT(n){const e={},l=s(n,["response"]);l!=null&&r(e,["response"],_T(l));const a=s(n,["error"]);return a!=null&&r(e,["error"],ph(a)),e}function MT(n){const e={},l=s(n,["responsesFile"]);l!=null&&r(e,["fileName"],l);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>AT(d))),r(e,["inlinedResponses"],c)}return e}function hu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata","displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],fh(c));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const h=s(n,["metadata","endTime"]);h!=null&&r(e,["endTime"],h);const g=s(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],MT(p)),e}function RT(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>hu(d))),r(e,["batchJobs"],c)}return e}function NT(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],ph(c)),e}function hh(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function bT(n){const e={},l=s(n,["instancesFormat"]);l!=null&&r(e,["format"],l);const a=s(n,["gcsSource","uris"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function DT(n){const e={},l=s(n,["predictionsFormat"]);l!=null&&r(e,["format"],l);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function gu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],fh(c));const d=s(n,["error"]);d!=null&&r(e,["error"],hh(d));const h=s(n,["createTime"]);h!=null&&r(e,["createTime"],h);const g=s(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const E=s(n,["inputConfig"]);E!=null&&r(e,["src"],bT(E));const S=s(n,["outputConfig"]);return S!=null&&r(e,["dest"],DT(S)),e}function wT(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>gu(d))),r(e,["batchJobs"],c)}return e}function UT(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],hh(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ti;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ti||(Ti={}));class yo{constructor(e,l,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,a,c)}init(e,l,a){var c,d;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let h={config:{}};a?typeof a=="object"?h=Object.assign({},a):h=a:h={config:{}},h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(d=(c=h.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IT extends Ci{constructor(e){super(),this.apiClient=e,this.create=async l=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_${timestampStr}"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_${c}`;else throw new Error("Unsupported source:"+l.src)}return await this.createInternal(l)},this.list=async(l={})=>new yo(Ti.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}async createInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=uT(this.apiClient,e);return g=ue("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>gu(v))}else{const p=eT(this.apiClient,e);return g=ue("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>hu(v))}}async get(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=cT(this.apiClient,e);return g=ue("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>gu(v))}else{const p=tT(this.apiClient,e);return g=ue("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>hu(v))}}async cancel(e){var l,a,c,d;let h="",g={};if(this.apiClient.isVertexAI()){const y=fT(this.apiClient,e);h=ue("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=nT(this.apiClient,e);h=ue("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=mT(e);return g=ue("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=wT(v),S=new Ap;return Object.assign(S,E),S})}else{const p=lT(e);return g=ue("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>{const E=RT(v),S=new Ap;return Object.assign(S,E),S})}}async delete(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=pT(this.apiClient,e);return g=ue("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>UT(v))}else{const p=oT(this.apiClient,e);return g=ue("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>NT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LT(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function OT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function VT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function PT(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],LT(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],OT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],VT(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function bp(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>PT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function GT(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const h=s(n,["parametersJsonSchema"]);h!=null&&r(e,["parametersJsonSchema"],h);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function qT(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function BT(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],qT(l)),e}function kT(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function HT(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],kT(l)),e}function zT(){return{}}function FT(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>GT(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],BT(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],HT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],zT());const h=s(n,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function YT(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function JT(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function $T(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],JT(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function KT(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],YT(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],$T(a)),e}function XT(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const h=s(n,["contents"]);if(e!==void 0&&h!=null){let v=jt(h);Array.isArray(v)&&(v=v.map(E=>bp(E))),r(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],bp(Mt(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>FT(E))),r(e,["tools"],v)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],KT(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function QT(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],eh(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],XT(c,l)),l}function ZT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Rn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function WT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Rn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function jT(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function e0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Rn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],jT(c,l)),l}function t0(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function n0(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],t0(l,e)),e}function i0(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function l0(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function o0(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function a0(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],i0(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],l0(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],o0(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function Dp(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>a0(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function s0(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function r0(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function u0(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],r0(l)),e}function c0(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function f0(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],c0(l)),e}function d0(){return{}}function m0(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function p0(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],m0(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const h=s(n,["oauthConfig"]);h!=null&&r(e,["oauthConfig"],h);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function h0(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],p0(l)),e}function g0(){return{}}function y0(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(S=>s0(S))),r(e,["functionDeclarations"],E)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],u0(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],f0(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],d0());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],h0(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],g0());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function v0(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function T0(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function C0(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],T0(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function E0(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],v0(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],C0(a)),e}function S0(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const h=s(n,["contents"]);if(e!==void 0&&h!=null){let E=jt(h);Array.isArray(E)&&(E=E.map(S=>Dp(S))),r(e,["contents"],E)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Dp(Mt(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>y0(S))),r(e,["tools"],E)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],E0(p));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),l}function x0(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],eh(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],S0(c,l)),l}function _0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Rn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function A0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Rn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function M0(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function R0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Rn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],M0(c,l)),l}function N0(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function b0(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],N0(l,e)),e}function La(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function D0(){return{}}function w0(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>La(d))),r(e,["cachedContents"],c)}return e}function Oa(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function U0(){return{}}function I0(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Oa(d))),r(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L0 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new yo(Ti.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=x0(this.apiClient,e);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Oa(v))}else{const p=QT(this.apiClient,e);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>La(v))}}async get(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=_0(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Oa(v))}else{const p=ZT(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>La(v))}}async delete(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=A0(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(()=>{const v=U0(),E=new xp;return Object.assign(E,v),E})}else{const p=WT(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(()=>{const v=D0(),E=new xp;return Object.assign(E,v),E})}}async update(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=R0(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Oa(v))}else{const p=e0(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>La(v))}}async listInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=b0(e);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=I0(v),S=new _p;return Object.assign(S,E),S})}else{const p=n0(e);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>{const E=w0(v),S=new _p;return Object.assign(S,E),S})}}}function wp(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],a=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(n){return this instanceof Ke?(this.v=n,this):new Ke(n)}function rl(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(R){return function(I){return Promise.resolve(I).then(R,E)}}function g(R,I){a[R]&&(c[R]=function(V){return new Promise(function(k,X){d.push([R,V,k,X])>1||y(R,V)})},I&&(c[R]=I(c[R])))}function y(R,I){try{p(a[R](I))}catch(V){S(d[0][3],V)}}function p(R){R.value instanceof Ke?Promise.resolve(R.value.v).then(v,E):S(d[0][2],R)}function v(R){y("next",R)}function E(R){y("throw",R)}function S(R,I){R(I),d.shift(),d.length&&y(d[0][0],d[0][1])}}function go(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof wp=="function"?wp(n):n[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=n[d]&&function(h){return new Promise(function(g,y){h=n[d](h),c(g,y,h.done,h.value)})}}function c(d,h,g,y){Promise.resolve(y).then(function(p){d({value:p,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O0(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:gh(l)}function gh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function V0(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Up(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let a=0;for(;a<l;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<l&&n[a].role==="model";)c.push(n[a]),d&&!gh(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class P0{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new G0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class G0{constructor(e,l,a,c={},d=[]){this.apiClient=e,this.modelsModule=l,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),V0(d)}async sendMessage(e){var l;await this.sendPromise;const a=Mt(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,h,g;const y=await c,p=(h=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(E))!==null&&g!==void 0?g:[]);const R=p?[p]:[];this.recordHistory(a,R,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var l;await this.sendPromise;const a=Mt(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const l=e?Up(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var a,c;return rl(this,arguments,function*(){var h,g,y,p;const v=[];try{for(var E=!0,S=go(e),R;R=yield Ke(S.next()),h=R.done,!h;E=!0){p=R.value,E=!1;const I=p;if(O0(I)){const V=(c=(a=I.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;V!==void 0&&v.push(V)}yield yield Ke(I)}}catch(I){g={error:I}}finally{try{!E&&!h&&(y=S.return)&&(yield Ke(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(e,l,a){let c=[];l.length>0&&l.every(d=>d.role!==void 0)?c=l:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Up(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ba.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q0(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function B0(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],q0(l,e)),e}function k0(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function H0(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const h=s(n,["createTime"]);h!=null&&r(e,["createTime"],h);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const E=s(n,["downloadUri"]);E!=null&&r(e,["downloadUri"],E);const S=s(n,["state"]);S!=null&&r(e,["state"],S);const R=s(n,["source"]);R!=null&&r(e,["source"],R);const I=s(n,["videoMetadata"]);I!=null&&r(e,["videoMetadata"],I);const V=s(n,["error"]);return V!=null&&r(e,["error"],k0(V)),e}function z0(n){const e={},l=s(n,["file"]);l!=null&&r(e,["file"],H0(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function F0(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","file"],sh(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function Y0(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","file"],sh(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function J0(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function yu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const h=s(n,["createTime"]);h!=null&&r(e,["createTime"],h);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const E=s(n,["downloadUri"]);E!=null&&r(e,["downloadUri"],E);const S=s(n,["state"]);S!=null&&r(e,["state"],S);const R=s(n,["source"]);R!=null&&r(e,["source"],R);const I=s(n,["videoMetadata"]);I!=null&&r(e,["videoMetadata"],I);const V=s(n,["error"]);return V!=null&&r(e,["error"],J0(V)),e}function $0(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>yu(d))),r(e,["files"],c)}return e}function K0(n){const e={},l=s(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function X0(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q0 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new yo(Ti.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>yu(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=B0(e);return d=ue("files",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=$0(y),v=new pv;return Object.assign(v,p),v})}}async createInternal(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=z0(e);return d=ue("upload/v1beta/files",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=K0(y),v=new hv;return Object.assign(v,p),v})}}async get(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=F0(e);return d=ue("files/{file}",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>yu(y))}}async delete(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Y0(e);return d=ue("files/{file}",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=X0(),p=new gv;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z0(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function yh(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],Z0(l)),e}function W0(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],yh(a)),e}function j0(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>W0(c))),r(e,["speakerVoiceConfigs"],a)}return e}function eC(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],yh(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],j0(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function tC(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function nC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function iC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function lC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],tC(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],nC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],iC(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function oC(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>lC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function aC(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const h=s(n,["parametersJsonSchema"]);h!=null&&r(e,["parametersJsonSchema"],h);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function sC(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function rC(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],sC(l)),e}function uC(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function cC(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],uC(l)),e}function fC(){return{}}function dC(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>aC(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],rC(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],cC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],fC());const h=s(n,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function mC(n){const e={},l=s(n,["handle"]);if(l!=null&&r(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ip(){return{}}function pC(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const h=s(n,["silenceDurationMs"]);return h!=null&&r(e,["silenceDurationMs"],h),e}function hC(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],pC(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function gC(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function yC(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],gC(a)),e}function vC(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function TC(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const h=s(n,["topP"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topP"],h);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const E=s(n,["speechConfig"]);e!==void 0&&E!=null&&r(e,["setup","generationConfig","speechConfig"],eC(Ru(E)));const S=s(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=s(n,["systemInstruction"]);e!==void 0&&R!=null&&r(e,["setup","systemInstruction"],oC(Mt(R)));const I=s(n,["tools"]);if(e!==void 0&&I!=null){let H=cl(I);Array.isArray(H)&&(H=H.map(te=>dC(ul(te)))),r(e,["setup","tools"],H)}const V=s(n,["sessionResumption"]);e!==void 0&&V!=null&&r(e,["setup","sessionResumption"],mC(V));const k=s(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&r(e,["setup","inputAudioTranscription"],Ip());const X=s(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&r(e,["setup","outputAudioTranscription"],Ip());const z=s(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],hC(z));const F=s(n,["contextWindowCompression"]);e!==void 0&&F!=null&&r(e,["setup","contextWindowCompression"],yC(F));const Q=s(n,["proactivity"]);return e!==void 0&&Q!=null&&r(e,["setup","proactivity"],vC(Q)),l}function CC(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],TC(c,l)),l}function EC(){return{}}function SC(){return{}}function xC(n){const e={},l=s(n,["media"]);l!=null&&r(e,["mediaChunks"],th(l));const a=s(n,["audio"]);a!=null&&r(e,["audio"],ih(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],nh(d));const h=s(n,["text"]);return h!=null&&r(e,["text"],h),s(n,["activityStart"])!=null&&r(e,["activityStart"],EC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],SC()),e}function vh(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function _C(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>vh(c))),r(e,["weightedPrompts"],a)}return e}function Th(n){const e={},l=s(n,["temperature"]);l!=null&&r(e,["temperature"],l);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const h=s(n,["bpm"]);h!=null&&r(e,["bpm"],h);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const E=s(n,["muteDrums"]);E!=null&&r(e,["muteDrums"],E);const S=s(n,["onlyBassAndDrums"]);return S!=null&&r(e,["onlyBassAndDrums"],S),e}function AC(n){const e={},l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],Th(l)),e}function Ch(n){const e={},l=s(n,["model"]);return l!=null&&r(e,["model"],l),e}function Eh(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>vh(c))),r(e,["weightedPrompts"],a)}return e}function vu(n){const e={},l=s(n,["setup"]);l!=null&&r(e,["setup"],Ch(l));const a=s(n,["clientContent"]);a!=null&&r(e,["clientContent"],Eh(a));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],Th(c));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function MC(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function RC(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],MC(l)),e}function NC(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],RC(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function bC(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function DC(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function wC(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function UC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],bC(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],DC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],wC(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function IC(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>UC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function LC(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function OC(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function VC(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],OC(l)),e}function PC(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function GC(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],PC(l)),e}function qC(){return{}}function BC(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function kC(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],BC(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const h=s(n,["oauthConfig"]);h!=null&&r(e,["oauthConfig"],h);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function HC(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],kC(l)),e}function zC(){return{}}function FC(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(S=>LC(S))),r(e,["functionDeclarations"],E)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],VC(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],GC(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],qC());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],HC(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],zC());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function YC(n){const e={},l=s(n,["handle"]);l!=null&&r(e,["handle"],l);const a=s(n,["transparent"]);return a!=null&&r(e,["transparent"],a),e}function Lp(){return{}}function JC(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const h=s(n,["silenceDurationMs"]);return h!=null&&r(e,["silenceDurationMs"],h),e}function $C(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],JC(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function KC(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function XC(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],KC(a)),e}function QC(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function ZC(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const h=s(n,["topP"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topP"],h);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const E=s(n,["speechConfig"]);e!==void 0&&E!=null&&r(e,["setup","generationConfig","speechConfig"],NC(Ru(E)));const S=s(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=s(n,["systemInstruction"]);e!==void 0&&R!=null&&r(e,["setup","systemInstruction"],IC(Mt(R)));const I=s(n,["tools"]);if(e!==void 0&&I!=null){let H=cl(I);Array.isArray(H)&&(H=H.map(te=>FC(ul(te)))),r(e,["setup","tools"],H)}const V=s(n,["sessionResumption"]);e!==void 0&&V!=null&&r(e,["setup","sessionResumption"],YC(V));const k=s(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&r(e,["setup","inputAudioTranscription"],Lp());const X=s(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&r(e,["setup","outputAudioTranscription"],Lp());const z=s(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],$C(z));const F=s(n,["contextWindowCompression"]);e!==void 0&&F!=null&&r(e,["setup","contextWindowCompression"],XC(F));const Q=s(n,["proactivity"]);return e!==void 0&&Q!=null&&r(e,["setup","proactivity"],QC(Q)),l}function WC(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],ZC(c,l)),l}function jC(){return{}}function eE(){return{}}function tE(n){const e={},l=s(n,["media"]);l!=null&&r(e,["mediaChunks"],th(l));const a=s(n,["audio"]);a!=null&&r(e,["audio"],ih(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],nh(d));const h=s(n,["text"]);return h!=null&&r(e,["text"],h),s(n,["activityStart"])!=null&&r(e,["activityStart"],jC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],eE()),e}function nE(){return{}}function iE(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function lE(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function oE(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function aE(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],iE(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],lE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],oE(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function sE(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>aE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Op(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function rE(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function uE(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>rE(c))),r(e,["urlMetadata"],a)}return e}function cE(n){const e={},l=s(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],sE(l));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const h=s(n,["generationComplete"]);h!=null&&r(e,["generationComplete"],h);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Op(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Op(y));const p=s(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],uE(p)),e}function fE(n){const e={},l=s(n,["id"]);l!=null&&r(e,["id"],l);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function dE(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>fE(c))),r(e,["functionCalls"],a)}return e}function mE(n){const e={},l=s(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function wa(n){const e={},l=s(n,["modality"]);l!=null&&r(e,["modality"],l);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function pE(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const h=s(n,["thoughtsTokenCount"]);h!=null&&r(e,["thoughtsTokenCount"],h);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(R=>wa(R))),r(e,["promptTokensDetails"],S)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(R=>wa(R))),r(e,["cacheTokensDetails"],S)}const v=s(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(R=>wa(R))),r(e,["responseTokensDetails"],S)}const E=s(n,["toolUsePromptTokensDetails"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(R=>wa(R))),r(e,["toolUsePromptTokensDetails"],S)}return e}function hE(n){const e={},l=s(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function gE(n){const e={},l=s(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function yE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],nE());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],cE(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],dE(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],mE(d));const h=s(n,["usageMetadata"]);h!=null&&r(e,["usageMetadata"],pE(h));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],hE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],gE(y)),e}function vE(){return{}}function TE(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function CE(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>TE(c))),r(e,["weightedPrompts"],a)}return e}function EE(n){const e={},l=s(n,["temperature"]);l!=null&&r(e,["temperature"],l);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const h=s(n,["bpm"]);h!=null&&r(e,["bpm"],h);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const E=s(n,["muteDrums"]);E!=null&&r(e,["muteDrums"],E);const S=s(n,["onlyBassAndDrums"]);return S!=null&&r(e,["onlyBassAndDrums"],S),e}function SE(n){const e={},l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],CE(l));const a=s(n,["musicGenerationConfig"]);return a!=null&&r(e,["musicGenerationConfig"],EE(a)),e}function xE(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);a!=null&&r(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],SE(c)),e}function _E(n){const e={},l=s(n,["audioChunks"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>xE(c))),r(e,["audioChunks"],a)}return e}function AE(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["filteredReason"]);return a!=null&&r(e,["filteredReason"],a),e}function ME(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],vE());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],_E(a));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],AE(c)),e}function RE(n){const e={},l=s(n,["sessionId"]);return l!=null&&r(e,["sessionId"],l),e}function NE(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function bE(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function DE(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function wE(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],NE(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],bE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],DE(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function UE(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>wE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Vp(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function IE(n){const e={},l=s(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],UE(l));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const h=s(n,["generationComplete"]);h!=null&&r(e,["generationComplete"],h);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Vp(g));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],Vp(y)),e}function LE(n){const e={},l=s(n,["args"]);l!=null&&r(e,["args"],l);const a=s(n,["name"]);return a!=null&&r(e,["name"],a),e}function OE(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>LE(c))),r(e,["functionCalls"],a)}return e}function VE(n){const e={},l=s(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function Ua(n){const e={},l=s(n,["modality"]);l!=null&&r(e,["modality"],l);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function PE(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const h=s(n,["thoughtsTokenCount"]);h!=null&&r(e,["thoughtsTokenCount"],h);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(I=>Ua(I))),r(e,["promptTokensDetails"],R)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let R=p;Array.isArray(R)&&(R=R.map(I=>Ua(I))),r(e,["cacheTokensDetails"],R)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(I=>Ua(I))),r(e,["responseTokensDetails"],R)}const E=s(n,["toolUsePromptTokensDetails"]);if(E!=null){let R=E;Array.isArray(R)&&(R=R.map(I=>Ua(I))),r(e,["toolUsePromptTokensDetails"],R)}const S=s(n,["trafficType"]);return S!=null&&r(e,["trafficType"],S),e}function GE(n){const e={},l=s(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function qE(n){const e={},l=s(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function BE(n){const e={},l=s(n,["setupComplete"]);l!=null&&r(e,["setupComplete"],RE(l));const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],IE(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],OE(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],VE(d));const h=s(n,["usageMetadata"]);h!=null&&r(e,["usageMetadata"],PE(h));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],GE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],qE(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function HE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function zE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function FE(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],kE(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],HE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],zE(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function ka(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>FE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function YE(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const h=s(n,["example"]);h!=null&&r(e,["example"],h);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const E=s(n,["maxProperties"]);E!=null&&r(e,["maxProperties"],E);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const R=s(n,["minItems"]);R!=null&&r(e,["minItems"],R);const I=s(n,["minLength"]);I!=null&&r(e,["minLength"],I);const V=s(n,["minProperties"]);V!=null&&r(e,["minProperties"],V);const k=s(n,["minimum"]);k!=null&&r(e,["minimum"],k);const X=s(n,["nullable"]);X!=null&&r(e,["nullable"],X);const z=s(n,["pattern"]);z!=null&&r(e,["pattern"],z);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const Q=s(n,["propertyOrdering"]);Q!=null&&r(e,["propertyOrdering"],Q);const H=s(n,["required"]);H!=null&&r(e,["required"],H);const te=s(n,["title"]);te!=null&&r(e,["title"],te);const re=s(n,["type"]);return re!=null&&r(e,["type"],re),e}function JE(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&r(e,["category"],l);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function $E(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const h=s(n,["parametersJsonSchema"]);h!=null&&r(e,["parametersJsonSchema"],h);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function KE(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function XE(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],KE(l)),e}function QE(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function ZE(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],QE(l)),e}function WE(){return{}}function jE(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>$E(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],XE(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],ZE(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],WE());const h=s(n,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function eS(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function tS(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function nS(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],tS(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function iS(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],eS(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],nS(a)),e}function lS(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function Sh(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],lS(l)),e}function oS(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],Sh(a)),e}function aS(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>oS(c))),r(e,["speakerVoiceConfigs"],a)}return e}function sS(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],Sh(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],aS(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function rS(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function uS(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],ka(Mt(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const h=s(e,["topP"]);h!=null&&r(a,["topP"],h);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const E=s(e,["responseLogprobs"]);E!=null&&r(a,["responseLogprobs"],E);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const R=s(e,["presencePenalty"]);R!=null&&r(a,["presencePenalty"],R);const I=s(e,["frequencyPenalty"]);I!=null&&r(a,["frequencyPenalty"],I);const V=s(e,["seed"]);V!=null&&r(a,["seed"],V);const k=s(e,["responseMimeType"]);k!=null&&r(a,["responseMimeType"],k);const X=s(e,["responseSchema"]);X!=null&&r(a,["responseSchema"],YE(Au(X)));const z=s(e,["responseJsonSchema"]);if(z!=null&&r(a,["responseJsonSchema"],z),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=s(e,["safetySettings"]);if(l!==void 0&&F!=null){let oe=F;Array.isArray(oe)&&(oe=oe.map(Se=>JE(Se))),r(l,["safetySettings"],oe)}const Q=s(e,["tools"]);if(l!==void 0&&Q!=null){let oe=cl(Q);Array.isArray(oe)&&(oe=oe.map(Se=>jE(ul(Se)))),r(l,["tools"],oe)}const H=s(e,["toolConfig"]);if(l!==void 0&&H!=null&&r(l,["toolConfig"],iS(H)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=s(e,["cachedContent"]);l!==void 0&&te!=null&&r(l,["cachedContent"],Rn(n,te));const re=s(e,["responseModalities"]);re!=null&&r(a,["responseModalities"],re);const ne=s(e,["mediaResolution"]);ne!=null&&r(a,["mediaResolution"],ne);const ie=s(e,["speechConfig"]);if(ie!=null&&r(a,["speechConfig"],sS(Mu(ie))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=s(e,["thinkingConfig"]);return W!=null&&r(a,["thinkingConfig"],rS(W)),a}function Pp(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["contents"]);if(c!=null){let h=jt(c);Array.isArray(h)&&(h=h.map(g=>ka(g))),r(l,["contents"],h)}const d=s(e,["config"]);return d!=null&&r(l,["generationConfig"],uS(n,d,l)),l}function cS(n,e){const l={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function fS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["contents"]);c!=null&&r(l,["requests[]","content"],oh(n,c));const d=s(e,["config"]);d!=null&&r(l,["config"],cS(d,l));const h=s(e,["model"]);return h!==void 0&&r(l,["requests[]","model"],Ge(n,h)),l}function dS(n,e){const l={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const E=s(n,["outputMimeType"]);e!==void 0&&E!=null&&r(e,["parameters","outputOptions","mimeType"],E);const S=s(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function mS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(l,["config"],dS(d,l)),l}function pS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function hS(n,e,l){const a={},c=s(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=s(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const h=s(e,["filter"]);l!==void 0&&h!=null&&r(l,["_query","filter"],h);const g=s(e,["queryBase"]);return l!==void 0&&g!=null&&r(l,["_url","models_url"],rh(n,g)),a}function gS(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],hS(n,a,l)),l}function yS(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function vS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],yS(c,l)),l}function TS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function CS(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ES(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["contents"]);if(c!=null){let h=jt(c);Array.isArray(h)&&(h=h.map(g=>ka(g))),r(l,["contents"],h)}const d=s(e,["config"]);return d!=null&&r(l,["config"],CS(d)),l}function SS(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Nn(l));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function xS(n,e){const l={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=s(n,["personGeneration"]);if(e!==void 0&&h!=null&&r(e,["parameters","personGeneration"],h),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=s(n,["negativePrompt"]);e!==void 0&&g!=null&&r(e,["parameters","negativePrompt"],g);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function _S(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&r(l,["instances[0]","image"],SS(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const h=s(e,["config"]);return h!=null&&r(l,["config"],xS(h,l)),l}function AS(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function MS(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function RS(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function NS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],AS(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],MS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],RS(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function dl(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>NS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function bS(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const h=s(n,["example"]);h!=null&&r(e,["example"],h);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const E=s(n,["maxProperties"]);E!=null&&r(e,["maxProperties"],E);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const R=s(n,["minItems"]);R!=null&&r(e,["minItems"],R);const I=s(n,["minLength"]);I!=null&&r(e,["minLength"],I);const V=s(n,["minProperties"]);V!=null&&r(e,["minProperties"],V);const k=s(n,["minimum"]);k!=null&&r(e,["minimum"],k);const X=s(n,["nullable"]);X!=null&&r(e,["nullable"],X);const z=s(n,["pattern"]);z!=null&&r(e,["pattern"],z);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const Q=s(n,["propertyOrdering"]);Q!=null&&r(e,["propertyOrdering"],Q);const H=s(n,["required"]);H!=null&&r(e,["required"],H);const te=s(n,["title"]);te!=null&&r(e,["title"],te);const re=s(n,["type"]);return re!=null&&r(e,["type"],re),e}function DS(n){const e={},l=s(n,["featureSelectionPreference"]);return l!=null&&r(e,["featureSelectionPreference"],l),e}function wS(n){const e={},l=s(n,["method"]);l!=null&&r(e,["method"],l);const a=s(n,["category"]);a!=null&&r(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function US(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function IS(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function LS(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],IS(l)),e}function OS(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function VS(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],OS(l)),e}function PS(){return{}}function GS(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function qS(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],GS(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const h=s(n,["oauthConfig"]);h!=null&&r(e,["oauthConfig"],h);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function BS(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],qS(l)),e}function kS(){return{}}function xh(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(S=>US(S))),r(e,["functionDeclarations"],E)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],LS(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],VS(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],PS());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],BS(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],kS());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function HS(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function zS(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function FS(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],zS(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function YS(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],HS(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],FS(a)),e}function JS(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function $S(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],JS(l)),e}function KS(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],$S(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function XS(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function QS(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],dl(Mt(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const h=s(e,["topP"]);h!=null&&r(a,["topP"],h);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const E=s(e,["responseLogprobs"]);E!=null&&r(a,["responseLogprobs"],E);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const R=s(e,["presencePenalty"]);R!=null&&r(a,["presencePenalty"],R);const I=s(e,["frequencyPenalty"]);I!=null&&r(a,["frequencyPenalty"],I);const V=s(e,["seed"]);V!=null&&r(a,["seed"],V);const k=s(e,["responseMimeType"]);k!=null&&r(a,["responseMimeType"],k);const X=s(e,["responseSchema"]);X!=null&&r(a,["responseSchema"],bS(Au(X)));const z=s(e,["responseJsonSchema"]);z!=null&&r(a,["responseJsonSchema"],z);const F=s(e,["routingConfig"]);F!=null&&r(a,["routingConfig"],F);const Q=s(e,["modelSelectionConfig"]);Q!=null&&r(a,["modelConfig"],DS(Q));const H=s(e,["safetySettings"]);if(l!==void 0&&H!=null){let he=H;Array.isArray(he)&&(he=he.map(L=>wS(L))),r(l,["safetySettings"],he)}const te=s(e,["tools"]);if(l!==void 0&&te!=null){let he=cl(te);Array.isArray(he)&&(he=he.map(L=>xh(ul(L)))),r(l,["tools"],he)}const re=s(e,["toolConfig"]);l!==void 0&&re!=null&&r(l,["toolConfig"],YS(re));const ne=s(e,["labels"]);l!==void 0&&ne!=null&&r(l,["labels"],ne);const ie=s(e,["cachedContent"]);l!==void 0&&ie!=null&&r(l,["cachedContent"],Rn(n,ie));const W=s(e,["responseModalities"]);W!=null&&r(a,["responseModalities"],W);const oe=s(e,["mediaResolution"]);oe!=null&&r(a,["mediaResolution"],oe);const Se=s(e,["speechConfig"]);Se!=null&&r(a,["speechConfig"],KS(Mu(Se)));const De=s(e,["audioTimestamp"]);De!=null&&r(a,["audioTimestamp"],De);const Ae=s(e,["thinkingConfig"]);return Ae!=null&&r(a,["thinkingConfig"],XS(Ae)),a}function Gp(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["contents"]);if(c!=null){let h=jt(c);Array.isArray(h)&&(h=h.map(g=>dl(g))),r(l,["contents"],h)}const d=s(e,["config"]);return d!=null&&r(l,["generationConfig"],QS(n,d,l)),l}function ZS(n,e){const l={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const h=s(n,["mimeType"]);e!==void 0&&h!=null&&r(e,["instances[]","mimeType"],h);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),l}function WS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["contents"]);c!=null&&r(l,["instances[]","content"],oh(n,c));const d=s(e,["config"]);return d!=null&&r(l,["config"],ZS(d,l)),l}function jS(n,e){const l={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const h=s(n,["aspectRatio"]);e!==void 0&&h!=null&&r(e,["parameters","aspectRatio"],h);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const E=s(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&r(e,["parameters","includeSafetyAttributes"],E);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const R=s(n,["language"]);e!==void 0&&R!=null&&r(e,["parameters","language"],R);const I=s(n,["outputMimeType"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","mimeType"],I);const V=s(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&r(e,["parameters","outputOptions","compressionQuality"],V);const k=s(n,["addWatermark"]);e!==void 0&&k!=null&&r(e,["parameters","addWatermark"],k);const X=s(n,["enhancePrompt"]);return e!==void 0&&X!=null&&r(e,["parameters","enhancePrompt"],X),l}function ex(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(l,["config"],jS(d,l)),l}function Ha(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["imageBytes"]);a!=null&&r(e,["bytesBase64Encoded"],Nn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function tx(n){const e={},l=s(n,["maskMode"]);l!=null&&r(e,["maskMode"],l);const a=s(n,["segmentationClasses"]);a!=null&&r(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function nx(n){const e={},l=s(n,["controlType"]);l!=null&&r(e,["controlType"],l);const a=s(n,["enableControlImageComputation"]);return a!=null&&r(e,["computeControl"],a),e}function ix(n){const e={},l=s(n,["styleDescription"]);return l!=null&&r(e,["styleDescription"],l),e}function lx(n){const e={},l=s(n,["subjectType"]);l!=null&&r(e,["subjectType"],l);const a=s(n,["subjectDescription"]);return a!=null&&r(e,["subjectDescription"],a),e}function ox(n){const e={},l=s(n,["referenceImage"]);l!=null&&r(e,["referenceImage"],Ha(l));const a=s(n,["referenceId"]);a!=null&&r(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],tx(d));const h=s(n,["controlImageConfig"]);h!=null&&r(e,["controlImageConfig"],nx(h));const g=s(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],ix(g));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],lx(y)),e}function ax(n,e){const l={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const h=s(n,["aspectRatio"]);e!==void 0&&h!=null&&r(e,["parameters","aspectRatio"],h);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const E=s(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&r(e,["parameters","includeSafetyAttributes"],E);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const R=s(n,["language"]);e!==void 0&&R!=null&&r(e,["parameters","language"],R);const I=s(n,["outputMimeType"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","mimeType"],I);const V=s(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&r(e,["parameters","outputOptions","compressionQuality"],V);const k=s(n,["addWatermark"]);e!==void 0&&k!=null&&r(e,["parameters","addWatermark"],k);const X=s(n,["editMode"]);e!==void 0&&X!=null&&r(e,["parameters","editMode"],X);const z=s(n,["baseSteps"]);return e!==void 0&&z!=null&&r(e,["parameters","editConfig","baseSteps"],z),l}function sx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>ox(y))),r(l,["instances[0]","referenceImages"],g)}const h=s(e,["config"]);return h!=null&&r(l,["config"],ax(h,l)),l}function rx(n,e){const l={},a=s(n,["includeRaiReason"]);e!==void 0&&a!=null&&r(e,["parameters","includeRaiReason"],a);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","compressionQuality"],d);const h=s(n,["enhanceInputImage"]);e!==void 0&&h!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=s(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=s(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),l}function ux(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["image"]);c!=null&&r(l,["instances[0]","image"],Ha(c));const d=s(e,["upscaleFactor"]);d!=null&&r(l,["parameters","upscaleConfig","upscaleFactor"],d);const h=s(e,["config"]);return h!=null&&r(l,["config"],rx(h,l)),l}function cx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function fx(n,e,l){const a={},c=s(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=s(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const h=s(e,["filter"]);l!==void 0&&h!=null&&r(l,["_query","filter"],h);const g=s(e,["queryBase"]);return l!==void 0&&g!=null&&r(l,["_url","models_url"],rh(n,g)),a}function dx(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],fx(n,a,l)),l}function mx(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function px(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],mx(c,l)),l}function hx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function gx(n,e){const l={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&r(e,["systemInstruction"],dl(Mt(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>xh(g))),r(e,["tools"],h)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),l}function yx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["contents"]);if(c!=null){let h=jt(c);Array.isArray(h)&&(h=h.map(g=>dl(g))),r(l,["contents"],h)}const d=s(e,["config"]);return d!=null&&r(l,["config"],gx(d,l)),l}function vx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["contents"]);if(c!=null){let h=jt(c);Array.isArray(h)&&(h=h.map(g=>dl(g))),r(l,["contents"],h)}const d=s(e,["config"]);return d!=null&&r(l,["config"],d),l}function Tx(n){const e={},l=s(n,["uri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["videoBytes"]);a!=null&&r(e,["bytesBase64Encoded"],Nn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Cx(n,e){const l={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const h=s(n,["durationSeconds"]);e!==void 0&&h!=null&&r(e,["parameters","durationSeconds"],h);const g=s(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const E=s(n,["pubsubTopic"]);e!==void 0&&E!=null&&r(e,["parameters","pubsubTopic"],E);const S=s(n,["negativePrompt"]);e!==void 0&&S!=null&&r(e,["parameters","negativePrompt"],S);const R=s(n,["enhancePrompt"]);e!==void 0&&R!=null&&r(e,["parameters","enhancePrompt"],R);const I=s(n,["generateAudio"]);e!==void 0&&I!=null&&r(e,["parameters","generateAudio"],I);const V=s(n,["lastFrame"]);e!==void 0&&V!=null&&r(e,["instances[0]","lastFrame"],Ha(V));const k=s(n,["compressionQuality"]);return e!==void 0&&k!=null&&r(e,["parameters","compressionQuality"],k),l}function Ex(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ge(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&r(l,["instances[0]","image"],Ha(d));const h=s(e,["video"]);h!=null&&r(l,["instances[0]","video"],Tx(h));const g=s(e,["config"]);return g!=null&&r(l,["config"],Cx(g,l)),l}function Sx(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function xx(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function _x(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Ax(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Sx(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],xx(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],_x(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function Mx(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ax(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Rx(n){const e={},l=s(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function Nx(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function bx(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Nx(c))),r(e,["urlMetadata"],a)}return e}function Dx(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],Mx(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],Rx(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const h=s(n,["urlContextMetadata"]);h!=null&&r(e,["urlContextMetadata"],bx(h));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const E=s(n,["safetyRatings"]);return E!=null&&r(e,["safetyRatings"],E),e}function qp(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(y=>Dx(y))),r(e,["candidates"],g)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const h=s(n,["usageMetadata"]);return h!=null&&r(e,["usageMetadata"],h),e}function wx(n){const e={},l=s(n,["values"]);return l!=null&&r(e,["values"],l),e}function Ux(){return{}}function Ix(n){const e={},l=s(n,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>wx(d))),r(e,["embeddings"],c)}return s(n,["metadata"])!=null&&r(e,["metadata"],Ux()),e}function Lx(n){const e={},l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],Nn(l));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function _h(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function Ox(n){const e={},l=s(n,["_self"]);l!=null&&r(e,["image"],Lx(l));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],_h(c)),e}function Vx(n){const e={},l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ox(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],_h(a)),e}function Px(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function Tu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const h=s(n,["_self"]);h!=null&&r(e,["tunedModelInfo"],Px(h));const g=s(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function Gx(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["_self"]);if(a!=null){let c=uh(a);Array.isArray(c)&&(c=c.map(d=>Tu(d))),r(e,["models"],c)}return e}function qx(){return{}}function Bx(n){const e={},l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const a=s(n,["cachedContentTokenCount"]);return a!=null&&r(e,["cachedContentTokenCount"],a),e}function kx(n){const e={},l=s(n,["video","uri"]);l!=null&&r(e,["uri"],l);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],Nn(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function Hx(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],kx(l)),e}function zx(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Hx(h))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Fx(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const h=s(n,["response","generateVideoResponse"]);return h!=null&&r(e,["response"],zx(h)),e}function Yx(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Jx(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function $x(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Kx(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Yx(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Jx(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],$x(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function Xx(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Kx(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Qx(n){const e={},l=s(n,["citations"]);return l!=null&&r(e,["citations"],l),e}function Zx(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function Wx(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Zx(c))),r(e,["urlMetadata"],a)}return e}function jx(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],Xx(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],Qx(a));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const h=s(n,["urlContextMetadata"]);h!=null&&r(e,["urlContextMetadata"],Wx(h));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const E=s(n,["safetyRatings"]);return E!=null&&r(e,["safetyRatings"],E),e}function Bp(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>jx(v))),r(e,["candidates"],p)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["responseId"]);d!=null&&r(e,["responseId"],d);const h=s(n,["modelVersion"]);h!=null&&r(e,["modelVersion"],h);const g=s(n,["promptFeedback"]);g!=null&&r(e,["promptFeedback"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function e_(n){const e={},l=s(n,["truncated"]);l!=null&&r(e,["truncated"],l);const a=s(n,["token_count"]);return a!=null&&r(e,["tokenCount"],a),e}function t_(n){const e={},l=s(n,["values"]);l!=null&&r(e,["values"],l);const a=s(n,["statistics"]);return a!=null&&r(e,["statistics"],e_(a)),e}function n_(n){const e={},l=s(n,["billableCharacterCount"]);return l!=null&&r(e,["billableCharacterCount"],l),e}function i_(n){const e={},l=s(n,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>t_(d))),r(e,["embeddings"],c)}const a=s(n,["metadata"]);return a!=null&&r(e,["metadata"],n_(a)),e}function l_(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["imageBytes"],Nn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Ah(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function Nu(n){const e={},l=s(n,["_self"]);l!=null&&r(e,["image"],l_(l));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],Ah(c));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function o_(n){const e={},l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Nu(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],Ah(a)),e}function a_(n){const e={},l=s(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Nu(c))),r(e,["generatedImages"],a)}return e}function s_(n){const e={},l=s(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Nu(c))),r(e,["generatedImages"],a)}return e}function r_(n){const e={},l=s(n,["endpoint"]);l!=null&&r(e,["name"],l);const a=s(n,["deployedModelId"]);return a!=null&&r(e,["deployedModelId"],a),e}function u_(n){const e={},l=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function c_(n){const e={},l=s(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function Cu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const h=s(n,["deployedModels"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(S=>r_(S))),r(e,["endpoints"],E)}const g=s(n,["labels"]);g!=null&&r(e,["labels"],g);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],u_(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=s(n,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(S=>c_(S))),r(e,["checkpoints"],E)}return e}function f_(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["_self"]);if(a!=null){let c=uh(a);Array.isArray(c)&&(c=c.map(d=>Cu(d))),r(e,["models"],c)}return e}function d_(){return{}}function m_(n){const e={},l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function p_(n){const e={},l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function h_(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],Nn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function g_(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],h_(l)),e}function y_(n){const e={},l=s(n,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>g_(h))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function v_(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const h=s(n,["response"]);return h!=null&&r(e,["response"],y_(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T_="Content-Type",C_="X-Server-Timeout",E_="User-Agent",Eu="x-goog-api-client",S_="1.10.0",x_=`google-genai-sdk/${S_}`,__="v1beta1",A_="v1beta",kp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class M_{constructor(e){var l,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:__,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:A_,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,a){const c=[this.getRequestUrlInternal(l)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,a);if(e.queryParams)for(const[h,g]of Object.entries(e.queryParams))c.searchParams.append(h,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,l){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(l))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,a){if(l&&l.timeout||a){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const h=setTimeout(()=>c.abort(),l.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return l&&l.extraBody!==null&&R_(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async c=>(await Hp(c),new mu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async c=>(await Hp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var l;return rl(this,arguments,function*(){const c=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let h="";for(;;){const{done:g,value:y}=yield Ke(c.read());if(g){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(y,{stream:!0});try{const E=JSON.parse(p);if("error"in E){const S=JSON.parse(JSON.stringify(E.error)),R=S.status,I=S.code,V=`got status: ${R}. ${JSON.stringify(E)}`;if(I>=400&&I<600)throw new Ba({message:V,status:I})}}catch(E){if(E.name==="ApiError")throw E}h+=p;let v=h.match(kp);for(;v;){const E=v[1];try{const S=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ke(new mu(S)),h=h.slice(v[0].length),v=h.match(kp)}catch(S){throw new Error(`exception parsing stream chunk ${E}. ${S}`)}}}}finally{c.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},l=x_+" "+this.clientOptions.userAgentExtra;return e[E_]=l,e[Eu]=l,e[T_]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))l.append(a,c);e.timeout&&e.timeout>0&&l.append(C_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var a;const c={};l!=null&&(c.mimeType=l.mimeType,c.name=l.name,c.displayName=l.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,h=await d.stat(e);c.sizeBytes=String(h.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,l);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var a;let c={};l!=null&&l.httpOptions?c=l.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},h=await this.request({path:ue("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=h==null?void 0:h.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Hp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw l>=400&&l<600?new Ba({message:c,status:l}):new Error(c)}}function R_(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,h){const g=Object.assign({},d);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const p=h[y],v=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const c=a(l,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N_="mcp_used/unknown";let b_=!1;function Mh(n){for(const e of n)if(bu(e)||typeof e=="object"&&"inputSchema"in e)return!0;return b_}function Rh(n){var e;const l=(e=n[Eu])!==null&&e!==void 0?e:"";n[Eu]=(l+` ${N_}`).trimStart()}function D_(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>bu(c)))!==null&&a!==void 0?a:!1}function w_(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>!bu(c)))!==null&&a!==void 0?a:!1}function bu(n){return n!==null&&typeof n=="object"&&n instanceof Du}function U_(n,e=100){return rl(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield Ke(n.listTools({cursor:a}));for(const h of d.tools)yield yield Ke(h),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class Du{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new Du(e,l)}async initialize(){var e,l,a,c;if(this.mcpTools.length>0)return;const d={},h=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,go(U_(v))),p;p=await y.next(),e=p.done,!e;g=!0){c=p.value,g=!1;const E=c;h.push(E);const S=E.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=v}}catch(E){l={error:E}}finally{try{!g&&!e&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Mv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const h=await c.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function I_(n,e,l){const a=new vv;let c;l.data instanceof Blob?c=JSON.parse(await l.data.text()):c=JSON.parse(l.data);const d=ME(c);Object.assign(a,d),e(a)}class L_{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a}async connect(e){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),h=P_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(F=>{p=F}),E=e.callbacks,S=function(){p({})},R=this.apiClient,I={onopen:S,onmessage:F=>{I_(R,E.onmessage,F)},onerror:(l=E==null?void 0:E.onerror)!==null&&l!==void 0?l:function(F){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(F){}},V=this.webSocketFactory.create(y,V_(h),I);V.connect(),await v;const k=Ge(this.apiClient,e.model),X=Ch({model:k}),z=vu({setup:X});return V.send(JSON.stringify(z)),new O_(V,this.apiClient)}}class O_{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=_C(e),a=Eh(l);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=AC(e),a=vu(l);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const l=vu({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(al.PLAY)}pause(){this.sendPlaybackControl(al.PAUSE)}stop(){this.sendPlaybackControl(al.STOP)}resetContext(){this.sendPlaybackControl(al.RESET_CONTEXT)}close(){this.conn.close()}}function V_(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function P_(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function q_(n,e,l){const a=new yv;let c;l.data instanceof Blob?c=await l.data.text():l.data instanceof ArrayBuffer?c=new TextDecoder().decode(l.data):c=l.data;const d=JSON.parse(c);if(n.isVertexAI()){const h=BE(d);Object.assign(a,h)}else{const h=yE(d);Object.assign(a,h)}e(a)}class B_{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a,this.music=new L_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,a,c,d,h,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const E=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Mh(e.config.tools)&&Rh(E);const S=F_(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const ie=this.apiClient.getApiKey();let W="BidiGenerateContent",oe="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",oe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${W}?${oe}=${ie}`}let R=()=>{};const I=new Promise(ie=>{R=ie}),V=e.callbacks,k=function(){var ie;(ie=V==null?void 0:V.onopen)===null||ie===void 0||ie.call(V),R({})},X=this.apiClient,z={onopen:k,onmessage:ie=>{q_(X,V.onmessage,ie)},onerror:(l=V==null?void 0:V.onerror)!==null&&l!==void 0?l:function(ie){},onclose:(a=V==null?void 0:V.onclose)!==null&&a!==void 0?a:function(ie){}},F=this.webSocketFactory.create(v,z_(S),z);F.connect(),await I;let Q=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Q.startsWith("publishers/")){const ie=this.apiClient.getProject(),W=this.apiClient.getLocation();Q=`projects/${ie}/locations/${W}/`+Q}let H={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ga.AUDIO]}:e.config.responseModalities=[Ga.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],re=[];for(const ie of te)if(this.isCallableTool(ie)){const W=ie;re.push(await W.tool())}else re.push(ie);re.length>0&&(e.config.tools=re);const ne={model:Q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=WC(this.apiClient,ne):H=CC(this.apiClient,ne),delete H.config,F.send(JSON.stringify(H)),new H_(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const k_={turnComplete:!0};class H_{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=jt(l.turns),e.isVertexAI()?a=a.map(c=>dl(c)):a=a.map(c=>ka(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(G_)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},k_),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:tE(e)}:l={realtimeInput:xC(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function z_(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function F_(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zp=10;function Fp(n){var e,l,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const h of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(Va(h)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Va(n){return"callTool"in n&&typeof n.callTool=="function"}function Yp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y_ extends Ci{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var a,c,d,h,g;const y=await this.processParamsForMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!D_(l)||Fp(l.config))return await this.generateContentInternal(y);if(w_(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const E=jt(y.contents),S=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:zp;let R=0;for(;R<S&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const I=p.candidates[0].content,V=[];for(const k of(g=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(Va(k)){const z=await k.callTool(p.functionCalls);V.push(...z)}R++,v={role:"user",parts:V},y.contents=jt(y.contents),y.contents.push(I),y.contents.push(v),Yp(y.config)&&(E.push(I),E.push(v))}return Yp(y.config)&&(p.automaticFunctionCallingHistory=E),p},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),Fp(l.config)){const a=await this.processParamsForMcpUsage(l);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var c;let d;const h=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:h.push(y);let g;return d?g={generatedImages:h,positivePromptSafetyAttributes:d}:g={generatedImages:h},g}),this.list=async l=>{var a;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((a=h.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new yo(Ti.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const c={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(c)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var l,a,c;const d=(l=e.config)===null||l===void 0?void 0:l.tools;if(!d)return e;const h=await Promise.all(d.map(async y=>Va(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(g.config.tools=h,e.config&&e.config.tools&&Mh(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Rh(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var l,a,c;const d=new Map;for(const h of(a=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Va(h)){const g=h,y=await g.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,g)}}return d}async processAfcStream(e){var l,a,c;const d=(c=(a=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:zp;let h=!1,g=0;const y=await this.initAfcToolsMap(e);return function(p,v,E){var S,R;return rl(this,arguments,function*(){for(var I,V,k,X;g<d;){h&&(g++,h=!1);const H=yield Ke(p.processParamsForMcpUsage(E)),te=yield Ke(p.generateContentStreamInternal(H)),re=[],ne=[];try{for(var z=!0,F=(V=void 0,go(te)),Q;Q=yield Ke(F.next()),I=Q.done,!I;z=!0){X=Q.value,z=!1;const ie=X;if(yield yield Ke(ie),ie.candidates&&(!((S=ie.candidates[0])===null||S===void 0)&&S.content)){ne.push(ie.candidates[0].content);for(const W of(R=ie.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<d&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(W.functionCall.name)){const oe=yield Ke(v.get(W.functionCall.name).callTool([W.functionCall]));re.push(...oe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(ie){V={error:ie}}finally{try{!z&&!I&&(k=F.return)&&(yield Ke(k.call(F)))}finally{if(V)throw V.error}}if(re.length>0){h=!0;const ie=new mo;ie.candidates=[{content:{role:"user",parts:re}}],yield yield Ke(ie);const W=[];W.push(...ne),W.push({role:"user",parts:re});const oe=jt(E.contents).concat(W);E.contents=oe}else break}})}(this,y,e)}async generateContentInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=Gp(this.apiClient,e);return g=ue("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),h.then(v=>{const E=Bp(v),S=new mo;return Object.assign(S,E),S})}else{const p=Pp(this.apiClient,e);return g=ue("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),h.then(v=>{const E=qp(v),S=new mo;return Object.assign(S,E),S})}}async generateContentStreamInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=Gp(this.apiClient,e);return g=ue("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),h.then(function(E){return rl(this,arguments,function*(){var S,R,I,V;try{for(var k=!0,X=go(E),z;z=yield Ke(X.next()),S=z.done,!S;k=!0){V=z.value,k=!1;const F=V,Q=Bp(yield Ke(F.json()));Q.sdkHttpResponse={headers:F.headers};const H=new mo;Object.assign(H,Q),yield yield Ke(H)}}catch(F){R={error:F}}finally{try{!k&&!S&&(I=X.return)&&(yield Ke(I.call(X)))}finally{if(R)throw R.error}}})})}else{const p=Pp(this.apiClient,e);return g=ue("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),h.then(function(E){return rl(this,arguments,function*(){var S,R,I,V;try{for(var k=!0,X=go(E),z;z=yield Ke(X.next()),S=z.done,!S;k=!0){V=z.value,k=!1;const F=V,Q=qp(yield Ke(F.json()));Q.sdkHttpResponse={headers:F.headers};const H=new mo;Object.assign(H,Q),yield yield Ke(H)}}catch(F){R={error:F}}finally{try{!k&&!S&&(I=X.return)&&(yield Ke(I.call(X)))}finally{if(R)throw R.error}}})})}}async embedContent(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=WS(this.apiClient,e);return g=ue("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=i_(v),S=new yp;return Object.assign(S,E),S})}else{const p=fS(this.apiClient,e);return g=ue("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>{const E=Ix(v),S=new yp;return Object.assign(S,E),S})}}async generateImagesInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=ex(this.apiClient,e);return g=ue("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=o_(v),S=new vp;return Object.assign(S,E),S})}else{const p=mS(this.apiClient,e);return g=ue("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>{const E=Vx(v),S=new vp;return Object.assign(S,E),S})}}async editImageInternal(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI()){const g=sx(this.apiClient,e);return d=ue("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=a_(y),v=new fv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI()){const g=ux(this.apiClient,e);return d=ue("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=s_(y),v=new dv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=cx(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Cu(v))}else{const p=pS(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>Tu(v))}}async listInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=dx(this.apiClient,e);return g=ue("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=f_(v),S=new Tp;return Object.assign(S,E),S})}else{const p=gS(this.apiClient,e);return g=ue("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>{const E=Gx(v),S=new Tp;return Object.assign(S,E),S})}}async update(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=px(this.apiClient,e);return g=ue("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Cu(v))}else{const p=vS(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>Tu(v))}}async delete(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=hx(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(()=>{const v=d_(),E=new Cp;return Object.assign(E,v),E})}else{const p=TS(this.apiClient,e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(()=>{const v=qx(),E=new Cp;return Object.assign(E,v),E})}}async countTokens(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=yx(this.apiClient,e);return g=ue("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=m_(v),S=new Ep;return Object.assign(S,E),S})}else{const p=ES(this.apiClient,e);return g=ue("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>{const E=Bx(v),S=new Ep;return Object.assign(S,E),S})}}async computeTokens(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI()){const g=vx(this.apiClient,e);return d=ue("{model}:computeTokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=p_(y),v=new mv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=Ex(this.apiClient,e);return g=ue("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>v_(v))}else{const p=_S(this.apiClient,e);return g=ue("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>Fx(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J_(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function $_(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function K_(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["operationName"],l);const a=s(n,["resourceName"]);a!=null&&r(e,["_url","resourceName"],a);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}function X_(n){const e={},l=s(n,["video","uri"]);l!=null&&r(e,["uri"],l);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],Nn(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function Q_(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],X_(l)),e}function Z_(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Q_(h))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function W_(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const h=s(n,["response","generateVideoResponse"]);return h!=null&&r(e,["response"],Z_(h)),e}function j_(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],Nn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function eA(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],j_(l)),e}function tA(n){const e={},l=s(n,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>eA(h))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Jp(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const h=s(n,["response"]);return h!=null&&r(e,["response"],tA(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA extends Ci{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=l.name.split("/operations/")[0];let d;return a&&"httpOptions"in a&&(d=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:c,config:{httpOptions:d}})}else return this.getVideosOperationInternal({operationName:l.name,config:a})}async getVideosOperationInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=$_(e);return g=ue("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Jp(v))}else{const p=J_(e);return g=ue("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>W_(v))}}async fetchPredictVideosOperationInternal(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI()){const g=K_(e);return d=ue("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Jp(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iA(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function Nh(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],iA(l)),e}function lA(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],Nh(a)),e}function oA(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>lA(c))),r(e,["speakerVoiceConfigs"],a)}return e}function aA(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],Nh(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],oA(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function sA(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function rA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function uA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function cA(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],sA(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],rA(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],uA(d));const h=s(n,["thoughtSignature"]);h!=null&&r(e,["thoughtSignature"],h);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const E=s(n,["text"]);return E!=null&&r(e,["text"],E),e}function fA(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>cA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function dA(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const h=s(n,["parametersJsonSchema"]);h!=null&&r(e,["parametersJsonSchema"],h);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function mA(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function pA(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],mA(l)),e}function hA(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function gA(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],hA(l)),e}function yA(){return{}}function vA(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>dA(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],pA(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],gA(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],yA());const h=s(n,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function TA(n){const e={},l=s(n,["handle"]);if(l!=null&&r(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $p(){return{}}function CA(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const h=s(n,["silenceDurationMs"]);return h!=null&&r(e,["silenceDurationMs"],h),e}function EA(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],CA(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function SA(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function xA(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],SA(a)),e}function _A(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function AA(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const h=s(n,["topP"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topP"],h);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const E=s(n,["speechConfig"]);e!==void 0&&E!=null&&r(e,["setup","generationConfig","speechConfig"],aA(Ru(E)));const S=s(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=s(n,["systemInstruction"]);e!==void 0&&R!=null&&r(e,["setup","systemInstruction"],fA(Mt(R)));const I=s(n,["tools"]);if(e!==void 0&&I!=null){let H=cl(I);Array.isArray(H)&&(H=H.map(te=>vA(ul(te)))),r(e,["setup","tools"],H)}const V=s(n,["sessionResumption"]);e!==void 0&&V!=null&&r(e,["setup","sessionResumption"],TA(V));const k=s(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&r(e,["setup","inputAudioTranscription"],$p());const X=s(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&r(e,["setup","outputAudioTranscription"],$p());const z=s(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],EA(z));const F=s(n,["contextWindowCompression"]);e!==void 0&&F!=null&&r(e,["setup","contextWindowCompression"],xA(F));const Q=s(n,["proactivity"]);return e!==void 0&&Q!=null&&r(e,["setup","proactivity"],_A(Q)),l}function MA(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Ge(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],AA(c,l)),l}function RA(n,e,l){const a={},c=s(e,["expireTime"]);l!==void 0&&c!=null&&r(l,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);l!==void 0&&d!=null&&r(l,["newSessionExpireTime"],d);const h=s(e,["uses"]);l!==void 0&&h!=null&&r(l,["uses"],h);const g=s(e,["liveConnectConstraints"]);l!==void 0&&g!=null&&r(l,["bidiGenerateContentSetup"],MA(n,g));const y=s(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&r(l,["fieldMask"],y),a}function NA(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],RA(n,a,l)),l}function bA(n){const e={},l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DA(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const a=n[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${l}.${d}`);e.push(...c)}else e.push(l)}return e.join(",")}function wA(n,e){let l=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,l=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(l){const d=DA(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(p=>h.includes(p)?`generationConfig.${p}`:p));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class UA extends Ci{constructor(e){super(),this.apiClient=e}async create(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=NA(this.apiClient,e);d=ue("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const y=wA(g,e.config);return c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),c.then(p=>bA(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","name"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function LA(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function OA(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],LA(l,e)),e}function VA(n){const e={},l=s(n,["textInput"]);l!=null&&r(e,["textInput"],l);const a=s(n,["output"]);return a!=null&&r(e,["output"],a),e}function PA(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=s(n,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>VA(c))),r(e,["examples","examples"],a)}return e}function GA(n,e){const l={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&r(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=s(n,["batchSize"]);e!==void 0&&h!=null&&r(e,["tuningTask","hyperparameters","batchSize"],h);const g=s(n,["learningRate"]);return e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),l}function qA(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["trainingDataset"]);a!=null&&r(e,["tuningTask","trainingData"],PA(a));const c=s(n,["config"]);return c!=null&&r(e,["config"],GA(c,e)),e}function BA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","name"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function kA(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function HA(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],kA(l,e)),e}function zA(n,e){const l={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function FA(n,e){const l={},a=s(n,["gcsUri"]);a!=null&&r(l,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),l}function YA(n,e){const l={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec"],FA(a,l));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const h=s(n,["epochCount"]);e!==void 0&&h!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],h);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function JA(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["trainingDataset"]);a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],zA(a,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],YA(c,e)),e}function $A(n){const e={},l=s(n,["name"]);l!=null&&r(e,["model"],l);const a=s(n,["name"]);return a!=null&&r(e,["endpoint"],a),e}function bh(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["state"]);a!=null&&r(e,["state"],ah(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["tuningTask","startTime"]);d!=null&&r(e,["startTime"],d);const h=s(n,["tuningTask","completeTime"]);h!=null&&r(e,["endTime"],h);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["description"]);y!=null&&r(e,["description"],y);const p=s(n,["baseModel"]);p!=null&&r(e,["baseModel"],p);const v=s(n,["_self"]);v!=null&&r(e,["tunedModel"],$A(v));const E=s(n,["distillationSpec"]);E!=null&&r(e,["distillationSpec"],E);const S=s(n,["experiment"]);S!=null&&r(e,["experiment"],S);const R=s(n,["labels"]);R!=null&&r(e,["labels"],R);const I=s(n,["pipelineJob"]);I!=null&&r(e,["pipelineJob"],I);const V=s(n,["satisfiesPzi"]);V!=null&&r(e,["satisfiesPzi"],V);const k=s(n,["satisfiesPzs"]);k!=null&&r(e,["satisfiesPzs"],k);const X=s(n,["serviceAccount"]);X!=null&&r(e,["serviceAccount"],X);const z=s(n,["tunedModelDisplayName"]);return z!=null&&r(e,["tunedModelDisplayName"],z),e}function KA(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>bh(d))),r(e,["tuningJobs"],c)}return e}function XA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],d),e}function QA(n){const e={},l=s(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function ZA(n){const e={},l=s(n,["model"]);l!=null&&r(e,["model"],l);const a=s(n,["endpoint"]);a!=null&&r(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>QA(h))),r(e,["checkpoints"],d)}return e}function Su(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["state"]);a!=null&&r(e,["state"],ah(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["startTime"]);d!=null&&r(e,["startTime"],d);const h=s(n,["endTime"]);h!=null&&r(e,["endTime"],h);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["error"]);y!=null&&r(e,["error"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const E=s(n,["tunedModel"]);E!=null&&r(e,["tunedModel"],ZA(E));const S=s(n,["supervisedTuningSpec"]);S!=null&&r(e,["supervisedTuningSpec"],S);const R=s(n,["tuningDataStats"]);R!=null&&r(e,["tuningDataStats"],R);const I=s(n,["encryptionSpec"]);I!=null&&r(e,["encryptionSpec"],I);const V=s(n,["partnerModelTuningSpec"]);V!=null&&r(e,["partnerModelTuningSpec"],V);const k=s(n,["distillationSpec"]);k!=null&&r(e,["distillationSpec"],k);const X=s(n,["experiment"]);X!=null&&r(e,["experiment"],X);const z=s(n,["labels"]);z!=null&&r(e,["labels"],z);const F=s(n,["pipelineJob"]);F!=null&&r(e,["pipelineJob"],F);const Q=s(n,["satisfiesPzi"]);Q!=null&&r(e,["satisfiesPzi"],Q);const H=s(n,["satisfiesPzs"]);H!=null&&r(e,["satisfiesPzs"],H);const te=s(n,["serviceAccount"]);te!=null&&r(e,["serviceAccount"],te);const re=s(n,["tunedModelDisplayName"]);return re!=null&&r(e,["tunedModelDisplayName"],re),e}function WA(n){const e={},l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const a=s(n,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Su(d))),r(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jA extends Ci{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new yo(Ti.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const a=await this.tuneMldevInternal(l);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:du.JOB_STATE_QUEUED}}}}async getInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=BA(e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Su(v))}else{const p=IA(e);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>bh(v))}}async listInternal(e){var l,a,c,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const p=HA(e);return g=ue("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=WA(v),S=new Sp;return Object.assign(S,E),S})}else{const p=OA(e);return g=ue("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),h.then(v=>{const E=KA(v),S=new Sp;return Object.assign(S,E),S})}}async tuneInternal(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI()){const g=JA(e);return d=ue("tuningJobs",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Su(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,a;let c,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qA(e);return d=ue("tunedModels",g._url),h=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>XA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eM{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const tM=1024*1024*8,nM=3,iM=1e3,lM=2,uu="x-goog-upload-status";async function oM(n,e,l){var a,c,d;let h=0,g=0,y=new mu(new Response),p="upload";for(h=n.size;g<h;){const E=Math.min(tM,h-g),S=n.slice(g,g+E);g+E>=h&&(p+=", finalize");let R=0,I=iM;for(;R<nM&&(y=await l.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(E)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[uu]));)R++,await sM(I),I=I*lM;if(g+=E,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[uu])!=="active")break;if(h<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[uu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function aM(n){return{size:n.size,type:n.type}}function sM(n){return new Promise(e=>setTimeout(e,n))}class rM{async upload(e,l,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oM(e,l,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uM{create(e,l,a){return new cM(e,l,a)}}class cM{constructor(e,l,a){this.url=e,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kp="x-goog-api-key";class fM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Kp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Kp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dM="gl-node/";class mM{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const a=cv(e,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new fM(this.apiKey);this.apiClient=new M_({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:dM+"web",uploader:new rM,downloader:new eM}),this.models=new Y_(this.apiClient),this.live=new B_(this.apiClient,c,new uM),this.batches=new IT(this.apiClient),this.chats=new P0(this.models,this.apiClient),this.caches=new L0(this.apiClient),this.files=new Q0(this.apiClient),this.operations=new nA(this.apiClient),this.authTokens=new UA(this.apiClient),this.tunings=new jA(this.apiClient)}}const pM="AIzaSyCoHj3OwEbxQqcLvWeHORAzWBPvjX3_61k";let Mn=null;Mn=new mM({apiKey:pM});let po=null,ho=null;const Dh=n=>Mn?Mn.chats.create({model:_u,config:{systemInstruction:n}}):null,hM=async(n,e,l)=>{if(!Mn)throw new Error("Gemini AI not initialized (API key likely missing). Cannot generate case data.");if(!l)throw new Error("Username is required to generate case data for topic progression.");const a=`${Date.now()}_${Math.random().toString(36).substring(2,7)}`;let c=iv-(n-1)*lv;c<Um&&(c=Um);const d=["Rational Numbers","Linear Equations in One Variable","Understanding Quadrilaterals","Data Handling (interpreting bar graphs, pie charts, probability basics)","Squares & Square Roots","Cubes & Cube Roots","Comparing Quantities (percentages, profit/loss, simple/compound interest)","Algebraic Expressions & Identities (multiplication, basic factorization)","Mensuration (area of plane figures, surface area/volume of cube, cuboid, cylinder)","Exponents & Powers","Direct & Inverse Proportions","Factorisation (common factors, regrouping, identities, division)","Introduction to Graphs (bar graphs, pie charts, line graphs, coordinate basics)"],h=["Number Systems (real numbers, irrational numbers, laws of exponents for real numbers)","Polynomials (zeros, remainder theorem, factor theorem, algebraic identities)","Coordinate Geometry (Cartesian plane, plotting points)","Linear Equations in Two Variables (ax+by+c=0, graph of linear equation)","Euclid’s Geometry (axioms, postulates, basic theorems)","Lines and Angles (types of angles, parallel lines and transversals, angle sum property of triangles)","Triangles (congruence criteria - SSS, SAS, ASA, RHS, properties of isosceles triangles, inequalities in triangles)","Quadrilaterals (properties of parallelograms, midpoint theorem)","Circles (terms, theorems on equal chords, angle subtended by arc, cyclic quadrilaterals)","Heron’s Formula (area of triangle)","Surface Areas & Volumes (cube, cuboid, cylinder, cone, sphere, hemisphere)","Statistics (collection/presentation of data, bar graphs, histograms, frequency polygons, mean, median, mode of ungrouped data)"],g=["Real Numbers (Euclid's division lemma, fundamental theorem of arithmetic, irrational numbers revisited, decimal expansions)","Polynomials (zeros, relationship between zeros and coefficients, division algorithm)","Pair of Linear Equations in Two Variables (graphical solution, algebraic methods - substitution, elimination, cross-multiplication, reducible equations)","Quadratic Equations (standard form, solutions by factorization and quadratic formula, nature of roots)","Arithmetic Progressions (nth term, sum of n terms)","Triangles (similarity criteria - AAA, SSS, SAS, area of similar triangles, Pythagoras theorem and its converse)","Coordinate Geometry (distance formula, section formula, area of triangle)","Introduction to Trigonometry (trigonometric ratios, identities, trigonometric ratios of complementary angles)","Applications of Trigonometry (heights and distances)","Circles (tangents, number of tangents from a point)","Areas Related to Circles (area of sector and segment)","Surface Areas & Volumes (combinations of solids, conversion of solids)","Statistics (mean, median, mode of grouped data, cumulative frequency graphs - ogives)","Probability (classical definition, simple problems)"];let y,p,v;e===8?(y=d,p="Class 8",v=Zp):e===9?(y=h,p="Class 9",v=Wp):(y=g,p="Class 10",v=jp);const E=Ct(v,l);let S=0;const R=localStorage.getItem(E);if(R){const Q=parseInt(R,10);!isNaN(Q)&&Q>=0&&Q<y.length?S=Q:(console.warn(`Invalid topic index '${R}' for key '${E}'. Resetting to 0.`),localStorage.removeItem(E),S=0)}const I=y[S],V=(S+1)%y.length;localStorage.setItem(E,V.toString());const k=Math.min(5,Math.max(1,Math.ceil(n/4))),X=`You are an expert curriculum designer for mathematics, specializing in Indian CBSE/NCERT syllabus for Classes 8, 9, and 10.
Your task is to generate a complete JSON object for a math courtroom case.
The player's current progression level is ${n}.
The case MUST be centered around a specific, demonstrable math concept from **${p}**, focusing on the topic: "${I}".
The complexity of the problem and its presentation should be appropriate for player level ${n} operating within the ${p} curriculum.
The perceived AI difficulty (1-5 scale) for this case should be around ${k}.
NO general logic puzzles, brain teasers, or non-mathematical riddles. The core of the problem must be mathematical reasoning, calculation, application of formulas, or geometric proof.

Mathematical Topic: "${I}" (from ${p})

JSON object structure MUST be strictly followed.
**Important JSON String Rules**: All string values in the JSON object must be valid JSON strings. This means special characters like backslashes (escaped as \`\\\\\` in the final JSON string if you mean a literal backslash, e.g., "C:\\\\path"), double quotes within strings (escaped as \`\\"\`), and newlines (escaped as \`\\n\`) must be properly escaped. Avoid generating literal unescaped newlines or other control characters within string values.

The JSON structure:
{
  "id": "CASE_DYNAMIC_${a}",
  "title": "string (Engaging, math-related title, e.g., 'The Case of the Miscalculated Triangle Area', 'The Polynomial Perplexity')",
  "classLevel": "string (Clearly state the class and topic, e.g., '${p} - ${I}: Problem involving [specific aspect like 'factorization of quadratics' or 'surface area of a cone']')",
  "clientName": "string (A conceptual client, e.g., 'The Accused Angle', 'Equation X', 'The Misunderstood Mean')",
  "clientDescription": "string (One-sentence description of the client concept, tying it to the math problem. e.g., 'Equation X is supposed to balance perfectly, but it's being accused of inequality.')",
  "accusation": "string (Accusation detailing a specific mathematical error related to '${I}'. e.g., 'The Accused Angle claims to be 90 degrees, but the diagram clearly shows it's obtuse due to an error in applying the Pythagorean theorem!' or 'Equation X has an incorrect solution, x=5, when it should be x=2 based on proper algebraic manipulation.')",
  "initialProsecutionArgument": "string (Short, confident opening argument from the prosecutor, highlighting the alleged mathematical flaw, 1-2 sentences. e.g., 'Your Honor, the evidence shows a clear miscalculation in the formula for the area of a circle, leading to this absurd result!')",
  "initialCoCounselHint": "string (Short, guiding hint for the player, pointing towards the mathematical principle or area to examine. e.g., 'Captain, let's re-examine the steps used to solve that linear equation. Perhaps there's a mistake in transposing terms?')",
  "evidence": [
    {
      "id": "EVIDENCE_A_UNIQUE_SUFFIX",
      "title": "string (Descriptive title, e.g., 'The Disputed Diagram', 'The Flawed Calculation Sheet', 'The Statistical Summary')",
      "type": "document" | "graph" | "data_table" | "statement" | "image", 
      "description": "string (Description of the evidence and its relevance to '${I}'. e.g., 'This document shows the step-by-step working of the problem where the error is suspected.')",
      "content": "string (CRITICAL: For 'graph' or 'image', MUST be a valid, self-contained SVG. The SVG should be designed for a dark UI background: use light-colored lines, shapes, and text (e.g., shades of #E2E8F0, #94A3B8, or a subtle theme accent color like #38BDF8 or #A78BFA) on a transparent background for all elements including text. Ensure good contrast and avoid large solid dark fills. Include <title> and <desc> for accessibility, viewBox around '0 0 100 100' or similar. Example for a flawed geometric figure for dark theme: '<svg viewBox=\\"0 0 100 100\\" xmlns=\\"http://www.w3.org/2000/svg\\"><title>Incorrect Angle Sum</title><desc>A triangle with angles labeled 60, 70, 60 degrees, summing to 190. Designed for dark theme.</desc><polygon points=\\"10,90 50,10 90,90\\" fill=\\"rgba(167, 139, 250, 0.15)\\" stroke=\\"#A78BFA\\"/><text x=\\"20\\" y=\\"80\\" fill=\\"#E2E8F0\\" font-family=\\"sans-serif\\" font-size=\\"10\\">60°</text><text x=\\"70\\" y=\\"80\\" fill=\\"#E2E8F0\\" font-family=\\"sans-serif\\" font-size=\\"10\\">60°</text><text x=\\"48\\" y=\\"30\\" fill=\\"#E2E8F0\\" font-family=\\"sans-serif\\" font-size=\\"10\\">70°</text></svg>'. For 'data_table', simple JSON of relevant data. For 'document'/'statement', text containing mathematical steps, problem statements, or relevant assertions.)",
      "isFlawed": true, 
      "flawDescription": "string (If isFlawed is true, clear explanation of the specific MATHEMATICAL flaw related to '${I}'. e.g., 'The sum of angles in the triangle is shown as 190 degrees, but it must be 180 degrees.' or 'The quadratic formula was applied with an incorrect sign for the 'b' coefficient.')"
    }
  ],
  "keyConcepts": ["string (e.g., 'Properties of similar triangles')", "string (e.g., 'Solving quadratic equations by factorization')"],
  "guiltyVerdictIfPlayerFails": "string (Verdit related to the mathematical failure, e.g., 'The client, Equation X, is found to be unbalanced due to incorrect algebraic manipulation.')",
  "innocentVerdictIfPlayerSucceeds": "string (Verdict related to mathematical success, e.g., 'Equation X is proven to be perfectly balanced, the initial accusation was based on a calculation error!')",
  "isClientActuallyGuilty": false,
  "caseDurationMinutes": ${c}
}

Language must be clear, engaging, and age-appropriate for students (typically 12-16 years old) studying ${p} mathematics. Be precise with mathematical terms.
One piece of evidence MUST contain the primary mathematical flaw. Other evidence can be supportive, provide context, or be neutral.
Ensure 'flawDescription' clearly explains the mathematical error in relation to '${I}'.
Generate a case from ${p} curriculum, topic: '${I}'. Player's overall level for context: ${n}. Target AI perceived difficulty: ${k}/5.`,z={model:_u,contents:[{role:"user",parts:[{text:`Generate a math courtroom case from ${p} curriculum for students. Player Level: ${n}. Topic: "${I}". Target AI difficulty: ${k}/5. Adhere strictly to the JSON structure, DARK THEME SVG (light elements on transparent background), and MATH FOCUS requirements in system instructions.`}]}],config:{systemInstruction:X,responseMimeType:"application/json"}};let F="";try{let H=(await Mn.models.generateContent(z)).text.trim();const te=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,re=H.match(te);re&&re[2]?F=re[2].trim():F=H;const ne=JSON.parse(F),ie="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return ne.evidence=ne.evidence.map((W,oe)=>({...W,id:`EVIDENCE_${ie[oe%ie.length]}_${a}`})),ne.evidence.forEach(W=>{(W.type==="image"||W.type==="graph")&&typeof W.content=="string"&&!W.content.trim().toLowerCase().startsWith("<svg")&&(console.warn(`Evidence "${W.title}" of type ${W.type} does not have SVG content as expected. Content: ${W.content.substring(0,100)}... Forcing basic error SVG (dark theme).`),W.content=`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><title>Error: Visual Missing</title><desc>Visual could not be loaded or was not valid SVG. Expected math-related SVG for topic: ${I} from ${p}. Styled for dark theme.</desc><rect x="5" y="5" width="90" height="90" fill="rgba(248, 113, 113, 0.1)" stroke="#F87171" stroke-width="1.5"/><text x="50" y="45" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#FCA5A5">Visual Error!</text><text x="50" y="60" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="8" fill="#FCA5A5">SVG for ${I} missing.</text></svg>`)}),(!ne.classLevel||!ne.classLevel.startsWith(p))&&(ne.classLevel=`${p} - ${I}: ${ne.title}`),ne}catch(Q){throw console.error("Error generating case data from Gemini:",Q),console.error("Attempted to parse the following string as JSON:",F),new Error(`Failed to generate or parse case data. ${Q instanceof Error?Q.message:String(Q)}`)}},gM=async(n,e,l)=>{if(!Mn)return"The Prosecutor is currently unavailable due to a technical issue (AI service not initialized).";if(!po){const a=`You are a Prosecutor in a courtroom game for students (studying ${n.classLevel.split(" - ")[0]} mathematics).
The case is about a MATH problem: ${n.clientName} (related to ${n.classLevel}) is accused of "${n.accusation}".
You should speak confidently and focus on the alleged mathematical error.
Use clear, concise language suitable for 12-16 year olds. 
Example: "The defense's calculation for the area is fundamentally flawed, as they neglected to use the correct formula for a trapezium." or "The presented graph incorrectly depicts the solution set for the linear inequality."
You are the Prosecutor. Never mention being an AI.
The player (Defense Counsel) is trying to disprove your mathematical assertions.
The current situation is: ${e}.
The last thing someone said was (last 100 chars): "${l.slice(-100)}".
If the currentTurnDescription indicates the Defense Counsel's previous argument was dismissed by the Judge as irrelevant, a distraction, or mathematically flawed, you should mock their attempt or re-emphasize your original point strongly, highlighting how their argument failed to address the core mathematical issue of "${n.accusation}".
Now, state your next argument about the MATH problem. Keep it to 1-2 focused sentences.`;po=Dh(a)}if(!po)return"Error: The Prosecutor is unavailable at this moment (Chat initialization failed).";try{const a=`Prosecutor,
The current situation is: ${e}.
The last thing someone said: "${l.slice(-100)}".
What's your next concise argument to highlight the mathematical error by ${n.clientName}? Focus on the core math problem for a student audience (studying ${n.classLevel.split(" - ")[0]}). If the player just made an irrelevant or flawed argument, react to that strongly. 1-2 sentences.`;return(await po.sendMessage({message:a})).text.trim()}catch(a){return console.error("Error fetching prosecutor statement:",a),"The Prosecutor seems to be reviewing their notes... (API Error)"}},yM=async(n,e,l,a)=>{if(!Mn)return"Your Co-Counsel is currently unavailable due to a technical issue (AI service not initialized).";if(!ho){const c=`You are a helpful Co-Counsel for the player (Defense Counsel) in a courtroom game for students (studying ${n.classLevel.split(" - ")[0]} mathematics).
You are trying to help the player prove that ${n.clientName} (related to ${n.classLevel}) is innocent of the MATH accusation: "${n.accusation}".
The case revolves around these mathematical concepts: ${n.keyConcepts.join(", ")}.
You are supportive, insightful, and offer strategic advice related to the MATH.
Use clear language. Example: "Counsel, let's double-check the application of the distributive property in that algebraic expression."
You are the Co-Counsel. Never mention being an AI.
The current situation in court is: ${e}.

If the currentSituation indicates the player's last argument was deemed irrelevant or mathematically flawed by the Judge and the Prosecutor has capitalized on it, your advice should strongly guide them back to making a *relevant and correct* mathematical point. Emphasize focusing on the key concepts: ${n.keyConcepts.join(", ")} and the specific accusation: "${n.accusation}". Help them identify potential errors or areas to re-examine.
Now, give your concise, helpful MATH advice. 1-2 focused sentences.`;ho=Dh(c)}if(!ho)return"Error: Your Co-Counsel is currently indisposed (Chat initialization failed).";try{const c=`Co-Counsel,
The current situation is: ${e}.
The last few things said were: "${l.slice(-200)}".
${a?`Defense Counsel asked: "${a}".`:""}
What concise, helpful MATH tip can you offer the Defense Counsel for this case involving ${n.keyConcepts.join(", ")} for students studying ${n.classLevel.split(" - ")[0]}? If the player just made an irrelevant or mathematically flawed argument, help them get back on track and find the correct reasoning! 1-2 sentences.`;return(await ho.sendMessage({message:c})).text.trim()}catch(c){return console.error("Error fetching co-counsel advice:",c),"Your Co-Counsel is currently pondering the complexities of the case... (API Error)"}},Xp=async(n,e,l,a)=>{if(!Mn)return"The Judge is currently deliberating due to a technical issue (AI service not initialized).";n.classLevel.includes("Class 10")||n.classLevel.includes("Class 9");const d=a<=5?"If the Counsel's argument is mathematically correct AND RELEVANT, affirm it clearly. For less experienced players, direct affirmation is good. If it's incorrect or irrelevant, this will be handled by your primary evaluation of validity and relevance.":"If the Defense Counsel's argument is mathematically sound AND RELEVANT to the case, but lacks thorough explanation (e.g., doesn't state the theorem/formula or show clear steps), gently prompt for more detail. Example: 'That's a valid point on [relevant math concept], Counsel. Could you elaborate on the specific mathematical steps or theorem that supports your assertion in relation to this case?'",h=`You are The Judge in a courtroom game for students (studying ${n.classLevel.split(" - ")[0]} mathematics).
You are impartial, analytical, and speak clearly.
The case is about a MATH problem: ${n.clientName}, accused of: "${n.accusation}". The case is based on ${n.classLevel} involving ${n.keyConcepts.join(", ")}.
The current situation is: ${l}.
Defense Counsel (the player, current game level ${a}) just stated: "${e}".

Your role:
1. Evaluate the mathematical validity AND relevance of the Defense Counsel's argument to the specific accusation and key concepts ('${n.keyConcepts.join(", ")}').
   - If the argument is mathematically sound AND directly helps disprove the accusation or clarify the key concepts in a relevant way, acknowledge it positively (e.g., using phrases like "sound mathematical argument", "proves the point", "correctly identifies"). This indicates a winning argument.
   - If the argument is mathematically sound BUT irrelevant to the case's core mathematical problem (e.g., a true math fact that doesn't apply to "${n.accusation}" or the key concepts ${n.keyConcepts.join(", ")}), you MUST state that it is irrelevant and does NOT help the case. Be specific if possible why it's irrelevant. Use phrases like "irrelevant", "not relevant".
   - If the argument is mathematically incorrect OR makes no mathematical sense, point out the flaw. Use phrases like "incorrect", "flaw in reasoning", "mathematically unsound". This indicates a flawed argument.
   - If the argument is off-topic and not mathematical, state that it is not relevant to the proceedings.
2. ${d} (Apply this primarily if the argument is relevant and sound but needs more mathematical detail, especially for more experienced players. This type of response can still be a "winning" one if the core point is correct).
3. Provide a concise response (1-2 sentences).

Examples of replies:
- Affirmative & Sufficient (Winning): "That is a sound mathematical argument, Counsel. The application of [specific theorem/formula] is correct and directly addresses the issue of [specific part of accusation]." or "Your reasoning is persuasive and correctly identifies the error."
- Affirmative but needs more (Potentially Winning, depends on keywords if core is sound): "Interesting point regarding [aspect relevant to the case], Counsel. Can you elaborate on how [specific math principle] leads to that conclusion, specifically for this case?"
- Mathematically Correct but Irrelevant (Irrelevant): "Counsel, while your statement about [correct but unrelated math fact] is true, it does not seem relevant to whether ${n.clientName} committed the error in [specific accusation]. Please focus on the specifics of this case."
- Incorrect/Insufficient (Flawed/Incorrect): "Counsel, I'm not certain that argument fully addresses the discrepancy. Your assertion about [topic] appears to be mathematically incorrect due to [specific reason]." or "There seems to be a flaw in your calculation for [concept]."
- Off-Topic/Not Mathematical (Irrelevant): "Counsel, your statement about [non-math topic] is not relevant to this mathematical courtroom. Please focus on the mathematical aspects of the case: ${n.accusation}."

Maintain a respectful, judicial tone. The goal is to encourage rigorous mathematical thinking directly related to the case.
You are The Judge. Ensure your response clearly signals whether the argument is helpful (winning), irrelevant, or flawed. If it's irrelevant or flawed, make that clear so the player understands they need to try a different approach to solve the case.
If context mentions an "objection", rule on the objection directly (e.g. "Objection sustained/overruled because..."). Otherwise, assess the argument.`;try{return(await Mn.models.generateContent({model:_u,contents:[{role:"user",parts:[{text:`Judge, Defense Counsel (player game level ${a}) presented this argument/objection regarding the math case (${n.classLevel} - ${n.keyConcepts.join(", ")}): "${e}". The case context: ${l}. Please provide your assessment in one or two clear sentences, focusing on mathematical validity AND relevance to the case. Indicate if the argument is winning, irrelevant, or flawed.`}]}],config:{systemInstruction:h}})).text.trim()}catch(g){return console.error("Error getting judge's analysis:",g),"The Judge is currently in chambers reviewing the precedents... (API Error)"}},vM=()=>{po=null,ho=null},TM=({mode:n,onToggleMode:e,onLogin:l,onSignUp:a,authError:c,isLoading:d})=>{const[h,g]=Y.useState(""),[y,p]=Y.useState(""),v=async S=>{S.preventDefault(),!(d||!h.trim()||!y.trim())&&(n==="login"?await l(h.trim(),y):await a(h.trim(),y))},E=()=>{e(),g(""),p("")};return A.jsx("div",{className:"flex flex-col items-center justify-center w-full p-4 flex-grow",children:A.jsxs("div",{className:"w-full max-w-sm sm:max-w-md glassmorphic-surface p-6 sm:p-8 rounded-xl shadow-2xl border border-violet-500/50",children:[A.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-violet-400 mb-6 text-center",children:n==="login"?"Welcome Back!":"Create Your Account"}),A.jsxs("form",{onSubmit:v,className:"space-y-5",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Username"}),A.jsx("input",{type:"text",id:"username",value:h,onChange:S=>g(S.target.value),required:!0,className:"w-full p-2.5 sm:p-3 bg-slate-700/50 text-slate-100 border border-slate-600/70 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent shadow-sm text-sm sm:text-base backdrop-blur-sm","aria-label":"Username",disabled:d})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Password"}),A.jsx("input",{type:"password",id:"password",value:y,onChange:S=>p(S.target.value),required:!0,className:"w-full p-2.5 sm:p-3 bg-slate-700/50 text-slate-100 border border-slate-600/70 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent shadow-sm text-sm sm:text-base backdrop-blur-sm","aria-label":"Password",disabled:d})]}),c&&A.jsx("p",{className:"text-sm text-red-300 text-center bg-red-900/40 p-2.5 rounded-md border border-red-700/60",children:c}),A.jsx("button",{type:"submit",disabled:d||!h.trim()||!y.trim(),className:"w-full bg-violet-600 hover:bg-violet-700/90 text-white font-bold py-2.5 sm:py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-colors duration-200 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center border border-violet-500/70 text-sm sm:text-base",children:d?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):n==="login"?"Login":"Sign Up"})]}),A.jsx("p",{className:"mt-6 text-center text-xs sm:text-sm",children:A.jsx("button",{onClick:E,disabled:d,className:"font-medium text-violet-400 hover:text-violet-300 transition-colors duration-150",children:n==="login"?"Don't have an account? Sign Up":"Already have an account? Login"})})]})})},Ia=({role:n,isSpeaking:e})=>{const l=()=>{let d="p-1 sm:p-2 rounded-xl shadow-lg border transition-all duration-300 ease-in-out glassmorphic-surface",h="",g="ring-sky-400 ring-offset-slate-900";switch(h="border-slate-700/70 text-slate-100",n){case J.JUDGE:h="border-violet-500/60 text-violet-200",g="ring-violet-400 ring-offset-slate-900";break;case J.PROSECUTOR:h="border-red-500/60 text-red-200",g="ring-red-400 ring-offset-slate-900";break;case J.DEFENSE_PLAYER:h="border-emerald-500/60 text-emerald-200",g="ring-emerald-400 ring-offset-slate-900";break;case J.CO_COUNSEL:h="border-amber-500/60 text-amber-200",g="ring-amber-400 ring-offset-slate-900";break;case J.CLIENT:h="border-sky-500/60 text-sky-200",g="ring-sky-400 ring-offset-slate-900";break;default:h="border-slate-600/60 text-slate-200";break}return`${d} ${h} ${e?`ring-2 sm:ring-4 ${g} shadow-xl sm:shadow-2xl scale-105`:"shadow-md hover:shadow-lg"}`},a=()=>{switch(n){case J.JUDGE:return"⚖️";case J.PROSECUTOR:return"😠";case J.DEFENSE_PLAYER:return"🦸";case J.CO_COUNSEL:return"💡";case J.CLIENT:return"😟";case J.NARRATOR:return"🎤";default:return"👤"}};let c;return n===J.DEFENSE_PLAYER?c="You":n===J.CLIENT?c="Your Friend":c=n,A.jsxs("div",{className:"text-center transform transition-transform duration-300 scale-100",children:[" ",A.jsxs("div",{className:l(),children:[A.jsx("span",{className:"text-lg sm:text-2xl block mb-0 sm:mb-1 drop-shadow-sm",children:a()}),A.jsx("p",{className:"font-semibold text-[10px] sm:text-xs capitalize truncate",children:c})]}),e&&A.jsx("div",{className:`mt-1.5 h-1 sm:h-1.5 rounded-full animate-pulse w-3/4 mx-auto ${n===J.JUDGE?"bg-violet-400":n===J.PROSECUTOR?"bg-red-400":n===J.DEFENSE_PLAYER?"bg-emerald-400":n===J.CO_COUNSEL?"bg-amber-400":n===J.CLIENT?"bg-sky-400":"bg-slate-400"}`})]})},CM=({dialogues:n,currentSpeaker:e})=>{const l=Y.useRef(null),a=Y.useRef(null);Y.useEffect(()=>{const d=a.current;d&&l.current&&d.scrollHeight-d.scrollTop-d.clientHeight<=20&&l.current.scrollIntoView({behavior:"smooth",block:"end"})},[n]);const c=d=>{let h="text-slate-300",g="bg-slate-700/40 backdrop-blur-md border-slate-600/60";switch(d){case J.JUDGE:h="text-violet-300",g="bg-violet-800/30 backdrop-blur-md border-violet-600/50";break;case J.PROSECUTOR:h="text-red-300",g="bg-red-800/30 backdrop-blur-md border-red-600/50";break;case J.DEFENSE_PLAYER:h="text-emerald-300",g="bg-emerald-800/30 backdrop-blur-md border-emerald-600/50 ml-auto";break;case J.CO_COUNSEL:h="text-amber-300",g="bg-amber-700/30 backdrop-blur-md border-amber-600/50";break;case J.CLIENT:h="text-sky-300",g="bg-sky-800/30 backdrop-blur-md border-sky-600/50";break;case J.NARRATOR:h="text-slate-400 italic",g="bg-slate-800/50 backdrop-blur-sm border-slate-700/50 text-center";break;default:h="text-slate-200";break}return{nameClass:h,bubbleClass:g}};return A.jsxs("div",{ref:a,className:"glassmorphic-surface p-2.5 sm:p-3 md:p-4 rounded-xl shadow-xl h-full overflow-y-auto border border-slate-700/50 flex flex-col space-y-2.5 sm:space-y-3",children:[n.length===0&&A.jsx("p",{className:"text-slate-400 text-center flex-grow flex items-center justify-center text-sm sm:text-base",children:"The courtroom is quiet... waiting for the trial to unfold."}),n.map((d,h)=>{const{nameClass:g,bubbleClass:y}=c(d.speaker),p=h===n.length-1;let v;return d.speaker===J.DEFENSE_PLAYER?v="You":d.speaker===J.CLIENT?v="Your Friend":d.speaker===J.NARRATOR?v="":v=d.speaker,A.jsxs("div",{className:`p-2 sm:p-3 rounded-lg shadow-md border text-xs sm:text-sm md:text-base max-w-[90%] sm:max-w-[85%] md:max-w-[80%] ${y} ${d.speaker===J.DEFENSE_PLAYER?"self-end":d.speaker===J.NARRATOR?"self-center w-full sm:w-[95%] md:w-[90%]":"self-start"}`,tabIndex:p?0:-1,children:[v&&A.jsxs("p",{className:`font-semibold ${g} mb-0.5 sm:mb-1 text-xs sm:text-sm`,children:[v,e===d.speaker&&p&&d.speaker!==J.NARRATOR&&A.jsx("span",{className:"ml-1 animate-pulse",children:"..."})]}),A.jsx("p",{className:`whitespace-pre-wrap leading-relaxed ${d.speaker===J.NARRATOR?"text-slate-300 italic":"text-slate-100"}`,children:d.text}),A.jsxs("p",{className:"text-xs text-slate-500 text-right mt-1 sm:mt-1.5",children:[new Date(d.timestamp).toLocaleDateString([],{month:"short",day:"numeric"})," ",new Date(d.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},d.timestamp)}),A.jsx("div",{ref:l})]})},ln=({tutorialId:n,isActive:e,targetSelector:l,title:a,text:c,position:d="bottom",onDismiss:h,highlightTarget:g=!0,nextButtonText:y="Got it",showSkipAllButton:p=!1,onSkipAll:v,overlayClassName:E,onVisibilityChange:S})=>{const[R,I]=Y.useState(null),[V,k]=Y.useState({}),X=Y.useRef(null),[z,F]=Y.useState(!1),Q=Y.useRef(z);Y.useEffect(()=>{Q.current=z},[z]),Y.useEffect(()=>{var ie;let ne=null;if(typeof l=="string"?ne=document.querySelector(l):typeof l=="function"&&(ne=l()),I(ne||null),e&&(ne||d==="center")){ne&&g&&(ne.style.position="relative",ne.style.zIndex="10001",ne.classList.add("tutorial-highlight-target"));const W=ne?ne.getBoundingClientRect():{top:0,left:0,width:0,height:0,bottom:0,right:0},oe=Math.min(300,window.innerWidth-32),Se=((ie=X.current)==null?void 0:ie.offsetHeight)||(a?150:120),De=10;let Ae=0,he=0;switch(d){case"top":Ae=W.top-Se-De,he=W.left+W.width/2-oe/2;break;case"bottom":Ae=W.bottom+De,he=W.left+W.width/2-oe/2;break;case"left":Ae=W.top+W.height/2-Se/2,he=W.left-oe-De;break;case"right":Ae=W.top+W.height/2-Se/2,he=W.right+De;break;case"top-left":Ae=W.top-Se-De,he=W.left;break;case"top-right":Ae=W.top-Se-De,he=W.right-oe;break;case"bottom-left":Ae=W.bottom+De,he=W.left;break;case"bottom-right":Ae=W.bottom+De,he=W.right-oe;break;case"center":Ae=window.innerHeight/2-Se/2,he=window.innerWidth/2-oe/2;break}he<De&&(he=De),he+oe>window.innerWidth-De&&(he=window.innerWidth-oe-De),Ae<De&&(Ae=De),Ae+Se>window.innerHeight-De&&(Ae=window.innerHeight-Se-De),k({top:`${Ae}px`,left:`${he}px`,width:`${oe}px`}),z||(F(!0),S==null||S(n,!0)),X.current&&X.current.focus()}else z&&(F(!1),S==null||S(n,!1)),R&&g&&(R.style.position="",R.style.zIndex="",R.classList.remove("tutorial-highlight-target"));return()=>{ne&&g&&(ne.style.position="",ne.style.zIndex="",ne.classList.remove("tutorial-highlight-target")),Q.current&&(S==null||S(n,!1))}},[e,l,d,g,a,c,n,S,z,R]);const H=()=>{h(n)};if(!e||!z)return null;const te=()=>{!p&&h&&H()};return A.jsxs(A.Fragment,{children:[(g||d==="center")&&A.jsx("div",{className:E||"fixed inset-0 bg-slate-950/80 backdrop-blur-xl z-[10000]",onClick:te}),A.jsxs("div",{ref:X,style:{...V,backgroundColor:"rgba(109, 40, 217, 0.9)"},className:`fixed p-3 sm:p-4 backdrop-blur-lg text-slate-100 rounded-lg shadow-2xl z-[10002] border border-violet-500/70 transform transition-opacity duration-300 ease-in-out ${z?"opacity-100 animate-fadeIn":"opacity-0"}`,role:"dialog","aria-labelledby":`tutorial-title-${n}`,"aria-describedby":`tutorial-text-${n}`,tabIndex:-1,children:[a&&A.jsx("h3",{id:`tutorial-title-${n}`,className:"text-base sm:text-lg md:text-xl font-bold text-sky-300 mb-1.5 sm:mb-2",children:a}),A.jsx("p",{id:`tutorial-text-${n}`,className:"text-xs sm:text-sm md:text-base leading-relaxed text-slate-200 mb-3 sm:mb-4",children:c}),A.jsxs("div",{className:"flex flex-col xs:flex-row justify-between items-center gap-2",children:[A.jsx("button",{onClick:H,className:"w-full xs:w-auto bg-sky-500 hover:bg-sky-400 text-white font-semibold py-1.5 px-3 sm:py-2 sm:px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-sky-300 focus:ring-offset-2 focus:ring-offset-violet-700 border border-sky-400/80 text-xs sm:text-sm",children:y}),p&&v&&A.jsx("button",{onClick:v,className:"w-full xs:w-auto text-[10px] xs:text-xs text-violet-300 hover:text-violet-200 py-1.5 px-2 sm:py-2 sm:px-3 rounded-md transition-colors duration-200 hover:bg-violet-600/70",children:"Skip All Tutorials"})]})]})]})},EM=({isOpen:n,onClose:e,evidenceList:l,selectedEvidenceId:a,onSelectEvidence:c,showTutorial:d,onDismissTutorial:h,apiKeyAvailable:g,onTutorialVisibilityChange:y,onSkipAllTutorials:p})=>{if(!n)return null;const v=l.find(I=>I.id===a),[E,S]=Y.useState(!1);Y.useEffect(()=>{S(!1)},[v]);const R=()=>{S(!0)};return A.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50 transition-opacity duration-300 ease-in-out animate-fadeIn",role:"dialog","aria-modal":"true","aria-labelledby":"evidence-modal-title",children:A.jsxs("div",{id:"evidence-modal-content",className:"glassmorphic-surface p-3 sm:p-4 md:p-6 rounded-xl shadow-2xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] flex flex-col border border-violet-500/50",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-slate-700/80",children:[A.jsx("h2",{id:"evidence-modal-title",className:"text-xl sm:text-2xl md:text-3xl font-bold text-violet-400",children:"🔍 Clue Checker"}),A.jsx("button",{onClick:e,className:"text-slate-400 hover:text-violet-400 text-2xl sm:text-3xl font-light rounded-full p-1 leading-none hover:bg-slate-700/50 transition-colors","aria-label":"Close clue checker",children:"×"})]}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-3 sm:gap-4 flex-grow overflow-hidden min-h-0",children:[A.jsxs("div",{className:"md:w-1/3 bg-slate-800/50 backdrop-blur-sm p-2 sm:p-3 rounded-lg border border-slate-700/60 overflow-y-auto h-48 md:h-auto",children:[A.jsx("h3",{className:"text-base sm:text-lg font-semibold text-violet-300 mb-2 sm:mb-3 sticky top-0 bg-slate-800/80 backdrop-blur-sm pb-1.5 sm:pb-2 z-10",children:"Clues We Have:"}),l.length===0?A.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"No clues yet!"}):A.jsx("ul",{className:"space-y-1.5 sm:space-y-2",children:l.map(I=>A.jsx("li",{children:A.jsxs("button",{className:`w-full text-left p-2 sm:p-3 rounded-md transition-all duration-200 text-xs sm:text-sm md:text-base focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-slate-800 ${a===I.id?"bg-violet-600/80 text-white shadow-lg scale-102 sm:scale-105 border-violet-500":"bg-slate-700/60 hover:bg-violet-500/50 hover:text-white border-slate-600"} border`,onClick:()=>c(I.id),"aria-pressed":a===I.id,children:[I.title," ",A.jsxs("span",{className:"text-[10px] xs:text-xs opacity-70 block capitalize",children:["(",I.type.replace("_"," "),")"]})]})},I.id))})]}),A.jsx("div",{className:"md:w-2/3 bg-slate-800/50 backdrop-blur-sm p-3 sm:p-4 rounded-lg border border-slate-700/60 overflow-y-auto h-64 md:h-auto",children:v?A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-violet-300 mb-1.5 sm:mb-2",children:v.title}),A.jsxs("p",{className:"text-xs sm:text-sm text-slate-400 mb-1 capitalize",children:["Type of clue: ",v.type.replace("_"," ")]}),A.jsx("p",{className:"text-slate-200 mb-3 sm:mb-4 whitespace-pre-wrap leading-relaxed text-xs sm:text-sm md:text-base",children:v.description}),(v.type==="graph"||v.type==="image")&&(v.content.startsWith("https://")?E?A.jsxs("div",{className:"w-full max-w-full sm:max-w-md mx-auto h-auto rounded-lg border border-red-600/70 my-2 sm:my-3 shadow-md bg-red-200/10 p-4 text-center",children:[A.jsx("p",{className:"text-red-700 font-semibold",children:"Image Preview Unavailable"}),A.jsxs("p",{className:"text-xs text-red-600",children:["Could not load image from: ",A.jsx("br",{}),A.jsx("span",{className:"break-all",children:v.content})]})]}):A.jsx("img",{src:v.content,alt:v.title,className:"w-full max-w-full sm:max-w-md mx-auto h-auto rounded-lg border border-slate-600/70 my-2 sm:my-3 shadow-md bg-slate-200/10 p-1",onError:R}):v.content.trim().toLowerCase().startsWith("<svg")?A.jsx("div",{className:"w-full max-w-full sm:max-w-md mx-auto h-auto rounded-lg border border-slate-600/70 my-2 sm:my-3 shadow-md p-1 sm:p-2 bg-slate-800/30 flex justify-center items-center overflow-hidden",style:{minHeight:"100px",maxHeight:"400px"},children:A.jsx("div",{dangerouslySetInnerHTML:{__html:v.content},className:"w-full h-full object-contain max-h-[380px]"})}):A.jsx("div",{className:"bg-slate-900/70 p-2 sm:p-3 rounded-md my-2 sm:my-3 border border-slate-700",children:A.jsxs("p",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed font-mono text-[10px] xs:text-xs sm:text-sm",children:['Raw content: "',v.content,'"']})})),v.type==="data_table"&&A.jsx("div",{className:"bg-slate-900/70 p-2 sm:p-3 rounded-md my-2 sm:my-3 border border-slate-700 max-h-60 sm:max-h-72 overflow-y-auto",children:A.jsx("pre",{className:"text-[10px] xs:text-xs sm:text-sm text-slate-300 whitespace-pre-wrap",children:JSON.stringify(JSON.parse(v.content),null,2)})}),(v.type==="document"||v.type==="statement"||v.type==="video_snippet")&&A.jsx("div",{className:"bg-slate-900/70 p-2 sm:p-3 rounded-md my-2 sm:my-3 border border-slate-700",children:A.jsx("p",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed text-xs sm:text-sm md:text-base",children:v.content})}),v.isFlawed&&A.jsxs("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-red-900/40 backdrop-blur-sm border border-red-700/60 rounded-lg shadow-inner",children:[A.jsx("h4",{className:"font-semibold text-red-300 text-sm sm:text-base",children:"Hmm, something's fishy..."}),A.jsx("p",{className:"text-red-200 text-xs sm:text-sm leading-relaxed",children:v.flawDescription})]})]}):A.jsx("p",{className:"text-slate-400 text-center flex items-center justify-center h-full text-base sm:text-lg",children:"Pick a clue from the list to see it!"})})]}),A.jsx("button",{onClick:e,className:"mt-4 sm:mt-6 w-full sm:w-auto self-center bg-violet-600 hover:bg-violet-700/80 text-white font-semibold py-2 sm:py-2.5 px-5 sm:px-6 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-violet-400 focus:ring-offset-2 focus:ring-offset-slate-800 text-sm sm:text-base border border-violet-500/70",children:"Done Looking at Clues"}),d&&h&&A.jsx(ln,{tutorialId:j.EVIDENCE_MODAL_INTRO,isActive:d,targetSelector:"#evidence-modal-content",title:"Clue Checker",text:"Here you can look at all the clues. Pick a clue from the list on the left to see more about it on the right. See if any clues are tricky!",position:"center",onDismiss:h,highlightTarget:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:y,showSkipAllButton:!0,onSkipAll:p})]})})},SM=({isOpen:n,onClose:e,onSubmitProof:l,isLoading:a,showTutorial:c,onDismissTutorial:d,onTutorialVisibilityChange:h,onSkipAllTutorials:g})=>{const[y,p]=Y.useState("");if(!n)return null;const v=()=>{y.trim()&&!a&&l(y)};return A.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50 transition-opacity duration-300 ease-in-out animate-fadeIn",role:"dialog","aria-modal":"true","aria-labelledby":"proof-board-title",children:A.jsxs("div",{id:"proof-board-modal-content",className:"glassmorphic-surface p-4 sm:p-5 md:p-6 rounded-xl shadow-2xl max-w-2xl w-full border border-emerald-500/50 max-h-[95vh] sm:max-h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-slate-700/80",children:[A.jsx("h2",{id:"proof-board-title",className:"text-xl sm:text-2xl md:text-3xl font-bold text-emerald-400",children:"💡 My Story Board"}),A.jsx("button",{onClick:e,disabled:a,className:"text-slate-400 hover:text-emerald-400 text-2xl sm:text-3xl font-light rounded-full p-1 leading-none hover:bg-slate-700/50 transition-colors disabled:opacity-50","aria-label":"Close story board",children:"×"})]}),A.jsx("p",{className:"text-slate-300 mb-3 sm:mb-4 text-xs sm:text-sm md:text-base leading-relaxed",children:"Tell your story here to help your friend! Say why they are good and not naughty. You can use Clue names (like Picture A)."}),A.jsx("textarea",{value:y,onChange:E=>p(E.target.value),placeholder:`For example:
1. The Rule Book (Clue C) says lines should be straight.
2. Picture B has some mixed-up numbers. If we fix them, the line is straight!
3. Picture A is a tricky drawing.
4. So, my friend Straighty the Line is good and straight!`,className:"w-full h-48 sm:h-56 md:h-60 p-2.5 sm:p-3 bg-slate-800/60 text-slate-100 border border-slate-600/70 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none shadow-inner text-xs sm:text-sm md:text-base leading-relaxed flex-grow backdrop-blur-sm",disabled:a,"aria-label":"Tell your story here"}),A.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col xs:flex-row justify-end space-y-2 xs:space-y-0 xs:space-x-3",children:[A.jsx("button",{onClick:e,disabled:a,className:"px-4 py-2 sm:px-5 sm:py-2.5 bg-slate-600/70 hover:bg-slate-500/70 text-white rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg border border-slate-500/60 text-xs sm:text-sm",children:"Cancel"}),A.jsx("button",{onClick:v,disabled:!y.trim()||a,className:"px-5 py-2 sm:px-6 sm:py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg flex items-center justify-center border border-emerald-500/80 text-xs sm:text-sm",children:a?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 sm:mr-3 sm:h-5 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Telling The Judge..."]}):"Tell The Judge!"})]}),c&&d&&A.jsx(ln,{tutorialId:j.PROOF_BOARD_MODAL_INTRO,isActive:c,targetSelector:"#proof-board-modal-content",title:"Tell Your Story",text:"This is your Story Board. Type why your friend is good. Use easy words and talk about the clues you found!",position:"center",onDismiss:d,highlightTarget:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:h,showSkipAllButton:!0,onSkipAll:g})]})})},Pa=({heading:n,subheading:e,compact:l=!1})=>A.jsxs("div",{className:`flex flex-col justify-center items-center ${l?"p-2 my-1":"p-4 sm:p-6 my-4"}`,"aria-live":"polite","aria-busy":"true",children:[A.jsx("div",{className:`${l?"w-8 h-8 border-2":"w-12 h-12 sm:w-16 sm:h-16 border-4"} border-dashed rounded-full animate-spin border-sky-500`,children:A.jsx("div",{className:`w-full h-full rounded-full border-dashed animate-spin-reverse border-sky-300 opacity-75 ${l?"border-2":"border-4"}`})}),A.jsx("p",{className:`font-semibold text-sky-300 tracking-wider text-center ${l?"mt-2 text-sm":"mt-3 sm:mt-4 text-base sm:text-lg md:text-xl"}`,children:n}),A.jsx("p",{className:`text-slate-400 text-center ${l?"text-xs":"text-xs sm:text-sm"}`,children:e})]}),jn=["irrelevant","not relevant","unrelated","doesn't apply","off-topic","doesn't address the point","fails to address","not pertinent"],xM=({caseData:n,onConcludeCase:e,apiKeyAvailable:l,isTutorialStepComplete:a,markTutorialStepAsComplete:c,allTutorialsSkipped:d,currentLevel:h,onSkipAll:g})=>{const[y,p]=Y.useState(se.TRIAL_INTRO),[v,E]=Y.useState([]),[S,R]=Y.useState(!1),[I,V]=Y.useState(null),[k,X]=Y.useState(!1),[z,F]=Y.useState(null),[Q,H]=Y.useState(!1),[te,re]=Y.useState(""),[ne,ie]=Y.useState(!1),[W,oe]=Y.useState(!1),[Se,De]=Y.useState(0),[Ae,he]=Y.useState(n.caseDurationMinutes*60),L=Y.useRef(null),[K,de]=Y.useState(new Set),be=Y.useRef(e),x=Y.useRef(null),B=Y.useRef(y),$=Y.useRef(a),O=Y.useRef(null),ee=Y.useRef(p),Me=Y.useCallback((ae,ve)=>{E(ye=>[...ye,{speaker:ae,text:ve,timestamp:Date.now()}]),V(ae)},[]);Y.useEffect(()=>{x.current=Me},[Me]),Y.useEffect(()=>{be.current=e},[e]),Y.useEffect(()=>{B.current=y},[y]),Y.useEffect(()=>{$.current=a},[a]),Y.useEffect(()=>{ee.current=p},[p]);const ce=Y.useCallback((ae,ve)=>{de(ye=>{const $e=new Set(ye);return ve?$e.add(ae):$e.delete(ae),$e})},[]),Le=Y.useCallback(ae=>h===1&&!d&&!a(ae),[h,d,a]);Y.useEffect(()=>{O.current=Le},[Le]);const Ce=ae=>new Promise(ve=>setTimeout(ve,ae));Y.useEffect(()=>{he(n.caseDurationMinutes*60)},[n.caseDurationMinutes,n.id]),Y.useEffect(()=>{const ae=(y===se.PLAYER_ACTION||y===se.PLAYER_OBJECTION_INPUT)&&!S;if(K.size>0){L.current&&(clearInterval(L.current),L.current=null);return}return ae&&Ae>0?L.current||(L.current=window.setInterval(()=>{he(ve=>{var ye;return ve<=1?(L.current&&clearInterval(L.current),L.current=null,B.current!==se.VERDICT&&((ye=x.current)==null||ye.call(x,J.NARRATOR,"Oh no! Time's up!"),be.current("The Judge says time ran out! Better luck next time!","timeup")),0):ve-1})},1e3)):L.current&&(clearInterval(L.current),L.current=null),()=>{L.current&&(clearInterval(L.current),L.current=null)}},[y,S,Ae,K]),Y.useEffect(()=>{const ae=y===se.PLAYER_ACTION&&l&&!S;De(ve=>ae&&ve%2===0||!ae&&ve%2===1?ve+1:ve)},[y,l,S]);const Z=Y.useRef(!1);Y.useEffect(()=>{(async()=>{var ve,ye,$e,He,gt,ot,Oe;if(!(y!==se.TRIAL_INTRO||!l||Z.current)){if(Z.current=!0,!l&&v.length===0){(ve=x.current)==null||ve.call(x,J.NARRATOR,fu+" The game can't fully work like this. Some characters can't talk!"),Z.current=!1;return}if((ye=O.current)!=null&&ye.call(O,j.COURTROOM_WELCOME)){Z.current=!1;return}if(v.filter(je=>je.speaker===J.NARRATOR&&je.text.startsWith("Let's start the game")).length===0&&(($e=x.current)==null||$e.call(x,J.NARRATOR,`Let's start the game for: ${n.title}! The ${J.JUDGE} is here to listen.`),await Ce(1200)),(He=O.current)!=null&&He.call(O,j.COURTROOM_CHARACTERS)){Z.current=!1;return}if(v.filter(je=>je.speaker===J.JUDGE&&je.text.includes("you can start.")).length===0&&((gt=x.current)==null||gt.call(x,J.JUDGE,`Okay everyone, quiet please! We're going to talk about ${n.clientName}. ${J.PROSECUTOR}, you can start.`),await Ce(1800)),(ot=O.current)!=null&&ot.call(O,j.COURTROOM_DIALOGUE_BOX)){Z.current=!1;return}if($.current(j.COURTROOM_DIALOGUE_BOX)&&((Oe=O.current)!=null&&Oe.call(O,j.COURTROOM_TIMER_INTRO))){Z.current=!1;return}ee.current(se.PROSECUTOR_ARGUMENT)}})()},[y,n.title,n.clientName,l,a,Le,v.length]),Y.useEffect(()=>{y!==se.TRIAL_INTRO&&(Z.current=!1)},[y]),Y.useEffect(()=>{var ye,$e,He,gt;if(((ye=O.current)==null?void 0:ye.call(O,j.COURTROOM_WELCOME))||(($e=O.current)==null?void 0:$e.call(O,j.COURTROOM_CHARACTERS))&&$.current(j.COURTROOM_WELCOME)||((He=O.current)==null?void 0:He.call(O,j.COURTROOM_DIALOGUE_BOX))&&$.current(j.COURTROOM_CHARACTERS)||((gt=O.current)==null?void 0:gt.call(O,j.COURTROOM_TIMER_INTRO))&&$.current(j.COURTROOM_DIALOGUE_BOX))return;(async()=>{var ot;if(y===se.PROSECUTOR_ARGUMENT&&l){R(!0),V(J.PROSECUTOR);const Oe=v.filter(Te=>Te.speaker===J.PROSECUTOR).length===0;let je="The player is waiting for your next argument or reaction.";const zt=v.slice(-4),bt=zt.find(Te=>Te.speaker===J.DEFENSE_PLAYER&&(Te.text.toLowerCase().startsWith("judge, here's why my friend is good:")||Te.text.toLowerCase().startsWith("wait, judge!"))),St=zt.find(Te=>Te.speaker===J.JUDGE),Fe=zt.find(Te=>Te.speaker===J.NARRATOR&&(Te.text.includes("Judge found your argument irrelevant")||Te.text.includes("Judge found issues with your mathematical reasoning")||Te.text.includes("Judge didn't find your objection strong enough")));if(bt&&St&&Fe){const Te=bt.text.substring(bt.text.indexOf(":")+1).trim();Fe.text.includes("irrelevant")?je=`The Defense Counsel just made an argument that the Judge found completely irrelevant! They said: "${Te.substring(0,Math.min(70,Te.length))}...". What's your take on their irrelevant distraction, Prosecutor? Press your advantage and reiterate the mathematical facts of the case!`:Fe.text.includes("issues with your mathematical reasoning")?je=`The Defense Counsel just made a mathematically flawed argument! The Judge pointed out issues. They said: "${Te.substring(0,Math.min(70,Te.length))}...". Prosecutor, emphasize their error and strengthen your case based on correct mathematics!`:Fe.text.includes("Judge didn't find your objection strong enough")&&(je=`The Defense Counsel just made an objection which the Judge did not find strong enough to alter the course of the trial. They said: "${Te.substring(0,Math.min(70,Te.length))}...". Prosecutor, continue with your argument, re-emphasizing the mathematical facts.`)}const ut=Oe?n.initialProsecutionArgument:await gM(n,je,v.map(Te=>`${Te.speaker}: ${Te.text}`).join(`
`));(ot=x.current)==null||ot.call(x,J.PROSECUTOR,ut),R(!1),await Ce(1e3),ee.current(se.CO_COUNSEL_ADVICE)}})()},[y,n,l,v]),Y.useEffect(()=>{var ye,$e,He,gt;if(((ye=O.current)==null?void 0:ye.call(O,j.COURTROOM_WELCOME))||(($e=O.current)==null?void 0:$e.call(O,j.COURTROOM_CHARACTERS))&&$.current(j.COURTROOM_WELCOME)||((He=O.current)==null?void 0:He.call(O,j.COURTROOM_DIALOGUE_BOX))&&$.current(j.COURTROOM_CHARACTERS)||((gt=O.current)==null?void 0:gt.call(O,j.COURTROOM_TIMER_INTRO))&&$.current(j.COURTROOM_DIALOGUE_BOX))return;(async()=>{var ot;if(y===se.CO_COUNSEL_ADVICE&&l){R(!0),V(J.CO_COUNSEL);const Oe=v.filter(at=>at.speaker===J.PROSECUTOR),je=Oe.length>0?Oe[Oe.length-1].text:"The Silly Prosecutor just said something.",zt=v.filter(at=>at.speaker===J.CO_COUNSEL).length===0;let bt=`The ${J.PROSECUTOR} said: "${je}". What should we do, Super Helper?`;const St=v.slice(-5),Fe=St.find(at=>at.speaker===J.DEFENSE_PLAYER&&(at.text.toLowerCase().startsWith("judge, here's why my friend is good:")||at.text.toLowerCase().startsWith("wait, judge!"))),ut=St.find(at=>at.speaker===J.JUDGE),Te=Oe.length>0&&(Oe[Oe.length-1].text.toLowerCase().includes("irrelevant")||Oe[Oe.length-1].text.toLowerCase().includes("distraction")||Oe[Oe.length-1].text.toLowerCase().includes("flawed")||Oe[Oe.length-1].text.toLowerCase().includes("incorrect")||Oe[Oe.length-1].text.toLowerCase().includes("failed attempt"));Fe&&ut&&Te&&(ut.text.toLowerCase().includes("irrelevant")?bt=`Captain, your last argument was found irrelevant by the Judge, and the Prosecutor is capitalizing on it. The Prosecutor just said: "${je}". We *must* get back on track! What's a focused, *relevant* mathematical point we can make about "${n.accusation}" using concepts like ${n.keyConcepts.join(", ")}?`:bt=`Captain, the Judge found issues with our last mathematical argument (or it wasn't strong enough), and the Prosecutor is pouncing on it: "${je}". Let's carefully review the math for "${n.accusation}" related to ${n.keyConcepts.join(", ")}. Where could the error be, or how can we make a stronger point?`);const cn=zt?n.initialCoCounselHint:await yM(n,bt,v.map(at=>`${at.speaker}: ${at.text}`).join(`
`));(ot=x.current)==null||ot.call(x,J.CO_COUNSEL,cn),R(!1),await Ce(1e3),ee.current(se.PLAYER_ACTION),V(null)}})()},[y,n,l,v]),Y.useEffect(()=>{vM()},[n.id]);const Ze=ae=>{var ve,ye;switch(ae){case"evidence_terminal":X(!0),n.evidence.length>0&&!z&&F(n.evidence[0].id),(ve=O.current)!=null&&ve.call(O,j.EVIDENCE_MODAL_INTRO)&&ie(!0);break;case"proof_board":H(!0),(ye=O.current)!=null&&ye.call(O,j.PROOF_BOARD_MODAL_INTRO)&&oe(!0);break;case"objection_system":p(se.PLAYER_OBJECTION_INPUT);break}},Xe=async()=>{var St,Fe,ut,Te,cn,at,nt;if(!te.trim()||!l)return;(St=O.current)!=null&&St.call(O,j.COURTROOM_OBJECTION_INPUT)&&c(j.COURTROOM_OBJECTION_INPUT),(Fe=x.current)==null||Fe.call(x,J.DEFENSE_PLAYER,`Wait, Judge! ${te}`),R(!0),V(J.JUDGE);const ae=te;re("");const ve=v.filter(Ye=>Ye.speaker===J.PROSECUTOR),ye=ve.length>0?ve[ve.length-1].text:"what the Silly Prosecutor just said",$e=await Xp(n,ae,`The Defense Counsel objects to "${ye}" with the reason: "${ae}"`,h);(ut=x.current)==null||ut.call(x,J.JUDGE,$e),await Ce(1500);const He=$e.toLowerCase(),gt=["sound mathematical argument","application is correct","that explains it","that is correct","proves the point","valid reasoning","accurately identifies","well argued","convincing","successfully demonstrates","i agree","persuasive","clearly shows","evidence supports this","mathematically sound and relevant","decisive point"],ot=["not sure","doesn't help","not quite","confusing","doesn't make sense","still not clear","incorrect","flaw","fails to demonstrate","misses the point","mathematically unsound","not convinced","insufficient","error in reasoning","overruled","i don't see the issue","prosecutor may continue","not relevant here"];let Oe=!1;for(const Ye of gt)if(He.includes(Ye)&&!jn.some(bn=>He.includes(bn))&&!ot.some(bn=>He.includes(bn))){Oe=!0;break}if(gt.some(Ye=>He.includes(Ye))&&(!jn.some(Ye=>He.includes(Ye))&&!ot.some(Ye=>He.includes(Ye))&&(Oe=!0),(He.includes("overruled")||He.includes("not relevant here")||jn.some(Ye=>He.includes(Ye)))&&(Oe=!1)),Oe){(Te=x.current)==null||Te.call(x,J.JUDGE,`This objection is so compelling, it clarifies the entire matter! ${n.innocentVerdictIfPlayerSucceeds}`),await Ce(1200),(cn=x.current)==null||cn.call(x,J.NARRATOR,"Incredible! Your sharp objection has won the case!"),R(!1),V(null),ee.current(se.VERDICT),await Ce(1e3),be.current(n.innocentVerdictIfPlayerSucceeds,"normal");return}const je=["sustained","you have a point","that's a fair objection","i agree with the defense","point taken"],zt=["overruled","i don't see the issue","prosecutor may continue","not relevant here","disagree"];let bt=!1;je.some(Ye=>He.includes(Ye))&&!zt.some(Ye=>He.includes(Ye))&&!jn.some(Ye=>He.includes(Ye))&&(bt=!0),R(!1),V(null),await Ce(1e3),bt?((at=x.current)==null||at.call(x,J.NARRATOR,"Your objection was noted and makes a good point! It's your turn to act again."),ee.current(se.PLAYER_ACTION)):((nt=x.current)==null||nt.call(x,J.NARRATOR,"The Judge didn't find your objection strong enough to change the course. The Prosecutor continues."),ee.current(se.PROSECUTOR_ARGUMENT))},Et=async ae=>{var je,zt,bt,St,Fe,ut,Te,cn,at;if((je=O.current)!=null&&je.call(O,j.PROOF_BOARD_MODAL_INTRO)&&c(j.PROOF_BOARD_MODAL_INTRO),(zt=x.current)==null||zt.call(x,J.DEFENSE_PLAYER,`Judge, here's why my friend is good: ${ae}`),H(!1),R(!0),V(J.JUDGE),!l){(bt=x.current)==null||bt.call(x,J.JUDGE,"About your story: Because of a sleepy computer, I can't decide for sure. But you tried your best!"),R(!1),V(null),(St=x.current)==null||St.call(x,J.NARRATOR,"The Judge is having trouble hearing due to a technical issue. Please try presenting your argument again when the connection is restored."),ee.current(se.PLAYER_ACTION);return}const ve=await Xp(n,ae,"You (The Hero) are telling the final story to help your friend.",h);(Fe=x.current)==null||Fe.call(x,J.JUDGE,`About your story: ${ve}`),await Ce(2200);const ye=ve.toLowerCase();let $e=!1,He=!1,gt=!1;const ot=["not sure","doesn't help","not quite","confusing","doesn't make sense","still not clear","incorrect","flaw","fails to demonstrate","misses the point","mathematically unsound","not convinced","insufficient","error in reasoning"],Oe=["sound mathematical argument","application is correct","that explains it","that is correct","proves the point","valid reasoning","accurately identifies","well argued","convincing","successfully demonstrates","i agree","persuasive","clearly shows","evidence supports this","mathematically sound and relevant"];for(const nt of Oe)if(ye.includes(nt)&&!jn.some(Ye=>ye.includes(Ye))&&!ot.some(Ye=>ye.includes(Ye))){$e=!0;break}if(Oe.some(nt=>ye.includes(nt))&&(!jn.some(nt=>ye.includes(nt))&&!ot.some(nt=>ye.includes(nt))&&($e=!0),jn.some(nt=>ye.includes(nt))&&($e=!1)),$e){const nt=n.innocentVerdictIfPlayerSucceeds;(ut=x.current)==null||ut.call(x,J.JUDGE,`Okay, I've thought about it... ${nt}`),R(!1),ee.current(se.VERDICT),V(null),await Ce(2e3),be.current(nt,"normal");return}for(const nt of jn)if(ye.includes(nt)){He=!0;break}if(He){(Te=x.current)==null||Te.call(x,J.NARRATOR,"The Judge found your argument irrelevant to the case! The Silly Prosecutor gets another chance to speak. Try to make your next argument directly answer the accusation about the math!"),R(!1),V(null),await Ce(2500),ee.current(se.PROSECUTOR_ARGUMENT);return}for(const nt of ot)if(ye.includes(nt)){gt=!0;break}if(gt){(cn=x.current)==null||cn.call(x,J.NARRATOR,"The Judge found issues with your mathematical reasoning. The Silly Prosecutor will respond. Try to address the mathematical error or explain your point more clearly!"),R(!1),V(null),await Ce(2500),ee.current(se.PROSECUTOR_ARGUMENT);return}(at=x.current)==null||at.call(x,J.NARRATOR,"The Judge seems unconvinced by your argument or needs more clarity. The Silly Prosecutor gets to speak. Try to refine your mathematical explanation or present a stronger point!"),R(!1),V(null),await Ce(2500),ee.current(se.PROSECUTOR_ARGUMENT)};wm.map(ae=>({id:ae.tutorialId,target:`[data-tool-id="${ae.id}"]`,text:`Use the ${ae.name} ${ae.icon} to ${ae.description.toLowerCase().replace(".","")}.`})).find(ae=>Le(ae.id));const Nt=ae=>{const ve=Math.floor(ae/60),ye=ae%60;return`${ve}:${ye<10?"0":""}${ye}`};return A.jsxs("div",{className:"courtroom-gradient-bg flex-grow flex flex-col p-2 sm:p-3 relative w-full overflow-hidden",children:[A.jsx("div",{id:"timer-display-area","data-tutorial-target-id":"courtroom-timer",className:"absolute top-2 right-2 sm:top-3 sm:right-4 glassmorphic-surface p-1.5 sm:p-2.5 rounded-lg shadow-xl border border-amber-500/50 z-10",children:A.jsx("p",{className:"text-amber-300 text-base sm:text-xl md:text-2xl font-bold tracking-wider tabular-nums",children:Nt(Ae)})}),A.jsxs("div",{id:"character-display-area",className:"grid grid-cols-4 gap-1 sm:gap-2 md:gap-3 mb-1 sm:mb-2 mt-1 sm:mt-0",children:[A.jsx(Ia,{role:J.JUDGE,isSpeaking:I===J.JUDGE}),A.jsx(Ia,{role:J.PROSECUTOR,isSpeaking:I===J.PROSECUTOR}),A.jsx(Ia,{role:J.CO_COUNSEL,isSpeaking:I===J.CO_COUNSEL}),A.jsx(Ia,{role:J.CLIENT,isSpeaking:I===J.CLIENT})]}),A.jsx("div",{id:"dialogue-box-area",className:"mb-2 sm:mb-3 flex-grow min-h-0",children:A.jsx(CM,{dialogues:v,currentSpeaker:I})}),S&&A.jsx("div",{className:"py-2",children:A.jsx(Pa,{heading:"Deliberating...",subheading:"The court is processing the information.",compact:!0})}),!S&&l&&(y===se.PLAYER_ACTION||y===se.PLAYER_OBJECTION_INPUT)&&A.jsxs("div",{id:"player-actions-area","data-tutorial-target-id":"player-actions-area",className:"glassmorphic-surface p-2 sm:p-3 md:p-4 rounded-xl shadow-lg border border-slate-700/60",children:[A.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-semibold text-emerald-400 mb-2 sm:mb-3 text-center",children:"Your Turn!"}),y===se.PLAYER_ACTION&&A.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:wm.map(ae=>A.jsxs("button",{"data-tool-id":ae.id,onClick:()=>Ze(ae.id),className:"w-full bg-sky-600/50 hover:bg-sky-500/60 backdrop-blur-sm text-white font-semibold py-2 sm:py-2.5 px-3 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 flex items-center justify-center space-x-1.5 sm:space-x-2 text-xs sm:text-sm md:text-base border border-sky-500/70",title:ae.description,disabled:S,children:[A.jsx("span",{className:"text-base sm:text-lg",children:ae.icon}),A.jsx("span",{children:ae.name})]},ae.id))}),y===se.PLAYER_OBJECTION_INPUT&&A.jsxs("div",{className:"flex flex-col items-center space-y-2.5 sm:space-y-3",children:[A.jsx("textarea",{id:"objection-textarea","data-tutorial-target-id":"objection-textarea",value:te,onChange:ae=>re(ae.target.value),placeholder:"State your objection clearly... (focus on the math!)",className:"w-full max-w-xl p-2 sm:p-2.5 bg-slate-800/70 text-slate-100 border border-slate-600/80 rounded-lg focus:ring-2 focus:ring-amber-500 shadow-inner backdrop-blur-sm text-xs sm:text-sm",rows:3,"aria-label":"State your objection",disabled:S}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full max-w-xl justify-center sm:justify-end",children:[A.jsx("button",{onClick:()=>{p(se.PLAYER_ACTION)},disabled:S,className:"bg-slate-600/70 hover:bg-slate-500/70 text-white font-semibold py-2 px-4 sm:py-2.5 sm:px-5 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg disabled:opacity-50 border border-slate-500/60 text-xs sm:text-sm","aria-label":"Cancel objection",children:"Never Mind"}),A.jsx("button",{onClick:Xe,disabled:!te.trim()||S,className:"bg-red-600/70 hover:bg-red-500/70 text-white font-bold py-2 px-4 sm:py-2.5 sm:px-5 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg border border-red-500/60 text-xs sm:text-sm",children:"Object!"})]})]})]}),!l&&!S&&A.jsxs("div",{className:"glassmorphic-surface bg-red-800/30 p-3 sm:p-4 rounded-lg shadow-xl border border-red-600/50 text-center",children:[A.jsx("p",{className:"text-lg sm:text-xl font-semibold text-red-300 mb-2",children:fu}),A.jsx("p",{className:"text-slate-200 text-sm sm:text-base mb-3",children:"The AI characters can't participate without the API Key. Please notify an administrator."}),A.jsx("button",{onClick:()=>be.current("Game Over - API Key missing.","normal"),className:"mt-2 bg-amber-500/70 hover:bg-amber-600/70 text-slate-900 font-bold py-2 sm:py-2.5 px-4 sm:px-5 rounded-lg shadow-md hover:shadow-lg transition-colors border border-amber-400/60 text-sm sm:text-base",children:"End Game"})]}),h===1&&!d&&A.jsxs(A.Fragment,{children:[Le(j.COURTROOM_WELCOME)&&y===se.TRIAL_INTRO&&v.length===0&&A.jsx(ln,{tutorialId:j.COURTROOM_WELCOME,isActive:!0,targetSelector:()=>document.querySelector(".courtroom-gradient-bg"),title:"Welcome to the Courtroom!",text:"The game is starting! Listen to what everyone says and look at the clues.",position:"center",onDismiss:()=>c(j.COURTROOM_WELCOME),onSkipAll:g,showSkipAllButton:!0,highlightTarget:!1,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce}),Le(j.COURTROOM_CHARACTERS)&&y===se.TRIAL_INTRO&&v.some(ae=>ae.speaker===J.NARRATOR&&ae.text.startsWith("Let's start the game"))&&A.jsx(ln,{tutorialId:j.COURTROOM_CHARACTERS,isActive:!0,targetSelector:"#character-display-area",title:"Who's Who?",text:"These are the characters. The one talking will light up!",position:"bottom",onDismiss:()=>c(j.COURTROOM_CHARACTERS),onSkipAll:g,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),Le(j.COURTROOM_DIALOGUE_BOX)&&y===se.TRIAL_INTRO&&v.some(ae=>ae.speaker===J.JUDGE&&ae.text.includes("you can start."))&&A.jsx(ln,{tutorialId:j.COURTROOM_DIALOGUE_BOX,isActive:!0,targetSelector:"#dialogue-box-area",title:"Talking Box!",text:"Everyone's words show up here. Read what they say!",position:"top",onDismiss:()=>c(j.COURTROOM_DIALOGUE_BOX),onSkipAll:g,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),Le(j.COURTROOM_TIMER_INTRO)&&y===se.TRIAL_INTRO&&a(j.COURTROOM_DIALOGUE_BOX)&&A.jsx(ln,{tutorialId:j.COURTROOM_TIMER_INTRO,isActive:!0,targetSelector:"#timer-display-area",title:"Time is Ticking!",text:"Watch the timer! You need to solve the case before it runs out. It starts when it's your turn!",position:"center",onDismiss:()=>c(j.COURTROOM_TIMER_INTRO),onSkipAll:g,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),Se>=3&&Le(j.COURTROOM_PLAYER_ACTIONS_INTRO)&&y===se.PLAYER_ACTION&&a(j.COURTROOM_TIMER_INTRO)&&A.jsx(ln,{tutorialId:j.COURTROOM_PLAYER_ACTIONS_INTRO,isActive:!0,targetSelector:"[data-tutorial-target-id='player-actions-area']",title:"Your Turn!",text:"Now it's your turn! Use the buttons below.",position:"top",onDismiss:()=>c(j.COURTROOM_PLAYER_ACTIONS_INTRO),onSkipAll:g,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),Le(j.COURTROOM_OBJECTION_INPUT)&&y===se.PLAYER_OBJECTION_INPUT&&A.jsx(ln,{tutorialId:j.COURTROOM_OBJECTION_INPUT,isActive:!0,targetSelector:"[data-tutorial-target-id='objection-textarea']",title:"Say 'Wait a Minute!'",text:"Type why you think the Silly Prosecutor is wrong. Use easy words!",position:"top",onDismiss:()=>c(j.COURTROOM_OBJECTION_INPUT),onSkipAll:g,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0})]}),A.jsx(EM,{isOpen:k,onClose:()=>{X(!1),ie(!1)},evidenceList:n.evidence,selectedEvidenceId:z,onSelectEvidence:F,apiKeyAvailable:l,showTutorial:ne&&Le(j.EVIDENCE_MODAL_INTRO),onDismissTutorial:()=>{c(j.EVIDENCE_MODAL_INTRO),ie(!1)},onTutorialVisibilityChange:ce,onSkipAllTutorials:g}),A.jsx(SM,{isOpen:Q,onClose:()=>{H(!1),oe(!1)},onSubmitProof:Et,isLoading:S,showTutorial:W&&Le(j.PROOF_BOARD_MODAL_INTRO),onDismissTutorial:()=>{c(j.PROOF_BOARD_MODAL_INTRO),oe(!1)},onTutorialVisibilityChange:ce,onSkipAllTutorials:g})]})},cu=({currentLevel:n,onToggleLearningsModal:e,showLearningsTutorial:l,onDismissLearningsTutorial:a,learningsCount:c,currentUser:d,onLogout:h,onHeaderAuthAction:g})=>A.jsxs("header",{className:"py-2 px-4 sm:py-3 sm:px-6 bg-slate-900/70 backdrop-blur-md shadow-lg border-b border-slate-700/50 sticky top-0 z-40 glassmorphic-surface",children:[A.jsxs("div",{className:"flex flex-row items-center justify-between w-full gap-3",children:[A.jsx("h1",{className:"text-lg sm:text-2xl md:text-3xl font-extrabold tracking-tight text-left truncate min-w-0",children:A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-violet-500",children:"Algebradiction"})}),A.jsxs("div",{className:"flex flex-row items-center flex-shrink-0 space-x-2 sm:space-x-3 md:space-x-4",children:[d&&A.jsxs(A.Fragment,{children:[A.jsxs("button",{id:"my-learnings-button",onClick:e,className:`w-auto px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1 sm:space-x-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 glassmorphic-surface hover:bg-slate-700/60 ${c>0?"border-sky-500/70 text-sky-300 hover:shadow-sky-500/30":"border-slate-600/80 text-slate-300 hover:shadow-slate-500/20"} shadow-md hover:shadow-lg`,"aria-label":"Open my learnings",children:[A.jsx("span",{role:"img","aria-hidden":"true",className:"text-base sm:text-lg",children:"📖"}),A.jsx("span",{className:"hidden sm:inline ml-1",children:"Learnings"})]}),A.jsxs("div",{className:"text-right",children:[A.jsxs("p",{className:"text-xs text-slate-400 truncate max-w-[80px] sm:max-w-[180px] md:max-w-none",children:[A.jsx("span",{className:"hidden sm:inline",children:"Welcome, "}),d,"!"]}),A.jsxs("p",{className:"text-sm sm:text-base font-bold text-amber-400",children:["Level: ",n]})]}),A.jsxs("button",{onClick:h,className:"w-auto p-2 sm:px-3 sm:py-2 bg-red-600/70 backdrop-blur-sm hover:bg-red-500/70 text-white rounded-lg text-xs sm:text-sm font-semibold transition-colors duration-200 shadow-md hover:shadow-lg border border-red-500/50 flex items-center justify-center","aria-label":"Logout",children:[A.jsx("span",{className:"hidden sm:inline",children:"Logout"}),A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:hidden",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]})]}),!d&&A.jsx("button",{onClick:g,className:"w-auto px-2 py-1 sm:px-3 sm:py-2 bg-violet-600/70 backdrop-blur-sm hover:bg-violet-500/70 text-white rounded-lg text-xs sm:text-base font-semibold transition-colors duration-200 shadow-md hover:shadow-lg border border-violet-500/50 whitespace-nowrap",children:"Login / Sign Up"})]})]}),d&&l&&A.jsx(ln,{tutorialId:j.HEADER_MY_LEARNINGS,isActive:!0,targetSelector:"#my-learnings-button",title:"Your Knowledge Book!",text:"This is your 'My Learnings' book. After winning a case, new things you've learned about math will show up here. Click it to see what you know!",position:"bottom-right",onDismiss:a,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",highlightTarget:!0})]}),_M=({isOpen:n,onClose:e,learnings:l})=>{const[a,c]=Y.useState({});if(!n)return null;const d=y=>{c(p=>({...p,[y]:!p[y]}))},h=l.reduce((y,p)=>(y[p.level]||(y[p.level]=[]),y[p.level].push(p),y),{}),g=Object.keys(h).map(Number).sort((y,p)=>y-p);for(const y in h)h[y].sort((p,v)=>p.timestamp-v.timestamp);return A.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50 transition-opacity duration-300 ease-in-out animate-fadeIn",role:"dialog","aria-modal":"true","aria-labelledby":"learnings-modal-title",onClick:e,children:A.jsxs("div",{className:"glassmorphic-surface p-4 sm:p-5 md:p-6 rounded-xl shadow-2xl max-w-xl w-full max-h-[95vh] sm:max-h-[85vh] flex flex-col border border-sky-500/50",onClick:y=>y.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-slate-700/80",children:[A.jsx("h2",{id:"learnings-modal-title",className:"text-xl sm:text-2xl md:text-3xl font-bold text-sky-400",children:"📖 My Learnings"}),A.jsx("button",{onClick:e,className:"text-slate-400 hover:text-sky-400 text-2xl sm:text-3xl font-light rounded-full p-1 leading-none hover:bg-slate-700/50 transition-colors","aria-label":"Close my learnings",children:"×"})]}),A.jsx("div",{className:"flex-grow overflow-y-auto pr-1 sm:pr-2 space-y-2.5 sm:space-y-3",children:l.length===0?A.jsx("p",{className:"text-slate-400 text-center py-8 sm:py-10 text-sm sm:text-base",children:"Your knowledge book is empty for now. Win cases to fill it with amazing math learnings!"}):g.map(y=>A.jsxs("div",{className:"border border-slate-700/70 rounded-lg overflow-hidden bg-slate-800/40 backdrop-blur-sm",children:[A.jsxs("button",{onClick:()=>d(y),className:"w-full flex justify-between items-center p-2.5 sm:p-3 bg-slate-700/50 hover:bg-slate-600/60 transition-colors text-left focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 focus:ring-offset-slate-800","aria-expanded":!!a[y],"aria-controls":`learnings-level-${y}`,children:[A.jsxs("span",{className:"font-semibold text-base sm:text-lg text-sky-300",children:["Level ",y," Learnings"]}),A.jsx("span",{className:`transform transition-transform duration-200 text-sky-400 text-xl sm:text-2xl ${a[y]?"rotate-180":"rotate-0"}`,children:"▼"})]}),a[y]&&A.jsx("div",{id:`learnings-level-${y}`,className:"p-2.5 sm:p-3 bg-slate-800/30",children:A.jsx("ul",{className:"list-disc list-inside space-y-1.5 sm:space-y-2 text-slate-300",children:h[y].map((p,v)=>A.jsxs("li",{className:"pl-1 sm:pl-2 leading-relaxed text-xs sm:text-sm md:text-base",children:[p.text,A.jsxs("p",{className:"text-[10px] xs:text-xs text-slate-500 ml-3 sm:ml-4",children:["Learned on: ",new Date(p.timestamp).toLocaleDateString()]})]},`${y}-${v}-${p.timestamp}`))})})]},y))}),A.jsx("button",{onClick:e,className:"mt-4 sm:mt-6 w-full sm:w-auto self-center bg-sky-600 hover:bg-sky-700/90 text-white font-semibold py-2 sm:py-2.5 px-5 sm:px-6 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 focus:ring-offset-slate-800 border border-sky-500/70 text-sm sm:text-base",children:"Close"})]})})},AM=()=>{const[n,e]=Y.useState(null),[l,a]=Y.useState(se.AUTH),[c,d]=Y.useState("login"),[h,g]=Y.useState(null),[y,p]=Y.useState(null),[v,E]=Y.useState(!0),[S,R]=Y.useState(!1),[I,V]=Y.useState(!1),[k,X]=Y.useState(1),[z,F]=Y.useState(null),[Q,H]=Y.useState(null),[te,re]=Y.useState(new Set),[ne,ie]=Y.useState(!1),[W,oe]=Y.useState([]),[Se,De]=Y.useState(!1);Y.useEffect(()=>{E(!0);const Z=localStorage.getItem(fo);Z?JSON.parse(localStorage.getItem(Da)||"{}")[Z]?e(Z):(localStorage.removeItem(fo),e(null),a(se.AUTH),d("login")):(e(null),a(se.AUTH),d("login"))},[]),Y.useEffect(()=>{if(n){H(null);const Z=Ct(ru,n),Ze=localStorage.getItem(Z);X(Ze?parseInt(Ze,10):1);const Xe=Ct(su,n),Et=localStorage.getItem(Xe);if(Et)try{const ve=JSON.parse(Et);Array.isArray(ve)&&(ve.length===0||typeof ve[0]=="object"&&"level"in ve[0])?oe(ve):(localStorage.removeItem(Xe),oe([]))}catch{localStorage.removeItem(Xe),oe([])}else oe([]);const Rt=Ct(ba,n),Nt=localStorage.getItem(Rt);if(Nt)try{re(new Set(JSON.parse(Nt)))}catch{localStorage.removeItem(Rt),re(new Set)}else re(new Set);const ae=Ct(au,n);ie(localStorage.getItem(ae)==="true"),l===se.AUTH&&a(se.GENERATING_CASE)}else X(1),oe([]),re(new Set),ie(!1),g(null),p(null),d("login"),l!==se.AUTH&&a(se.AUTH)},[n,l]);const Ae=Y.useCallback(Z=>{n&&re(Ze=>{const Xe=new Set(Ze);return Xe.add(Z),localStorage.setItem(Ct(ba,n),JSON.stringify(Array.from(Xe))),Xe})},[n]),he=Y.useCallback(()=>{if(!n)return;const Z=Object.values(j);re(new Set(Z)),localStorage.setItem(Ct(ba,n),JSON.stringify(Z)),localStorage.setItem(Ct(au,n),"true"),ie(!0)},[n]),L=Y.useCallback(Z=>!n||ne||k>1&&Z!==j.HEADER_MY_LEARNINGS||Z===j.HEADER_MY_LEARNINGS&&(ne||k>2&&te.has(Z))?!0:te.has(Z),[te,ne,k,n]);Y.useLayoutEffect(()=>{const Z=document.querySelector("header");Z&&document.documentElement.style.setProperty("--header-height",`${Z.offsetHeight}px`)},[l,n]);const K=Z=>Z<=ov?8:Z<=av?9:10,de=Y.useCallback(async Z=>{if(n){if(!v){F(fu+" Cannot generate new cases."),R(!1);return}R(!0),F(null);try{const Ze=K(Z),Xe=await hM(Z,Ze,n);g(Xe),p(null),a(se.CASE_BRIEFING)}catch(Ze){console.error("Failed to generate case:",Ze),F(`Oops! The case files got stuck. (${Ze instanceof Error?Ze.message:"Unknown error"}). Try refreshing?`),a(se.GENERATING_CASE)}finally{R(!1)}}},[v,n]);Y.useEffect(()=>{n&&l===se.GENERATING_CASE&&!S&&!h&&!z&&de(k)},[l,S,h,k,de,z,n]);const be=Y.useCallback(()=>{h&&n&&(k===1&&!ne&&!te.has(j.CASE_BRIEFING_PROCEED_BUTTON)&&Ae(j.CASE_BRIEFING_PROCEED_BUTTON),a(se.TRIAL_INTRO))},[h,Ae,ne,k,te,n]),x=Y.useCallback((Z,Ze)=>{if(!n)return;p(Z),a(se.VERDICT);const Xe=h&&Z===h.innocentVerdictIfPlayerSucceeds,Et=k;if(Ze!=="timeup"&&Xe&&h){const Rt=new Set;h.keyConcepts.forEach(ae=>{Rt.add(`Key Concept from "${h.title}": ${ae}.`)});const Nt=h.evidence.find(ae=>ae.isFlawed);Nt&&Nt.flawDescription&&Rt.add(`Understood from "${h.title}": ${Nt.flawDescription}`),oe(ae=>{const ve=[...ae];return Rt.forEach(ye=>{ve.some($e=>$e.level===Et&&$e.text===ye)||ve.push({level:Et,text:ye,timestamp:Date.now()})}),localStorage.setItem(Ct(su,n),JSON.stringify(ve)),ve})}Xe&&X(Rt=>{const Nt=Rt+1;return localStorage.setItem(Ct(ru,n),Nt.toString()),Nt})},[h,k,n]),B=()=>{n&&(g(null),p(null),a(se.GENERATING_CASE))},$=Y.useCallback(Z=>n?k===1&&!ne&&!te.has(Z):!1,[k,ne,te,n]),O=Y.useCallback(()=>n?k===2&&W.some(Z=>Z.level===1)&&!ne&&!te.has(j.HEADER_MY_LEARNINGS):!1,[k,W,ne,te,n]),ee=async(Z,Ze)=>{V(!0),H(null),await new Promise(Rt=>setTimeout(Rt,300));const Et=JSON.parse(localStorage.getItem(Da)||"{}")[Z];Et&&Et.passwordHash===Ze?(e(Z),localStorage.setItem(fo,Z)):H("Invalid username or password."),V(!1)},Me=async(Z,Ze)=>{V(!0),H(null),await new Promise(Et=>setTimeout(Et,300));let Xe=JSON.parse(localStorage.getItem(Da)||"{}");if(Xe[Z]){H("Username already exists. Please choose another or login."),V(!1);return}Xe[Z]={username:Z,passwordHash:Ze},localStorage.setItem(Da,JSON.stringify(Xe)),localStorage.setItem(Ct(ru,Z),"1"),localStorage.setItem(Ct(su,Z),JSON.stringify([])),localStorage.setItem(Ct(ba,Z),JSON.stringify([])),localStorage.setItem(Ct(au,Z),"false"),localStorage.setItem(Ct(Zp,Z),"0"),localStorage.setItem(Ct(Wp,Z),"0"),localStorage.setItem(Ct(jp,Z),"0"),e(Z),localStorage.setItem(fo,Z),V(!1)},ce=()=>{e(null),localStorage.removeItem(fo),a(se.AUTH),d("login")},Le=()=>{d(Z=>Z==="login"?"signup":"login"),H(null)},Ce=()=>{l!==se.AUTH?(a(se.AUTH),d("login"),H(null)):Le()};return l===se.AUTH&&n?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 p-4 text-center",children:A.jsx(Pa,{heading:"Loading Your Profile...",subheading:"Please wait."})}):l===se.AUTH&&!n?A.jsxs("div",{className:"flex flex-col flex-grow min-h-0 bg-slate-950 text-slate-200",children:[" ",A.jsx(cu,{currentLevel:k,onToggleLearningsModal:()=>De(Z=>!Z),showLearningsTutorial:!1,onDismissLearningsTutorial:()=>{},learningsCount:0,currentUser:null,onLogout:ce,onHeaderAuthAction:Ce}),A.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center w-full p-4 overflow-y-auto min-h-0",children:[" ",A.jsx(TM,{mode:c,onToggleMode:Le,onLogin:ee,onSignUp:Me,authError:Q,isLoading:I})]})]}):!n&&l!==se.AUTH?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 p-4 text-center",children:A.jsx(Pa,{heading:"Redirecting to Login...",subheading:"Please wait."})}):!v&&l===se.GENERATING_CASE&&z&&n?A.jsxs("div",{className:"flex flex-col flex-grow min-h-0 bg-slate-950 text-slate-200",children:[" ",A.jsx(cu,{currentLevel:k,onToggleLearningsModal:()=>De(Z=>!Z),showLearningsTutorial:O(),onDismissLearningsTutorial:()=>Ae(j.HEADER_MY_LEARNINGS),learningsCount:W.length,currentUser:n,onLogout:ce,onHeaderAuthAction:Ce}),A.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center w-full p-4 overflow-y-auto min-h-0",children:[" ",A.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center max-w-lg glassmorphic-surface rounded-xl border-red-500/50",children:[A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-red-400 mb-4",children:"Critical Error"}),A.jsx("p",{className:"text-lg sm:text-xl text-slate-200 mb-6",children:z}),A.jsx("p",{className:"text-sm sm:text-md text-slate-400",children:"Please ensure the API key is correctly configured and refresh the application."})]})]})]}):A.jsxs("div",{className:"flex flex-col flex-grow min-h-0 bg-slate-950 text-slate-200",children:[" ",A.jsx(cu,{currentLevel:k,onToggleLearningsModal:()=>De(Z=>!Z),showLearningsTutorial:O(),onDismissLearningsTutorial:()=>Ae(j.HEADER_MY_LEARNINGS),learningsCount:W.length,currentUser:n,onLogout:ce,onHeaderAuthAction:Ce}),A.jsxs("main",{className:"flex-grow flex flex-col w-full overflow-y-auto min-h-0",children:[" ",S&&l===se.GENERATING_CASE&&n&&A.jsxs("div",{className:"flex flex-col flex-grow items-center justify-center text-center p-4 sm:p-8",children:[A.jsx(Pa,{heading:`Summoning Case Files for Level ${k}...`,subheading:"The court clerk is searching diligently."}),z&&A.jsx("p",{className:"text-red-400 mt-4 text-sm",children:z})]}),!S&&l===se.GENERATING_CASE&&z&&n&&A.jsx("div",{className:"flex flex-col flex-grow items-center justify-center text-center p-4 sm:p-8",children:A.jsxs("div",{className:"glassmorphic-surface p-6 md:p-8 rounded-xl border-red-500/50",children:[A.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-red-400 mb-3",children:"Case Generation Error"}),A.jsx("p",{className:"text-slate-300 mb-4 max-w-md",children:z}),A.jsx("button",{onClick:()=>de(k),className:"bg-sky-600 hover:bg-sky-700/90 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md hover:shadow-lg transition-colors text-base border border-sky-500/70",children:"Try Again"})]})}),l===se.CASE_BRIEFING&&h&&!y&&n&&A.jsxs("div",{id:"case-briefing-panel",className:"w-full max-w-3xl mx-auto p-4 sm:p-6 md:p-8 glassmorphic-surface rounded-xl shadow-xl my-4 sm:my-6 animate-fadeIn border-violet-500/50",children:[A.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-violet-400 mb-2 text-center",children:['Case Briefing: "',h.title,'"']}),A.jsxs("p",{className:"text-xs sm:text-sm text-center text-slate-400 mb-4 sm:mb-6",children:["(Level ",k," - ",h.classLevel,")"]}),A.jsxs("div",{className:"space-y-3 sm:space-y-4 text-slate-200 text-sm sm:text-base",children:[A.jsxs("p",{children:[A.jsx("strong",{className:"text-sky-400 font-semibold",children:"Your Friend:"})," ",h.clientName," - ",h.clientDescription]}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-red-400 font-semibold",children:"The Problem:"})," ",h.accusation]}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-amber-400 font-semibold",children:"The Silly Prosecutor Says:"}),' "',h.initialProsecutionArgument,'"']}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-emerald-400 font-semibold",children:"Your Super Helper Suggests:"}),' "',h.initialCoCounselHint,'"']}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-violet-300 font-semibold",children:"Key Ideas to Think About:"})," ",h.keyConcepts.join(", "),"."]}),A.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 italic mt-3 text-center",children:["You'll have ",h.caseDurationMinutes," minute",h.caseDurationMinutes!==1?"s":""," to solve this once the trial starts!"]})]}),A.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:A.jsx("button",{id:"proceed-to-trial-button",onClick:be,className:"bg-violet-600 hover:bg-violet-700/90 text-white font-bold py-2.5 sm:py-3 px-6 sm:px-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 text-base sm:text-lg border border-violet-500/70",children:"Let's Go to Court!"})}),$(j.CASE_BRIEFING_INTRO)&&A.jsx(ln,{tutorialId:j.CASE_BRIEFING_INTRO,isActive:!0,targetSelector:"#case-briefing-panel",title:"Time for a New Case!",text:"Read all about your new case here. See who your friend is, what the Silly Prosecutor says, and get a hint from your Super Helper!",position:"center",onDismiss:()=>Ae(j.CASE_BRIEFING_INTRO),highlightTarget:!0,showSkipAllButton:!0,onSkipAll:he,overlayClassName:"bg-slate-950/70 backdrop-blur-lg"}),$(j.CASE_BRIEFING_PROCEED_BUTTON)&&te.has(j.CASE_BRIEFING_INTRO)&&A.jsx(ln,{tutorialId:j.CASE_BRIEFING_PROCEED_BUTTON,isActive:!0,targetSelector:"#proceed-to-trial-button",title:"Ready to Start?",text:"When you've read everything, click this button to go to the courtroom and help your friend!",position:"bottom",onDismiss:()=>Ae(j.CASE_BRIEFING_PROCEED_BUTTON),highlightTarget:!0,showSkipAllButton:!0,onSkipAll:he,overlayClassName:"bg-slate-950/70 backdrop-blur-lg"})]}),l!==se.AUTH&&l!==se.GENERATING_CASE&&l!==se.CASE_BRIEFING&&l!==se.VERDICT&&h&&n&&A.jsx(xM,{caseData:h,onConcludeCase:x,apiKeyAvailable:v,isTutorialStepComplete:L,markTutorialStepAsComplete:Ae,allTutorialsSkipped:ne,currentLevel:k,onSkipAll:he}),l===se.VERDICT&&y&&n&&A.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 sm:p-6 md:p-8 glassmorphic-surface rounded-xl shadow-2xl my-4 sm:my-8 text-center animate-fadeIn border-2 border-amber-500/60",children:[A.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-3 sm:mb-4",children:[A.jsx("span",{className:"text-amber-400",children:"Case "}),A.jsx("span",{className:"text-slate-100",children:"Closed!"})]}),A.jsx("div",{className:"my-4 sm:my-6 p-3 sm:p-4 bg-slate-800/60 backdrop-blur-sm rounded-lg shadow-inner border border-slate-700/50",children:A.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-amber-300 font-semibold",children:y})}),h&&y===h.innocentVerdictIfPlayerSucceeds&&A.jsx("p",{className:"text-emerald-400 text-md sm:text-lg mb-5 sm:mb-6 animate-pulse",children:"🎉 You did it! Your friend is safe! You leveled up! 🎉"}),h&&y!==h.innocentVerdictIfPlayerSucceeds&&A.jsxs("p",{className:"text-red-400 text-md sm:text-lg mb-5 sm:mb-6",children:["😢 Oh no! Better luck next time. You'll stay at Level ",k,"."]}),A.jsxs("button",{onClick:B,className:"bg-emerald-600 hover:bg-emerald-700/90 text-white font-bold py-2.5 sm:py-3 px-6 sm:px-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 text-base sm:text-lg border border-emerald-500/70",children:["Start Next Case (Level ",(h&&y===h.innocentVerdictIfPlayerSucceeds,k),")"]})]})]}),n&&A.jsx(_M,{isOpen:Se,onClose:()=>De(!1),learnings:W})]})},wh=document.getElementById("root");if(!wh)throw new Error("Could not find root element to mount to");const MM=nv.createRoot(wh);MM.render(A.jsx(Ky.StrictMode,{children:A.jsx(AM,{})}));
